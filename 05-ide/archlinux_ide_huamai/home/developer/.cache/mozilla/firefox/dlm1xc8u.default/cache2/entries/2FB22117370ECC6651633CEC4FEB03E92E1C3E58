!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("Avalon requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(){e.console&&avalon.config.debug&&Function.apply.call(console.log,console,arguments)}function r(){}function o(e,t){"string"==typeof e&&(e=e.match(Ie)||[]);for(var n={},r=void 0!==t?t:1,o=0,a=e.length;a>o;o++)n[e[o]]=r;return n}function i(){if(e.VBArray){var t=document.documentMode;return t?t:e.XMLHttpRequest?7:6}return 0}function s(e){return _e.test(je.call(e))}function l(e,t){return e=Math.floor(e)||0,0>e?Math.max(t+e,0):Math.min(e,t)}function c(e){if(!e)return!1;var t=e.length;if(t===t>>>0){var n=je.call(e).slice(8,-1);if(/(?:regexp|string|function|window|global)$/i.test(n))return!1;if("Array"===n)return!0;try{return{}.propertyIsEnumerable.call(e,"length")===!1?/^\s?function/.test(e.item||e.callee):!0}catch(r){return!e.window}}return!1}function u(e,t,n){var r="for(var "+e+"i=0,n = this.length; i < n; i++){"+t.replace("_","((i in this) && fn.call(scope,this[i],i,this))")+"}"+n;return Function("fn,scope",r)}function d(e,t){try{for(;t=t.parentNode;)if(t===e)return!0;return!1}catch(n){return!1}}function f(){return(new XMLSerializer).serializeToString(this)}function p(e,t){if(e&&e.childNodes)for(var n,r=e.childNodes,o=0;n=r[o++];)if(n.tagName){var a=xe.createElementNS(ot,n.tagName.toLowerCase());$e.forEach.call(n.attributes,function(e){a.setAttribute(e.name,e.value)}),p(n,a),t.appendChild(a)}}function h(e){var t={};for(var n in e)t[n]=e[n];var r=t.target=e.srcElement;if(0===e.type.indexOf("key"))t.which=null!=e.charCode?e.charCode:e.keyCode;else if(it.test(e.type)){var o=r.ownerDocument||xe,a="BackCompat"===o.compatMode?o.body:o.documentElement;t.pageX=e.clientX+(a.scrollLeft>>0)-(a.clientLeft>>0),t.pageY=e.clientY+(a.scrollTop>>0)-(a.clientTop>>0),t.wheelDeltaY=t.wheelDelta,t.wheelDeltaX=0}return t.timeStamp=new Date-0,t.originalEvent=e,t.preventDefault=function(){e.returnValue=!1},t.stopPropagation=function(){e.cancelBubble=!0},t}function v(e){for(var t in e)if(Me.call(e,t)){var n=e[t];"function"==typeof v.plugins[t]?v.plugins[t](n):"object"==typeof v[t]?avalon.mix(v[t],n):v[t]=n}return this}function g(e){return(e+"").replace(vt,"\\$&")}function m(e,t,n){if(Ve(t)||t&&t.nodeType)return!1;if(-1!==n.indexOf(e))return!1;if(-1!==xt.indexOf(e))return!1;var r=n.$special;return e&&"$"===e.charAt(0)&&!r[e]?!1:!0}function y(e,t,n,r){switch(e.type){case 0:var o=e.get,a=e.set;if(Ve(a)){var i=r.$events,s=i[t];i[t]=[],a.call(r,n),i[t]=s}return o.call(r);case 1:return n;case 2:if(n!==r.$model[t]){var l=e.svmodel=x(r,t,n,e.valueType);n=l.$model;var c=Nt[l.$id];c&&c()}return n}}function b(e,t,n){if(Array.isArray(e)){var o=e.concat();e.length=0;var a=w(e);return a.pushArray(o),a}if(!e||e.nodeType>0||e.$id&&e.$events)return e;Array.isArray(e.$skipArray)||(e.$skipArray=[]),e.$skipArray.$special=t||{};var i={};n=n||{};var s={},l={},c=[];for(var u in e)!function(t,o){if(n[t]=o,m(t,o,e.$skipArray)){s[t]=[];var a=avalon.type(o),u=function(e){var t=u._name,n=this,r=n.$model,o=r[t],a=n.$events;return arguments.length?void(Ae||(1===u.type||(e=y(u,t,e,n),u.type))&&(St(o,e)||(r[t]=e,D(a[t]),C(n,t,e,o)))):0===u.type?(e=u.get.call(n),o!==e&&(r[t]=e,C(n,t,e,o)),e):(S(a[t]),u.svmodel||o)};"object"===a&&Ve(o.get)&&Object.keys(o).length<=2?(u.set=o.set,u.get=o.get,u.type=0,c.push(function(){var e={evaluator:function(){e.type=Math.random(),e.element=null,n[t]=u.get.call(i)},element:Ne,type:Math.random(),handler:r,args:[]};He[Ce]=e,u.call(i),delete He[Ce]})):Le.test(a)?(u.type=2,u.valueType=a,c.push(function(){var e=b(o,0,n[t]);u.svmodel=e,e.$events[Ee]=s[t]})):u.type=1,u._name=t,l[t]=u}}(u,e[u]);xt.forEach(function(t){delete e[t],delete n[t]}),i=kt(i,Ot(l),e);for(var d in e)l[d]||(i[d]=e[d]);i.$id=We(),i.$model=n,i.$events=s;for(u in bt){var f=bt[u];Fe||(f=f.bind(i)),i[u]=f}return Tt?Object.defineProperty(i,"hasOwnProperty",{value:function(e){return e in this.$model},writable:!1,enumerable:!1,configurable:!0}):i.hasOwnProperty=function(e){return e in i.$model},c.forEach(function(e){e()}),i}function C(e,t,n,r){e.$events&&bt.$fire.call(e,t,n,r)}function x(e,t,n,r){var o=e[t];if("array"===r)return Array.isArray(n)&&o!==n?(o._.$unwatch(),o.clear(),o._.$watch(),o.pushArray(n.concat()),o):o;var a=e.$events[t],i=o.$events.$withProxyPool;i&&(ge(i,"with"),o.$events.$withProxyPool=null);var s=b(n);return s.$events[Ee]=a,Nt[s.$id]=function(e){for(;e=a.shift();)!function(e){avalon.nextTick(function(){var t=e.type;t&&Ze[t]&&(e.rollback&&e.rollback(),Ze[t](e,e.vmodels))})}(e);delete Nt[s.$id]},s}function N(e,t,n,r){var o=t[n];return 4!==arguments.length?o.call(e):void o.call(e,r)}function w(e){var t=[];t.$id=We(),t.$model=e,t.$events={},t.$events[Ee]=[],t._=b({length:e.length}),t._.$watch("length",function(e,n){t.$fire("length",e,n)});for(var n in bt)t[n]=bt[n];return avalon.mix(t,It),t}function T(e,t,n,r,o,a,i){for(var s=this.length,l=2;--l;){switch(e){case"add":var c=this.$model.slice(t,t+n).map(function(e){return Le.test(avalon.type(e))?e.$id?e:b(e,0,e):e});At.apply(this,[t,0].concat(c)),this._fire("add",t,n);break;case"del":var u=this._splice(t,n);this._fire("del",t,n)}o&&(e=o,t=a,n=i,l=2,o=0)}return this._fire("index",r),this.length!==s&&(this._.length=this.length),u}function k(e,t){for(var n={},r=0,o=t.length;o>r;r++){n[r]=e[r];var a=t[r];a in n?(e[r]=n[a],delete n[a]):e[r]=e[a]}}function E(e){He[Ce]=e,avalon.openComputedCollect=!0;var t=e.evaluator;if(t)try{var n=Lt.test(e.type)?e:t.apply(0,e.args);e.handler(n,e.element,e)}catch(r){delete e.evaluator;var o=e.element;if(3===o.nodeType){var a=o.parentNode;v.commentInterpolate?a.replaceChild(xe.createComment(e.value),o):o.data=ut+e.value+dt}}avalon.openComputedCollect=!1,delete He[Ce]}function S(e){var t=He[Ce];e&&t&&avalon.Array.ensure(e,t)&&t.element&&O(t,e)}function O(e,t){e.$uuid=e.$uuid||We(),t.$uuid=t.$uuid||We();var n={data:e,list:t,$$uuid:e.$uuid+t.$uuid};Dt[n.$$uuid]||(Dt[n.$$uuid]=1,Dt.push(n))}function A(e){e.element=null,e.rollback&&e.rollback();for(var t in e)e[t]=null}function I(e){try{if(!e.parentNode)return!0}catch(t){return!0}return e.msRetain?0:1===e.nodeType?"number"==typeof e.sourceIndex?0===e.sourceIndex:!Be.contains(e):!avalon.contains(Be,e)}function L(){for(var e,t=Dt.length,n=t,r=0,o=[],a={},i={};e=Dt[--t];){var s=e.data,l=s.type;a[l]?a[l]++:(a[l]=1,o.push(l))}var c=!1;if(o.forEach(function(e){Pt[e]!==a[e]&&(i[e]=1,c=!0)}),t=n,c)for(;e=Dt[--t];)s=e.data,void 0!==s.element&&i[s.type]&&I(s.element)&&(r++,Dt.splice(t,1),delete Dt[e.$$uuid],avalon.Array.remove(e.list,s),A(s),e.data=e.list=null);Pt=a,_t=new Date}function D(e){if(e&&e.length){new Date-_t>444&&"object"==typeof e[0]&&L();for(var t,n=Re.call(arguments,1),o=e.length;t=e[--o];){var a=t.element;if(a&&a.parentNode)if(t.$repeat)t.handler.apply(t,n);else if("on"!==t.type){var i=t.evaluator||r;t.handler(i.apply(0,t.args||[]),a,t)}}}}function _(e){var t=e.nodeName;return t.toLowerCase()===t&&e.scopeName&&""===e.outerText}function P(e){"url(#default#VML)"!==e.currentStyle.behavior&&(e.style.behavior="url(#default#VML)",e.style.display="inline-block",e.style.zoom=1)}function M(e,t,n){var r=setTimeout(function(){var o=e.innerHTML;clearTimeout(r),o===n?t():M(e,t,o)})}function j(e,t){var n=e.getAttribute("avalonctrl")||t.$id;e.setAttribute("avalonctrl",n),t.$events.expr=e.tagName+'[avalonctrl="'+n+'"]'}function $(e,t){for(var n,r=0;n=e[r++];)n.vmodels=t,Ze[n.type](n,t),n.evaluator&&n.element&&1===n.element.nodeType&&n.element.removeAttribute(n.name);e.length=0}function R(e,t){return e.priority-t.priority}function H(e,t){for(var r,o,a=rn?rn(e):avalon.slice(e.attributes),i=[],s={},l=0;o=a[l++];)if(o.specified&&(r=o.name.match(Yt))){var c=r[1],u=r[2]||"",d=o.value,f=o.name;if(s[f]=d,Xt[c]?(u=c,c="on"):Kt[c]&&(n("warning!请改用ms-attr-"+c+"代替ms-"+c+"！"),"enabled"===c&&(n("warning!ms-enabled或ms-attr-enabled已经被废弃"),c="disabled",d="!("+d+")"),u=c,c="attr",e.removeAttribute(f),f="ms-attr-"+u,e.setAttribute(f,d),r=[f],s[f]=d),"function"==typeof Ze[c]){var p={type:c,param:u,element:e,name:r[0],value:d,priority:c in Vt?Vt[c]:10*c.charCodeAt(0)+(Number(u)||0)};if("html"===c||"text"===c){var h=q(d);avalon.mix(p,h),p.filters=p.filters.replace(on,function(){return p.type="html",p.group=1,""})}"ms-if-loop"===f&&(p.priority+=100),t.length&&(i.push(p),"widget"===c&&(e.msData=e.msData||s))}}if(i.sort(R),"form"in e&&s["ms-duplex"]){var v=e.type;s["ms-attr-checked"]&&/radio|checkbox/.test(v)&&n("warning!"+v+"控件不能同时定义ms-attr-checked与ms-duplex"),s["ms-attr-value"]&&/text|password/.test(v)&&n("warning!"+v+"控件不能同时定义ms-attr-value与ms-duplex")}var g=!0;for(l=0;p=i[l];l++){if(c=p.type,Zt.test(c))return $(i.slice(0,l+1),t);g&&(g=!Gt.test(c))}$(i,t),g&&!Ut[e.tagName]&&ht.test(e.innerHTML.replace(sn,"<").replace(ln,">"))&&(Wt&&Wt(e),F(e,t))}function F(e,t){for(var n=e.firstChild;n;){var r=n.nextSibling;z(n,n.nodeType,t),n=r}}function B(e,t){for(var n,r=0;n=e[r++];)z(n,n.nodeType,t)}function z(e,t,n){1===t?(U(e,n),e.msCallback&&(e.msCallback(),e.msCallback=void 0)):3===t&&ft.test(e.data)?Y(e,n):v.commentInterpolate&&8===t&&!ft.test(e.nodeValue)&&Y(e,n)}function U(e,t,r){var o=e.getAttribute("ms-skip");if(!e.getAttributeNode)return n("warning "+e.tagName+" no getAttributeNode method");var a=e.getAttributeNode("ms-important"),i=e.getAttributeNode("ms-controller");if("string"!=typeof o){if(r=a||i){var s=avalon.vmodels[r.value];if(!s)return;t=r===a?[s]:[s].concat(t);var l=r.name;e.removeAttribute(l),avalon(e).removeClass(l),j(e,s)}H(e,t)}}function q(e){if(e.indexOf("|")>0){var t=e.replace(cn,function(e){return Array(e.length+1).join("1")}),n=t.replace(an,"ᄢ㍄").indexOf("|");if(n>-1)return{filters:e.slice(n),value:e.slice(0,n),expr:!0}}return{value:e,filters:"",expr:!0}}function W(e){for(var t,n,r=[],o=0;;){if(n=e.indexOf(ut,o),-1===n)break;if(t=e.slice(o,n),t&&r.push({value:t,filters:"",expr:!1}),o=n+ut.length,n=e.indexOf(dt,o),-1===n)break;t=e.slice(o,n),t&&r.push(q(t)),o=n+dt.length}return t=e.slice(o),t&&r.push({value:t,expr:!1,filters:""}),r}function Y(e,t){var n=[];if(8===e.nodeType)var r=q(e.nodeValue),o=[r];else o=W(e.data);if(o.length){for(var a=0;r=o[a++];){var i=xe.createTextNode(r.value);r.expr&&(r.type="text",r.element=i,r.filters=r.filters.replace(on,function(){return r.type="html",r.group=1,""}),n.push(r)),ze.appendChild(i)}e.parentNode.replaceChild(ze,e),n.length&&$(n,t)}}function V(e){return e.replace(/([a-z\d])([A-Z]+)/g,"$1-$2").toLowerCase()}function X(e){return!e||e.indexOf("-")<0&&e.indexOf("_")<0?e:e.replace(/[-_][^-_]/g,function(e){return e.charAt(1).toUpperCase()})}function K(e){if(!("classList"in e)){e.classList={node:e};for(var t in un)e.classList[t.slice(1)]=un[t]}return e.classList}function Z(e){try{if("object"==typeof e)return e;e="true"===e?!0:"false"===e?!1:"null"===e?null:+e+""===e?+e:dn.test(e)?avalon.parseJSON(e):e}catch(t){}return e}function G(e){return e.window&&e.document?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}function J(e,t){if(e.offsetWidth<=0){if(En.test(gn["@:get"](e,"display"))){var n={node:e};for(var r in kn)n[r]=e.style[r],e.style[r]=kn[r];t.push(n)}var o=e.parentNode;o&&1===o.nodeType&&J(o,t)}}function Q(e){var t=e.tagName.toLowerCase();return"input"===t&&/checkbox|radio/.test(e.type)?"checked":t}function ee(e,t,n,r){for(var o,a=[],i=" = "+n+".",s=e.length;o=e[--s];)t.hasOwnProperty(o)&&(a.push(o+i+o),r.vars.push(o),"duplex"===r.type&&(e.get=n+"."+o),e.splice(s,1));return a}function te(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r],a=o&&"string"==typeof o.$id?o.$id:o;n[a]||(n[a]=t.push(o))}return t}function ne(e,t){return t=t.replace(zn,"").replace(Un,function(){return"],|"}).replace(qn,function(e,t){return"["+In(t)}).replace(Wn,function(){return'"],["'}).replace(Yn,function(){return'",'})+"]","return avalon.filters.$filter("+e+", "+t+")"}function re(e,t,o){var a=o.type,i=o.filters||"",s=t.map(function(e){return String(e.$id).replace(Bn,"$1")})+e+a+i,l=Rn(e).concat(),c=[],u=[],d=[],f="";t=te(t),o.vars=[];for(var p=0,h=t.length;h>p;p++)if(l.length){var v="vm"+Ce+"_"+p;u.push(v),d.push(t[p]),c.push.apply(c,ee(l,t[p],v,o))}if(c.length||"duplex"!==a){"duplex"!==a&&(e.indexOf("||")>-1||e.indexOf("&&")>-1)&&o.vars.forEach(function(t){var n=new RegExp("\\b"+t+"(?:\\.\\w+|\\[\\w+\\])+","ig");e=e.replace(n,function(n){var r=n.charAt(t.length),o=Ye?e.slice(arguments[1]+n.length):RegExp.rightContext,a=/^\s*\(/.test(o);if("."===r||"["===r||a){var i="var"+String(Math.random()).replace(/^0\./,"");if(a){var s=n.split(".");if(s.length>2){var l=s.pop();return c.push(i+" = "+s.join(".")),i+"."+l}return n}return c.push(i+" = "+n),i}return n})}),o.args=d;var g=Hn.get(s);if(g)return void(o.evaluator=g);if(f=c.join(", "),f&&(f="var "+f),/\S/.test(i)){if(!/text|html/.test(o.type))throw Error("ms-"+o.type+"不支持过滤器");e="\nvar ret"+Ce+" = "+e+";\r\n",e+=ne("ret"+Ce,i)}else{if("duplex"===a){var m="'use strict';\nreturn function(vvv){\n	"+f+";\n	if(!arguments.length){\n		return "+e+"\n	}\n	"+(Fn.test(e)?e:l.get)+"= vvv;\n} ";try{g=Function.apply(r,u.concat(m)),o.evaluator=Hn.put(s,g)}catch(y){n("debug: parse error,"+y.message)}return}if("on"===a){-1===e.indexOf("(")?e+=".call(this, $event)":e=e.replace("(",".call(this,"),u.push("$event"),e="\nreturn "+e+";";var b=e.lastIndexOf("\nreturn"),C=e.slice(0,b),x=e.slice(b);e=C+"\n"+x}else e="\nreturn "+e+";"}try{g=Function.apply(r,u.concat("'use strict';\n"+f+e)),o.evaluator=Hn.put(s,g)}catch(y){n("debug: parse error,"+y.message)}finally{l=c=u=null}}}function oe(e,t,n,r,o){Array.isArray(r)&&(e=r.map(function(e){return e.expr?"("+e.value+")":In(e.value)}).join(" + ")),re(e,t,n),n.evaluator&&!o&&(n.handler=Ge[n.handlerName||n.type],E(n))}function ae(e,t,n){var r=e.templateCache&&e.templateCache[t];if(r){for(var o,a=xe.createDocumentFragment();o=r.firstChild;)a.appendChild(o);return a}return avalon.parseHTML(n)}function ie(e){return null==e?"":e}function se(e,t,n,r){return t.param.replace(/\w+/g,function(r){var o=avalon.duplexHooks[r];o&&"function"==typeof o[n]&&(e=o[n](e,t))}),e}function le(){for(var e=rr.length-1;e>=0;e--){var t=rr[e];t()===!1&&rr.splice(e,1)}rr.length||clearInterval(nr)}function ce(e,t,n,r){var o=e.template.cloneNode(!0),a=avalon.slice(o.childNodes);n.$stamp&&o.insertBefore(n.$stamp,o.firstChild),t.appendChild(o);var i=[n].concat(e.vmodels),s={nodes:a,vmodels:i};r.push(s)}function ue(e,t){var n=e.proxies[t];return n?n.$stamp:e.element}function de(e,t,n){for(;;){var r=t.previousSibling;if(!r)break;if(r.parentNode.removeChild(r),n&&n.call(r),r===e)break}}function fe(e){var t={$host:[],$outer:{},$stamp:1,$index:0,$first:!1,$last:!1,$remove:avalon.noop};t[e]={get:function(){var t=this.$events,n=t.$index;t.$index=t[e];try{return this.$host[this.$index]}finally{t.$index=n}},set:function(e){this.$host.set(this.$index,e)}};var n={$last:1,$first:1,$index:1},r=b(t,n);return r.$id=We("$proxy$each"),r}function pe(e,t){for(var n,r=t.param||"el",o=0,a=sr.length;a>o;o++){var i=sr[o];i&&i.hasOwnProperty(r)&&(n=i,sr.splice(o,1))}n||(n=fe(r));var s=t.$repeat,l=s.length-1;return n.$index=e,n.$first=0===e,n.$last=e===l,n.$host=s,n.$outer=t.$outer,n.$stamp=t.clone.cloneNode(!1),n.$remove=function(){return s.removeAt(n.$index)},n}function he(){var e=b({$key:"",$outer:{},$host:{},$val:{get:function(){return this.$host[this.$key]},set:function(e){this.$host[this.$key]=e}}},{$val:1});return e.$id=We("$proxy$with"),e}function ve(e,t){var n=lr.pop();n||(n=he());var r=t.$repeat;return n.$key=e,n.$host=r,n.$outer=t.$outer,r.$events?n.$events.$val=r.$events[e]:n.$events={},n}function ge(e,t){var n="each"===t?sr:lr;avalon.each(e,function(e,t){if(t.$events){for(var r in t.$events)Array.isArray(t.$events[r])&&(t.$events[r].forEach(function(e){"object"==typeof e&&A(e)}),t.$events[r].length=0);t.$host=t.$outer={},n.unshift(t)>v.maxRepeatSize&&n.pop()}}),"each"===t&&(e.length=0)}function me(e,t){var n="_"+e;if(!me[n]){var r=xe.createElement(e);Be.appendChild(r),t=Fe?getComputedStyle(r,null).display:r.currentStyle.display,Be.removeChild(r),me[n]=t}return me[n]}function ye(e,t,n,r){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var o=isFinite(+e)?+e:0,a=isFinite(+t)?Math.abs(t):3,i=r||",",s=n||".",l="",c=function(e,t){var n=Math.pow(10,t);return""+(Math.round(e*n)/n).toFixed(t)};return l=(a?c(o,a):""+Math.round(o)).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,i)),(l[1]||"").length<a&&(l[1]=l[1]||"",l[1]+=new Array(a-l[1].length+1).join("0")),l.join(s)}function be(){try{Be.doScroll("left"),Cr()}catch(e){setTimeout(be)}}var Ce=new Date-0,xe=e.document,Ne=xe.getElementsByTagName("head")[0],we=Ne.insertBefore(document.createElement("avalon"),Ne.firstChild);we.innerHTML="X<style id='avalonStyle'>.avalonHide{ display: none!important }</style>",we.setAttribute("ms-skip","1"),we.className="avalonHide";var Te,ke=/\[native code\]/,Ee="$"+Ce,Se=e.require,Oe=e.define,Ae=!1,Ie=/[^, ]+/g,Le=/^(?:object|array)$/,De=/^\[object SVG\w*Element\]$/,_e=/^\[object (?:Window|DOMWindow|global)\]$/,Pe=Object.prototype,Me=Pe.hasOwnProperty,je=Pe.toString,$e=Array.prototype,Re=$e.slice,He={},Fe=e.dispatchEvent,Be=xe.documentElement,ze=xe.createDocumentFragment(),Ue=xe.createElement("div"),qe={};"Boolean Number String Function Array Date RegExp Object Error".replace(Ie,function(e){qe["[object "+e+"]"]=e.toLowerCase()});var We=function(e){return e=e||"avalon",(e+Math.random()+Math.random()).replace(/0\./g,"")},Ye=i();avalon=function(e){return new avalon.init(e)},avalon.nextTick=new function(){function t(){for(var e=a.length,t=0;e>t;t++)a[t]();a=a.slice(e)}var n=e.setImmediate,r=e.MutationObserver,o=Fe&&e.postMessage;if(n)return n.bind(e);var a=[];if(r){var i=document.createTextNode("avalon");return new r(t).observe(i,{characterData:!0}),function(e){a.push(e),i.data=Math.random()}}return o?(e.addEventListener("message",function(n){var r=n.source;r!==e&&null!==r||"process-tick"!==n.data||(n.stopPropagation(),t())}),function(t){a.push(t),e.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}},avalon.init=function(e){this[0]=this.element=e},avalon.fn=avalon.prototype=avalon.init.prototype,avalon.type=function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?qe[je.call(e)]||"object":typeof e};var Ve="object"==typeof alert?function(e){try{return/^\s*\bfunction\b/.test(e+"")}catch(t){return!1}}:function(e){return"[object Function]"===je.call(e)};avalon.isFunction=Ve,avalon.isWindow=function(e){return e?e==e.document&&e.document!=e:!1},s(e)&&(avalon.isWindow=s);var Xe;for(Xe in avalon({}))break;var Ke="0"!==Xe;avalon.isPlainObject=function(e,t){if(!e||"object"!==avalon.type(e)||e.nodeType||avalon.isWindow(e))return!1;try{if(e.constructor&&!Me.call(e,"constructor")&&!Me.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(Ke)for(t in e)return Me.call(e,t);for(t in e);return void 0===t||Me.call(e,t)},ke.test(Object.getPrototypeOf)&&(avalon.isPlainObject=function(e){return"[object Object]"===je.call(e)&&Object.getPrototypeOf(e)===Pe}),avalon.mix=avalon.fn.mix=function(){var e,t,n,r,o,a,i=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof i&&(c=i,i=arguments[1]||{},s++),"object"==typeof i||Ve(i)||(i={}),s===l&&(i=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e){n=i[t];try{r=e[t]}catch(u){continue}i!==r&&(c&&r&&(avalon.isPlainObject(r)||(o=Array.isArray(r)))?(o?(o=!1,a=n&&Array.isArray(n)?n:[]):a=n&&avalon.isPlainObject(n)?n:{},i[t]=avalon.mix(c,a,r)):void 0!==r&&(i[t]=r))}return i},avalon.mix({rword:Ie,subscribers:Ee,version:1.43,ui:{},log:n,slice:Fe?function(e,t,n){return Re.call(e,t,n)}:function(e,t,n){var r=[],o=e.length;if(void 0===n&&(n=o),"number"==typeof n&&isFinite(n)){t=l(t,o),n=l(n,o);for(var a=t;n>a;++a)r[a-t]=e[a]}return r},noop:r,error:function(e,t){throw(t||Error)(e)},oneObject:o,range:function(e,t,n){n||(n=1),null==t&&(t=e||0,e=0);for(var r=-1,o=Math.max(0,Math.ceil((t-e)/n)),a=new Array(o);++r<o;)a[r]=e,e+=n;return a},eventHooks:{},bind:function(e,t,n,r){var o=avalon.eventHooks,a=o[t];"object"==typeof a&&(t=a.type,a.deel&&(n=a.deel(e,t,n,r)));var i=Fe?n:function(t){n.call(e,h(t))};return Fe?e.addEventListener(t,i,!!r):e.attachEvent("on"+t,i),i},unbind:function(e,t,n,o){var a=avalon.eventHooks,i=a[t],s=n||r;"object"==typeof i&&(t=i.type,i.deel&&(n=i.deel(e,t,n,!1))),Fe?e.removeEventListener(t,s,!!o):e.detachEvent("on"+t,s)},css:function(e,t,n){e instanceof avalon&&(e=e[0]);var r,o=/[_-]/.test(t)?X(t):t;if(t=avalon.cssName(o)||o,void 0===n||"boolean"==typeof n){r=gn[o+":get"]||gn["@:get"],"background"===t&&(t="backgroundColor");var a=r(e,t);return n===!0?parseFloat(a)||0:a}if(""===n)e.style[t]="";else{if(null==n||n!==n)return;isFinite(n)&&!avalon.cssNumber[o]&&(n+="px"),r=gn[o+":set"]||gn["@:set"],r(e,t,n)}},each:function(e,t){if(e){var n=0;if(c(e))for(var r=e.length;r>n&&t(n,e[n])!==!1;n++);else for(n in e)if(e.hasOwnProperty(n)&&t(n,e[n])===!1)break}},getWidgetData:function(e,t){var n=avalon(e).data(),r={};for(var o in n)0===o.indexOf(t)&&(r[o.replace(t,"").replace(/\w/,function(e){return e.toLowerCase()})]=n[o]);return r},Array:{ensure:function(e,t){return-1===e.indexOf(t)?e.push(t):void 0},removeAt:function(e,t){return!!e.splice(t,1).length},remove:function(e,t){var n=e.indexOf(t);return~n?avalon.Array.removeAt(e,n):!1}}});var Ze=avalon.bindingHandlers={},Ge=avalon.bindingExecutors={},Je=new function(){function e(e){this.size=0,this.limit=e,this.head=this.tail=void 0,this._keymap={}}var t=e.prototype;return t.put=function(e,t){var n={key:e,value:t};return this._keymap[e]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size===this.limit?this.shift():this.size++,t},t.shift=function(){var e=this.head;e&&(this.head=this.head.newer,this.head.older=e.newer=e.older=this._keymap[e.key]=void 0)},t.get=function(e){var t=this._keymap[e];if(void 0!==t)return t===this.tail?t.value:(t.newer&&(t===this.head&&(this.head=t.newer),t.newer.older=t.older),t.older&&(t.older.newer=t.newer),t.newer=void 0,t.older=this.tail,this.tail&&(this.tail.newer=t),this.tail=t,t.value)},e};if(!"司徒正美".trim){var Qe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(Qe,"")}}var et=!{toString:null}.propertyIsEnumerable("toString"),tt=function(){}.propertyIsEnumerable("prototype"),nt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],rt=nt.length;if(Object.keys||(Object.keys=function(e){var t=[],n=tt&&"function"==typeof e;if("string"==typeof e||e&&e.callee)for(var r=0;r<e.length;++r)t.push(String(r));else for(var o in e)n&&"prototype"===o||!Me.call(e,o)||t.push(String(o));if(et)for(var a=e.constructor,i=a&&a.prototype===e,s=0;rt>s;s++){var l=nt[s];i&&"constructor"===l||!Me.call(e,l)||t.push(l)}return t}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===je.call(e)}),r.bind||(Function.prototype.bind=function(e){if(arguments.length<2&&void 0===e)return this;var t=this,n=arguments;return function(){var r,o=[];for(r=1;r<n.length;r++)o.push(n[r]);for(r=0;r<arguments.length;r++)o.push(arguments[r]);return t.apply(e,o)}}),ke.test([].map)||avalon.mix($e,{indexOf:function(e,t){var n=this.length,r=~~t;for(0>r&&(r+=n);n>r;r++)if(this[r]===e)return r;return-1},lastIndexOf:function(e,t){var n=this.length,r=null==t?n-1:t;for(0>r&&(r=Math.max(0,n+r));r>=0;r--)if(this[r]===e)return r;return-1},forEach:u("","_",""),filter:u("r=[],j=0,","if(_)r[j++]=this[i]","return r"),map:u("r=[],","r[i]=_","return r"),some:u("","if(_)return true","return false"),every:u("","if(!_)return false","return true")}),avalon.contains=d,xe.contains||(xe.contains=function(e){return d(xe,e)}),e.SVGElement){xe.createTextNode("x").contains||(Node.prototype.contains=function(e){return!!(16&this.compareDocumentPosition(e))});var ot="http://www.w3.org/2000/svg",at=xe.createElementNS(ot,"svg");at.innerHTML='<circle cx="50" cy="50" r="40" fill="red" />',De.test(at.firstChild)||Object.defineProperties(SVGElement.prototype,{outerHTML:{enumerable:!0,configurable:!0,get:f,set:function(e){var t=this.tagName.toLowerCase(),n=this.parentNode,r=avalon.parseHTML(e);if("svg"===t)n.insertBefore(r,this);else{var o=xe.createDocumentFragment();p(r,o),n.insertBefore(o,this)}n.removeChild(this)}},innerHTML:{enumerable:!0,configurable:!0,get:function(){var e=this.outerHTML,t=new RegExp("<"+this.nodeName+'\\b(?:(["\'])[^"]*?(\\1)|[^>])*>',"i"),n=new RegExp("</"+this.nodeName+">$","i");return e.replace(t,"").replace(n,"")},set:function(e){if(avalon.clearHTML){avalon.clearHTML(this);var t=avalon.parseHTML(e);p(t,this)}}}})}!Be.outerHTML&&e.HTMLElement&&HTMLElement.prototype.__defineGetter__("outerHTML",f);var it=/^(?:mouse|contextmenu|drag)|click/,st=avalon.eventHooks;if("onmouseenter"in Be||avalon.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){st[e]={type:t,deel:function(t,n,r){return function(n){var o=n.relatedTarget;return o&&(o===t||16&t.compareDocumentPosition(o))?void 0:(delete n.type,n.type=e,r.call(t,n))}}}}),avalon.each({AnimationEvent:"animationend",WebKitAnimationEvent:"webkitAnimationEnd"},function(t,n){e[t]&&!st.animationend&&(st.animationend={type:n})}),"oninput"in xe.createElement("input")||(st.input={type:"propertychange",deel:function(e,t,n){return function(t){return"value"===t.propertyName?(t.type="input",n.call(e,t)):void 0}}}),void 0===xe.onmousewheel){var lt=void 0!==xe.onwheel?"wheel":"DOMMouseScroll",ct="wheel"===lt?"deltaY":"detail";st.mousewheel={type:lt,deel:function(e,t,n){return function(t){t.wheelDeltaY=t.wheelDelta=t[ct]>0?-120:120,t.wheelDeltaX=0,Object.defineProperty&&Object.defineProperty(t,"type",{value:"mousewheel"}),n.call(e,t)}}}}var ut,dt,ft,pt,ht,vt=/[-.*+?^${}()|[\]\/\\]/g,gt={loader:function(t){var n=Te&&t;e.require=n?Te:Se,e.define=n?Te.define:Oe},interpolate:function(e){if(ut=e[0],dt=e[1],ut===dt)throw new SyntaxError("openTag!==closeTag");if(e+""=="<!--,-->")v.commentInterpolate=!0;else{var t=ut+"test"+dt;if(Ue.innerHTML=t,Ue.innerHTML!==t&&Ue.innerHTML.indexOf("&lt;")>-1)throw new SyntaxError("此定界符不合法");Ue.innerHTML=""}var n=g(ut),r=g(dt);ft=new RegExp(n+"(.*?)"+r),pt=new RegExp(n+"(.*?)"+r,"g"),ht=new RegExp(n+".*?"+r+"|\\sms-")}};v.debug=!0,v.plugins=gt,v.plugins.interpolate(["{{","}}"]),v.paths={},v.shim={},v.maxRepeatSize=100,avalon.config=v;var mt=/(\w+)\[(avalonctrl)="(\S+)"\]/,yt=xe.querySelectorAll?function(e){return xe.querySelectorAll(e)}:function(e){for(var t,n=e.match(mt),r=xe.getElementsByTagName(n[1]),o=[],a=0;t=r[a++];)t.getAttribute(n[2])===n[3]&&o.push(t);return o},bt={$watch:function(e,t){if("function"==typeof t){var n=this.$events[e];n?n.push(t):this.$events[e]=[t]}else this.$events=this.$watch.backup;return this},$unwatch:function(e,t){var n=arguments.length;if(0===n)this.$watch.backup=this.$events,this.$events={};else if(1===n)this.$events[e]=[];else for(var r=this.$events[e]||[],o=r.length;~--o<0;)if(r[o]===t)return r.splice(o,1);return this},$fire:function(e){var t,n,r,o;/^(\w+)!(\S+)$/.test(e)&&(t=RegExp.$1,e=RegExp.$2);var a=this.$events;if(a){var i=Re.call(arguments,1),s=[e].concat(i);if("all"===t)for(n in avalon.vmodels)r=avalon.vmodels[n],r!==this&&r.$fire.apply(r,s);else if("up"===t||"down"===t){var l=a.expr?yt(a.expr):[];if(0===l.length)return;for(n in avalon.vmodels)if(r=avalon.vmodels[n],r!==this&&r.$events.expr){var c=yt(r.$events.expr);if(0===c.length)continue;Array.prototype.forEach.call(c,function(e){Array.prototype.forEach.call(l,function(n){var o="down"===t?n.contains(e):e.contains(n);o&&(e._avalon=r)})})}var u=xe.getElementsByTagName("*"),d=[];for(Array.prototype.forEach.call(u,function(e){e._avalon&&(d.push(e._avalon),e._avalon="",e.removeAttribute("_avalon"))}),"up"===t&&d.reverse(),n=0;(o=d[n++])&&o.$fire.apply(o,s)!==!1;);}else{var f=a[e]||[],p=a.$all||[];for(n=0;o=f[n++];)Ve(o)&&o.apply(this,i);for(n=0;o=p[n++];)Ve(o)&&o.apply(this,arguments)}}}},Ct=avalon.vmodels={};avalon.define=function(e,t){var o=e.$id||e;if(o||n("warning: vm必须指定$id"),Ct[o]&&n("warning: "+o+" 已经存在于avalon.vmodels中"),"object"==typeof e)var a=b(e);else{var i={$watch:r};t(i),a=b(i),Ae=!0,t(a),Ae=!1}return a.$id=o,Ct[o]=a};var xt=String("$id,$watch,$unwatch,$fire,$events,$model,$skipArray").match(Ie),Nt={},wt=Object.defineProperty,Tt=!0;try{wt({},"_",{value:"x"});var kt=Object.defineProperties}catch(Et){Tt=!1}var St=Object.is||function(e,t){return 0===e&&0===t?1/e===1/t:e!==e?t!==t:e===t},Ot=Fe?function(e){var t={};for(var n in e)t[n]={get:e[n],set:e[n],enumerable:!0,configurable:!0};return t}:function(e){return e};Tt||("__defineGetter__"in avalon&&(wt=function(e,t,n){return"value"in n&&(e[t]=n.value),"get"in n&&e.__defineGetter__(t,n.get),"set"in n&&e.__defineSetter__(t,n.set),e},kt=function(e,t){for(var n in t)t.hasOwnProperty(n)&&wt(e,n,t[n]);return e}),Ye&&(e.execScript(["Function parseVB(code)","	ExecuteGlobal(code)","End Function","Dim VBClassBodies",'Set VBClassBodies=CreateObject("Scripting.Dictionary")',"Function findOrDefineVBClass(name,body)","	Dim found",'	found=""',"	For Each key in VBClassBodies","		If body=VBClassBodies.Item(key) Then","			found=key","			Exit For","		End If","	next",'	If found="" Then','		parseVB("Class " + name + body)',"		VBClassBodies.Add name, body","		found=name","	End If","	findOrDefineVBClass=found","End Function"].join("\n"),"VBScript"),kt=function(t,n,r){var o="VBClass"+setTimeout("1"),a=[];a.push("\r\n	Private [__data__], [__proxy__]","	Public Default Function [__const__](d, p)","		Set [__data__] = d: set [__proxy__] = p","		Set [__const__] = Me","	End Function");for(t in r)n.hasOwnProperty(t)||a.push("	Public ["+t+"]");xt.forEach(function(e){n.hasOwnProperty(e)||a.push("	Public ["+e+"]")}),a.push("	Public [hasOwnProperty]");for(t in n)a.push("	Public Property Let ["+t+"](val"+Ce+")",'		Call [__proxy__](Me,[__data__], "'+t+'", val'+Ce+")","	End Property","	Public Property Set ["+t+"](val"+Ce+")",'		Call [__proxy__](Me,[__data__], "'+t+'", val'+Ce+")","	End Property","	Public Property Get ["+t+"]","	On Error Resume Next","		Set["+t+'] = [__proxy__](Me,[__data__],"'+t+'")',"	If Err.Number <> 0 Then","		["+t+'] = [__proxy__](Me,[__data__],"'+t+'")',"	End If","	On Error Goto 0","	End Property");a.push("End Class");var i=a.join("\r\n"),s=e.findOrDefineVBClass(o,i);s===o&&e.parseVB(["Function "+o+"Factory(a, b)","	Dim o","	Set o = (New "+o+")(a, b)","	Set "+o+"Factory = o","End Function"].join("\r\n"));var l=e[s+"Factory"](n,N);return l}));var At=$e.splice,It={_splice:At,_fire:function(e,t,n){D(this.$events[Ee],e,t,n)},size:function(){return this._.length},pushArray:function(e){var t=e.length,n=this.length;return t&&($e.push.apply(this.$model,e),T.call(this,"add",n,t,Math.max(0,n-1))),t+n},push:function(){var e,t=[],n=arguments.length;for(e=0;n>e;e++)t[e]=arguments[e];return this.pushArray(t)},unshift:function(){var e=arguments.length,t=this.length;return e&&($e.unshift.apply(this.$model,arguments),T.call(this,"add",0,e,0)),e+t},shift:function(){if(this.length){var e=this.$model.shift();return T.call(this,"del",0,1,0),e}},pop:function(){var e=this.length;if(e){var t=this.$model.pop();return T.call(this,"del",e-1,1,Math.max(0,e-2)),t}},splice:function(e){var t,n=arguments.length,r=[],o=At.apply(this.$model,arguments);return o.length&&(r.push("del",e,o.length,0),t=!0),n>2&&(t?r.splice(3,1,0,"add",e,n-2):r.push("add",e,n-2,0),t=!0),t?T.apply(this,r):[]},contains:function(e){return-1!==this.indexOf(e)},remove:function(e){return this.removeAt(this.indexOf(e))},removeAt:function(e){return e>=0?(this.$model.splice(e,1),T.call(this,"del",e,1,0)):[]},clear:function(){return this.$model.length=this.length=this._.length=0,this._fire("clear",0),this},removeAll:function(e){if(Array.isArray(e))e.forEach(function(e){this.remove(e)},this);else if("function"==typeof e)for(var t=this.length-1;t>=0;t--){var n=this[t];e(n,t)&&this.removeAt(t)}else this.clear()},ensure:function(e){return this.contains(e)||this.push(e),this},set:function(e,t){
if(e>=0){var n=avalon.type(t);t&&t.$model&&(t=t.$model);var r=this[e];if("object"===n)for(var o in t)r.hasOwnProperty(o)&&(r[o]=t[o]);else"array"===n?r.clear().push.apply(r,t):r!==t&&(this[e]=t,this.$model[e]=t,this._fire("set",e,t))}return this}};"sort,reverse".replace(Ie,function(e){It[e]=function(){var t,n=this.$model,r=n.concat(),o=Math.random(),a=[];$e[e].apply(n,arguments);for(var i=0,s=r.length;s>i;i++){var l=n[i],c=r[i];if(St(l,c))a.push(i);else{var u=r.indexOf(l);a.push(u),r[u]=o,t=!0}}return t&&(k(this,a),this._fire("move",a),this._fire("index",0)),this}});var Lt=/^(duplex|on)$/,Dt=avalon.$$subscribers=[],_t=new Date,Pt={},Mt={area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],col:[2,"<table><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],tr:[2,"<table>","</table>"],td:[3,"<table><tr>","</tr></table>"],g:[1,'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">',"</svg>"],_default:Fe?[0,"",""]:[1,"X<div>","</div>"]};Mt.th=Mt.td,Mt.optgroup=Mt.option,Mt.tbody=Mt.tfoot=Mt.colgroup=Mt.caption=Mt.thead,String("circle,defs,ellipse,image,line,path,polygon,polyline,rect,symbol,text,use").replace(Ie,function(e){Mt[e]=Mt.g});var jt=/<([\w:]+)/,$t=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Rt=Fe?/[^\d\D]/:/(<(?:script|link|style|meta|noscript))/gi,Ht=o(["","text/javascript","text/ecmascript","application/ecmascript","application/javascript"]),Ft=/<(?:tb|td|tf|th|tr|col|opt|leg|cap|area)/,Bt=xe.createElement("script"),zt=/<|&#?\w+;/;avalon.parseHTML=function(e){var t=ze.cloneNode(!1);if("string"!=typeof e)return t;if(!zt.test(e))return t.appendChild(xe.createTextNode(e)),t;e=e.replace($t,"<$1></$2>").trim();var n,r,o=(jt.exec(e)||["",""])[1].toLowerCase(),a=Mt[o]||Mt._default,i=Ue;Fe||(e=e.replace(Rt,"<br class=msNoScope>$1")),i.innerHTML=a[1]+e+a[2];var s=i.getElementsByTagName("script");if(s.length)for(var l,c=0;l=s[c++];)Ht[l.type]&&(r=Bt.cloneNode(!1),$e.forEach.call(l.attributes,function(e){e&&e.specified&&(r[e.name]=e.value,r.setAttribute(e.name,e.value))}),r.text=l.text,l.parentNode.replaceChild(r,l));if(!Fe){var u="X<div>"===a[1]?i.lastChild.firstChild:i.lastChild;if(u&&"TABLE"===u.tagName&&"tbody"!==o)for(s=u.childNodes,c=0;l=s[c++];)if("TBODY"===l.tagName&&!l.innerHTML){u.removeChild(l);break}s=i.getElementsByTagName("br");for(var d=s.length;l=s[--d];)"msNoScope"===l.className&&l.parentNode.removeChild(l);for(s=i.all,c=0;l=s[c++];)_(l)&&P(l)}for(c=a[0];c--;i=i.lastChild);for(;n=i.firstChild;)t.appendChild(n);return t},avalon.innerHTML=function(e,t){if(!Fe&&!Rt.test(t)&&!Ft.test(t))try{return void(e.innerHTML=t)}catch(n){}var r=this.parseHTML(t);this.clearHTML(e).appendChild(r)},avalon.clearHTML=function(e){for(e.textContent="";e.firstChild;)e.removeChild(e.firstChild);return e},avalon.scan=function(e,t){e=e||Be;var n=t?[].concat(t):[];U(e,n)};var Ut=o("area,base,basefont,br,col,command,embed,hr,img,input,link,meta,param,source,track,wbr,noscript,script,style,textarea".toUpperCase()),qt=function(e,t,n){var r=e.getAttribute(t);if(r)for(var o,a=0;o=n[a++];)if(o.hasOwnProperty(r)&&"function"==typeof o[r])return o[r]},Wt=Ye&&e.MutationObserver?function(e){for(var t,n=e.firstChild;n;){var r=n.nextSibling;3===n.nodeType?t?(t.nodeValue+=n.nodeValue,e.removeChild(n)):t=n:t=null,n=r}}:0,Yt=/ms-(\w+)-?(.*)/,Vt={"if":10,repeat:90,data:100,widget:110,each:1400,"with":1500,duplex:2e3,on:3e3},Xt=o("animationend,blur,change,input,click,dblclick,focus,keydown,keypress,keyup,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,scan,scroll,submit"),Kt=o("value,title,alt,checked,selected,disabled,readonly,enabled"),Zt=/^if|widget|repeat$/,Gt=/^each|with|html|include$/;if(!"1"[0])var Jt=new Je(512),Qt=/\s+(ms-[^=\s]+)(?:=("[^"]*"|'[^']*'|[^\s>]+))?/g,en=/^['"]/,tn=/<\w+\b(?:(["'])[^"]*?(\1)|[^>])*>/i,nn=/&amp;/g,rn=function(e){var t=e.outerHTML;if("</"===t.slice(0,2)||!t.trim())return[];var n,r,o,a=t.match(tn)[0],i=[],s=Jt.get(a);if(s)return s;for(;r=Qt.exec(a);){o=r[2],o&&(o=(en.test(o)?o.slice(1,-1):o).replace(nn,"&"));var l=r[1].toLowerCase();n=l.match(Yt);var c={name:l,specified:!0,value:o||""};i.push(c)}return Jt.put(a,i)};var on=/\|\s*html\s*/,an=/\|\|/g,sn=/&lt;/g,ln=/&gt;/g,cn=/(['"])(\\\1|.)+?\1/g,un={_toString:function(){var e=this.node,t=e.className,n="string"==typeof t?t:t.baseVal;return n.split(/\s+/).join(" ")},_contains:function(e){return(" "+this+" ").indexOf(" "+e+" ")>-1},_add:function(e){this.contains(e)||this._set(this+" "+e)},_remove:function(e){this._set((" "+this+" ").replace(" "+e+" "," "))},__set:function(e){e=e.trim();var t=this.node;De.test(t)?t.setAttribute("class",e):t.className=e}};"add,remove".replace(Ie,function(e){avalon.fn[e+"Class"]=function(t){var n=this[0];return t&&"string"==typeof t&&n&&1===n.nodeType&&t.replace(/\S+/g,function(t){K(n)[e](t)}),this}}),avalon.fn.mix({hasClass:function(e){var t=this[0]||{};return 1===t.nodeType&&K(t).contains(e)},toggleClass:function(e,t){for(var n,r=0,o=String(e).split(/\s+/),a="boolean"==typeof t;n=o[r++];){var i=a?t:!this.hasClass(n);this[i?"addClass":"removeClass"](n)}return this},attr:function(e,t){return 2===arguments.length?(this[0].setAttribute(e,t),this):this[0].getAttribute(e)},data:function(e,t){switch(e="data-"+V(e||""),arguments.length){case 2:return this.attr(e,t),this;case 1:var n=this.attr(e);return Z(n);case 0:var r={};return $e.forEach.call(this[0].attributes,function(t){t&&(e=t.name,e.indexOf("data-")||(e=X(e.slice(5)),r[e]=Z(t.value)))}),r}},removeData:function(e){return e="data-"+V(e),this[0].removeAttribute(e),this},css:function(e,t){if(avalon.isPlainObject(e))for(var n in e)avalon.css(this,n,e[n]);else var r=avalon.css(this,e,t);return void 0!==r?r:this},position:function(){var e,t,n=this[0],r={top:0,left:0};if(n)return"fixed"===this.css("position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),"HTML"!==e[0].tagName&&(r=e.offset()),r.top+=avalon.css(e[0],"borderTopWidth",!0),r.left+=avalon.css(e[0],"borderLeftWidth",!0),r.top-=e.scrollTop(),r.left-=e.scrollLeft()),{top:t.top-r.top-avalon.css(n,"marginTop",!0),left:t.left-r.left-avalon.css(n,"marginLeft",!0)}},offsetParent:function(){for(var e=this[0].offsetParent;e&&"static"===avalon.css(e,"position");)e=e.offsetParent;return avalon(e||Be)},bind:function(e,t,n){return this[0]?avalon.bind(this[0],e,t,n):void 0},unbind:function(e,t,n){return this[0]&&avalon.unbind(this[0],e,t,n),this},val:function(e){var t=this[0];if(t&&1===t.nodeType){var n=0===arguments.length,r=n?":get":":set",o=On[Q(t)+r];if(o)var a=o(t,e);else{if(n)return(t.value||"").replace(/\r/g,"");t.value=e}}return n?a:this}});var dn=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,fn=/^[\],:{}\s]*$/,pn=/(?:^|:|,)(?:\s*\[)+/g,hn=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,vn=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g;avalon.parseJSON=e.JSON?JSON.parse:function(e){if("string"==typeof e){if(e=e.trim(),e&&fn.test(e.replace(hn,"@").replace(vn,"]").replace(pn,"")))return new Function("return "+e)();avalon.error("Invalid JSON: "+e)}return e},avalon.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){avalon.fn[e]=function(n){var r=this[0]||{},o=G(r),a="scrollTop"===e;return arguments.length?void(o?o.scrollTo(a?avalon(o).scrollLeft():n,a?n:avalon(o).scrollTop()):r[e]=n):o?t in o?o[t]:Be[e]:r[e]}});var gn=avalon.cssHooks={},mn=["","-webkit-","-o-","-moz-","-ms-"],yn={"float":Fe?"cssFloat":"styleFloat"};if(avalon.cssNumber=o("columnCount,order,fillOpacity,fontWeight,lineHeight,opacity,orphans,widows,zIndex,zoom"),avalon.cssName=function(e,t,n){if(yn[e])return yn[e];t=t||Be.style;for(var r=0,o=mn.length;o>r;r++)if(n=X(mn[r]+e),n in t)return yn[e]=n;return null},gn["@:set"]=function(e,t,n){try{e.style[t]=n}catch(r){}},e.getComputedStyle)gn["@:get"]=function(e,t){if(!e||!e.style)throw new Error("getComputedStyle要求传入一个节点 "+e);var n,r=getComputedStyle(e,null);return r&&(n="filter"===t?r.getPropertyValue(t):r[t],""===n&&(n=e.style[t])),n},gn["opacity:get"]=function(e){var t=gn["@:get"](e,"opacity");return""===t?"1":t};else{var bn=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Cn=/^(top|right|bottom|left)$/,xn=/alpha\([^)]*\)/i,Nn=!!e.XDomainRequest,wn="DXImageTransform.Microsoft.Alpha",Tn={thin:Nn?"1px":"2px",medium:Nn?"3px":"4px",thick:Nn?"5px":"6px"};gn["@:get"]=function(e,t){var n=e.currentStyle,r=n[t];if(bn.test(r)&&!Cn.test(r)){var o=e.style,a=o.left,i=e.runtimeStyle.left;e.runtimeStyle.left=n.left,o.left="fontSize"===t?"1em":r||0,r=o.pixelLeft+"px",o.left=a,e.runtimeStyle.left=i}return"medium"===r&&(t=t.replace("Width","Style"),"none"===n[t]&&(r="0px")),""===r?"auto":Tn[r]||r},gn["opacity:set"]=function(e,t,n){var r=e.style,o=isFinite(n)&&1>=n?"alpha(opacity="+100*n+")":"",a=r.filter||"";r.zoom=1,r.filter=(xn.test(a)?a.replace(xn,o):a+" "+o).trim(),r.filter||r.removeAttribute("filter")},gn["opacity:get"]=function(e){var t=e.filters.alpha||e.filters[wn],n=t&&t.enabled?t.opacity:100;return n/100+""}}"top,left".replace(Ie,function(e){gn[e+":get"]=function(t){var n=gn["@:get"](t,e);return/px$/.test(n)?n:avalon(t).position()[e]+"px"}});var kn={position:"absolute",visibility:"hidden",display:"block"},En=/^(none|table(?!-c[ea]).+)/;"Width,Height".replace(Ie,function(e){var t=e.toLowerCase(),n="client"+e,r="scroll"+e,o="offset"+e;gn[t+":get"]=function(t,n,r){var a=-4;"number"==typeof r&&(a=r),n="Width"===e?["Left","Right"]:["Top","Bottom"];var i=t[o];return 2===a?i+avalon.css(t,"margin"+n[0],!0)+avalon.css(t,"margin"+n[1],!0):(0>a&&(i=i-avalon.css(t,"border"+n[0]+"Width",!0)-avalon.css(t,"border"+n[1]+"Width",!0)),-4===a&&(i=i-avalon.css(t,"padding"+n[0],!0)-avalon.css(t,"padding"+n[1],!0)),i)},gn[t+"&get"]=function(e){var n=[];J(e,n);for(var r,o=gn[t+":get"](e),a=0;r=n[a++];){e=r.node;for(var i in r)"string"==typeof r[i]&&(e.style[i]=r[i])}return o},avalon.fn[t]=function(a){var i=this[0];if(0===arguments.length){if(i.setTimeout)return i["inner"+e]||i.document.documentElement[n];if(9===i.nodeType){var s=i.documentElement;return Math.max(i.body[r],s[r],i.body[o],s[o],s[n])}return gn[t+"&get"](i)}return this.css(t,a)},avalon.fn["inner"+e]=function(){return gn[t+":get"](this[0],void 0,-2)},avalon.fn["outer"+e]=function(e){return gn[t+":get"](this[0],void 0,e===!0?2:0)}}),avalon.fn.offset=function(){var e=this[0],t={left:0,top:0};if(!e||!e.tagName||!e.ownerDocument)return t;var n=e.ownerDocument,r=n.body,o=n.documentElement,a=n.defaultView||n.parentWindow;if(!avalon.contains(o,e))return t;e.getBoundingClientRect&&(t=e.getBoundingClientRect());var i=o.clientTop||r.clientTop,s=o.clientLeft||r.clientLeft,l=Math.max(a.pageYOffset||0,o.scrollTop,r.scrollTop),c=Math.max(a.pageXOffset||0,o.scrollLeft,r.scrollLeft);return{top:t.top+l-i,left:t.left+c-s}};var Sn=/^<option(?:\s+\w+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s>]+))?)*\s+value[\s=]/i,On={"option:get":Ye?function(e){return Sn.test(e.outerHTML)?e.value:e.text.trim()}:function(e){return e.value},"select:get":function(e,t){for(var n,r=e.options,o=e.selectedIndex,a=On["option:get"],i="select-one"===e.type||0>o,s=i?null:[],l=i?o+1:r.length,c=0>o?l:i?o:0;l>c;c++)if(n=r[c],(n.selected||c===o)&&!n.disabled){if(t=a(n),i)return t;s.push(t)}return s},"select:set":function(e,t,n){t=[].concat(t);for(var r,o=On["option:get"],a=0;r=e.options[a++];)(r.selected=t.indexOf(o(r))>-1)&&(n=!0);n||(e.selectedIndex=-1)}},An={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},In=e.JSON&&JSON.stringify||function(e){return'"'+e.replace(/[\\\"\x00-\x1f]/g,function(e){var t=An[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'},Ln=["break,case,catch,continue,debugger,default,delete,do,else,false","finally,for,function,if,in,instanceof,new,null,return,switch,this","throw,true,try,typeof,var,void,while,with","abstract,boolean,byte,char,class,const,double,enum,export,extends","final,float,goto,implements,import,int,interface,long,native","package,private,protected,public,short,static,super,synchronized","throws,transient,volatile","arguments,let,yield,undefined"].join(","),Dn=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g,_n=/[^\w$]+/g,Pn=new RegExp(["\\b"+Ln.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),Mn=/\b\d[^,]*/g,jn=/^,+|,+$/g,$n=new Je(512),Rn=function(e){var t=","+e.trim(),n=$n.get(t);if(n)return n;var r=e.replace(Dn,"").replace(_n,",").replace(Pn,"").replace(Mn,"").replace(jn,"").split(/^$|,+/);return $n.put(t,te(r))},Hn=new Je(128),Fn=/\w\[.*\]|\w\.\w/,Bn=/(\$proxy\$[a-z]+)\d+$/,zn=/\)\s*$/,Un=/\)\s*\|/g,qn=/\|\s*([$\w]+)/g,Wn=/"\s*\["/g,Yn=/"\s*\(/g;avalon.parseExprProxy=oe;var Vn=["autofocus,autoplay,async,allowTransparency,checked,controls","declare,disabled,defer,defaultChecked,defaultSelected","contentEditable,isMap,loop,multiple,noHref,noResize,noShade","open,readOnly,selected"].join(","),Xn={};Vn.replace(Ie,function(e){Xn[e.toLowerCase()]=e});var Kn={"accept-charset":"acceptCharset","char":"ch",charoff:"chOff","class":"className","for":"htmlFor","http-equiv":"httpEquiv"},Zn=["accessKey,bgColor,cellPadding,cellSpacing,codeBase,codeType,colSpan","dateTime,defaultValue,frameBorder,longDesc,maxLength,marginWidth,marginHeight","rowSpan,tabIndex,useMap,vSpace,valueType,vAlign"].join(",");Zn.replace(Ie,function(e){Kn[e.toLowerCase()]=e});var Gn=/<noscript.*?>(?:[\s\S]+?)<\/noscript>/gim,Jn=/<noscript.*?>([\s\S]+?)<\/noscript>/im,Qn=function(){return new(e.XMLHttpRequest||ActiveXObject)("Microsoft.XMLHTTP")},er=avalon.templateCache={};Ze.attr=function(e,t){var n=e.value.trim(),r=!0;if(n.indexOf(ut)>-1&&n.indexOf(dt)>2&&(r=!1,ft.test(n)&&""===RegExp.rightContext&&""===RegExp.leftContext&&(r=!0,n=RegExp.$1)),"include"===e.type){var o=e.element;e.includeRendered=qt(o,"data-include-rendered",t),e.includeLoaded=qt(o,"data-include-loaded",t);var a=e.includeReplace=!!avalon(o).data("includeReplace");avalon(o).data("includeCache")&&(e.templateCache={}),e.startInclude=xe.createComment("ms-include"),e.endInclude=xe.createComment("ms-include-end"),a?(e.element=e.startInclude,o.parentNode.insertBefore(e.startInclude,o),o.parentNode.insertBefore(e.endInclude,o.nextSibling)):(o.insertBefore(e.startInclude,o.firstChild),o.appendChild(e.endInclude))}e.handlerName="attr",oe(n,t,e,r?0:W(e.value))},Ge.attr=function(t,n,r){var o=r.type,a=r.param;if("css"===o)avalon(n).css(a,t);else if("attr"===o){var i=t===!1||null===t||void 0===t;!Fe&&Kn[a]&&(a=Kn[a]);var s=Xn[a];if("boolean"==typeof n[s]&&(n[s]=!!t,t||(i=!0)),i)return n.removeAttribute(a);var l=De.test(n)?!1:xe.namespaces&&_(n)?!0:a in n.cloneNode(!1);l?n[a]=t:n.setAttribute(a,t)}else if("include"===o&&t){var c=r.vmodels,u=r.includeRendered,d=r.includeLoaded,f=r.includeReplace,p=f?n.parentNode:n,h=function(e){if(d){var n=d.apply(p,[e].concat(c));"string"==typeof n&&(e=n)}u&&M(p,function(){u.call(p)},0/0);var o=r.includeLastID;if(r.templateCache&&o&&o!==t){var a=r.templateCache[o];a||(a=r.templateCache[o]=xe.createElement("div"),we.appendChild(a))}for(r.includeLastID=t;;){var i=r.startInclude.nextSibling;if(!i||i===r.endInclude)break;p.removeChild(i),a&&a.appendChild(i)}var s=ae(r,t,e),l=avalon.slice(s.childNodes);p.insertBefore(s,r.endInclude),B(l,c)};if("src"===r.param)if("string"==typeof er[t])avalon.nextTick(function(){h(er[t])});else if(Array.isArray(er[t]))er[t].push(h);else{var v=Qn();v.onreadystatechange=function(){if(4===v.readyState){var e=v.status;if(e>=200&&300>e||304===e||1223===e){for(var n,r=v.responseText,o=0;n=er[t][o++];)n(r);er[t]=r}}},er[t]=[h],v.open("GET",t,!0),"withCredentials"in v&&(v.withCredentials=!0),v.setRequestHeader("X-Requested-With","XMLHttpRequest"),v.send(null)}else{var g=t&&1===t.nodeType?t:xe.getElementById(t);if(g){if("NOSCRIPT"===g.tagName&&!g.innerHTML&&!g.fixIE78){v=Qn(),v.open("GET",location,!1),v.send(null);for(var m=xe.getElementsByTagName("noscript"),y=(v.responseText||"").match(Gn)||[],b=y.length,C=0;b>C;C++){var x=m[C];x&&(x.style.display="none",x.fixIE78=(y[C].match(Jn)||["","&nbsp;"])[1])}}avalon.nextTick(function(){h(g.fixIE78||g.value||g.innerText||g.innerHTML)})}}}else if(Be.hasAttribute||"string"!=typeof t||"src"!==o&&"href"!==o||(t=t.replace(/&amp;/g,"&")),n[o]=t,e.chrome&&"EMBED"===n.tagName){var N=n.parentNode,w=document.createComment("ms-src");N.replaceChild(w,n),N.replaceChild(n,w)}},"title,alt,src,value,css,include,href".replace(Ie,function(e){Ze[e]=Ze.attr}),Ze["class"]=function(e,t){var r,o=e.param,a=e.value;if(e.handlerName="class",!o||isFinite(o)){e.param="";var i=a.replace(pt,function(e){return e.replace(/./g,"0")}),s=i.indexOf(":");if(-1===s)var l=a;else{if(l=a.slice(0,s),r=a.slice(s+1),re(r,t,e),!e.evaluator)return n("debug: ms-class '"+(r||"").trim()+"' 不存在于VM中"),!1;e._evaluator=e.evaluator,e._args=e.args}var c=ft.test(l);c||(e.immobileClass=l),oe("",t,e,c?W(l):0)}else e.immobileClass=e.oldStyle=e.param,oe(a,t,e)},Ge["class"]=function(e,t,n){var r=avalon(t),o=n.type;if("class"===o&&n.oldStyle)r.toggleClass(n.oldStyle,!!e);else switch(n.toggleClass=n._evaluator?!!n._evaluator.apply(t,n._args):!0,n.newClass=n.immobileClass||e,n.oldClass&&n.newClass!==n.oldClass&&r.removeClass(n.oldClass),n.oldClass=n.newClass,o){case"class":r.toggleClass(n.newClass,n.toggleClass);break;case"hover":case"active":if(!n.hasBindEvent){var a="mouseenter",i="mouseleave";if("active"===o){t.tabIndex=t.tabIndex||-1,a="mousedown",i="mouseup";var s=r.bind("mouseleave",function(){n.toggleClass&&r.removeClass(n.newClass)})}var l=r.bind(a,function(){n.toggleClass&&r.addClass(n.newClass)}),c=r.bind(i,function(){n.toggleClass&&r.removeClass(n.newClass)});n.rollback=function(){r.unbind("mouseleave",s),r.unbind(a,l),r.unbind(i,c)},n.hasBindEvent=!0}}},"hover,active".replace(Ie,function(e){Ze[e]=Ze["class"]}),Ge.data=function(e,t,n){var r="data-"+n.param;e&&"object"==typeof e?t[r]=e:t.setAttribute(r,String(e))};var tr=Ze.duplex=function(e,t){var a,i=e.element;if(oe(e.value,t,e,0,1),e.changed=qt(i,"data-duplex-changed",t)||r,e.evaluator&&e.args){var s=[],l=o("string,number,boolean,checked");"radio"===i.type&&""===e.param&&(e.param="checked"),i.msData&&(i.msData["ms-duplex"]=e.value),e.param.replace(/\w+/g,function(t){/^(checkbox|radio)$/.test(i.type)&&/^(radio|checked)$/.test(t)&&("radio"===t&&n("ms-duplex-radio已经更名为ms-duplex-checked"),t="checked",e.isChecked=!0),"bool"===t?(t="boolean",n("ms-duplex-bool已经更名为ms-duplex-boolean")):"text"===t&&(t="string",n("ms-duplex-text已经更名为ms-duplex-string")),l[t]&&(a=!0),avalon.Array.ensure(s,t)}),a||s.push("string"),e.param=s.join("-"),e.bound=function(t,n){i.addEventListener?i.addEventListener(t,n,!1):i.attachEvent("on"+t,n);var r=e.rollback;e.rollback=function(){i.avalonSetter=null,avalon.unbind(i,t,n),r&&r()}};for(var c in avalon.vmodels){var u=avalon.vmodels[c];u.$fire("avalon-ms-duplex-init",e)}var d=e.pipe||(e.pipe=se);d(null,e,"init");var f=i.tagName;tr[f]&&tr[f](i,e.evaluator.apply(null,e.args),e)}};avalon.duplexHooks={checked:{get:function(e,t){return!t.element.oldValue}},string:{get:function(e){return e},set:ie},"boolean":{get:function(e){return"true"===e},set:ie},number:{get:function(e,t){var n=parseFloat(e);if(-e===-n)return n;var r=/strong|medium|weak/.exec(t.element.getAttribute("data-duplex-number"))||["medium"];switch(r[0]){case"strong":return 0;case"medium":return""===e?"":0;case"weak":return e}},set:ie}};var nr,rr=[];avalon.tick=function(e){1===rr.push(e)&&(nr=setInterval(le,60))};var or=r,ar=/text|password|hidden/;!new function(){function e(e){if(avalon.contains(Be,this)){if(t[this.tagName].call(this,e),!ar.test(this.type))return;!this.msFocus&&this.avalonSetter&&this.avalonSetter()}}try{var t={},n=HTMLInputElement.prototype,r=HTMLTextAreaElement.prototype,o=HTMLInputElement.prototype;Object.getOwnPropertyNames(o),t.INPUT=Object.getOwnPropertyDescriptor(n,"value").set,Object.defineProperty(n,"value",{set:e}),t.TEXTAREA=Object.getOwnPropertyDescriptor(r,"value").set,Object.defineProperty(r,"value",{set:e})}catch(a){or=avalon.tick}},Ye&&avalon.bind(xe,"selectionchange",function(e){var t=xe.activeElement;t&&"function"==typeof t.avalonSetter&&t.avalonSetter()}),tr.INPUT=function(e,t,r){function o(e){r.changed.call(this,e,r)}function a(){d=!0}function i(){d=!1}function s(e){setTimeout(function(){f(e)})}var l=e.type,c=r.bound,u=avalon(e),d=!1,f=function(){if(!d){var n=e.oldValue=e.value,a=r.pipe(n,r,"get");u.data("duplexObserve")!==!1&&(t(a),o.call(e,a),u.data("duplex-focus")&&avalon.nextTick(function(){e.focus()}))}};if(r.handler=function(){var n=r.pipe(t(),r,"set")+"";n!==e.oldValue&&(e.value=n)},r.isChecked||"radio"===l){var p=6===Ye;f=function(){if(u.data("duplexObserve")!==!1){var n=r.pipe(e.value,r,"get");t(n),o.call(e,n)}},r.handler=function(){var n=t(),o=r.isChecked?!!n:n+""===e.value;e.oldValue=o,p?setTimeout(function(){e.defaultChecked=o,e.checked=o},31):e.checked=o},c("click",f)}else if("checkbox"===l)f=function(){if(u.data("duplexObserve")!==!1){var a=e.checked?"ensure":"remove",i=t();Array.isArray(i)||(n("ms-duplex应用于checkbox上要对应一个数组"),i=[i]),avalon.Array[a](i,r.pipe(e.value,r,"get")),o.call(e,i)}},r.handler=function(){var n=[].concat(t());e.checked=n.indexOf(r.pipe(e.value,r,"get"))>-1},c(Fe?"change":"click",f);else{var h=e.getAttribute("data-duplex-event")||"input";e.attributes["data-event"]&&n("data-event指令已经废弃，请改用data-duplex-event"),h.replace(Ie,function(e){switch(e){case"input":Ye?(Ye>8?c("input",f):c("propertychange",function(e){"value"===e.propertyName&&f()}),c("dragend",s)):(c("input",f),c("compositionstart",a),c("compositionend",i),c("DOMAutoComplete",f));break;default:c(e,f)}}),c("focus",function(){e.msFocus=!0}),c("blur",function(){e.msFocus=!1}),ar.test(l)&&or(function(){if(Be.contains(e))e.msFocus||e.oldValue===e.value||f();else if(!e.msRetain)return!1}),e.avalonSetter=f}e.oldValue=e.value,E(r),o.call(e,e.value)},tr.TEXTAREA=tr.INPUT,tr.SELECT=function(e,t,r){function o(){if(a.data("duplexObserve")!==!1){var n=a.val();n=Array.isArray(n)?n.map(function(e){return r.pipe(e,r,"get")}):r.pipe(n,r,"get"),n+""!==e.oldValue&&t(n),r.changed.call(e,n,r)}}var a=avalon(e);r.handler=function(){var r=t();r=r&&r.$model||r,Array.isArray(r)?e.multiple||n("ms-duplex在<select multiple=true>上要求对应一个数组"):e.multiple&&n("ms-duplex在<select multiple=false>不能对应一个数组"),r=Array.isArray(r)?r.map(String):r+"",r+""!==e.oldValue&&(a.val(r),e.oldValue=r+"")},r.bound("change",o),e.msCallback=function(){E(r),r.changed.call(e,t(),r)}},Ge.html=function(e,t,n){e=null==e?"":e;var r="group"in n,o=r?t.parentNode:t;if(o){if("string"==typeof e)var a=avalon.parseHTML(e);else if(11===e.nodeType)a=e;else if(1===e.nodeType||e.item){var i=1===e.nodeType?e.childNodes:e.item;for(a=ze.cloneNode(!0);i[0];)a.appendChild(i[0])}if(a.firstChild||a.appendChild(xe.createComment("ms-html")),i=avalon.slice(a.childNodes),r){var s=n.group,l=1;for(n.group=i.length,n.element=i[0];s>l;){var c=t.nextSibling;c&&(o.removeChild(c),l++)}o.replaceChild(a,t)}else avalon.clearHTML(o).appendChild(a);B(i,n.vmodels)}},Ze["if"]=Ze.data=Ze.text=Ze.html=function(e,t){oe(e.value,t,e)},Ge["if"]=function(e,t,n){if(e)8===t.nodeType&&(t.parentNode.replaceChild(n.template,t),t=n.element=n.template),t.getAttribute(n.name)&&(t.removeAttribute(n.name),H(t,n.vmodels)),n.rollback=null;else if(1===t.nodeType){var r=n.element=xe.createComment("ms-if");t.parentNode.replaceChild(r,t),n.template=t,we.appendChild(t),n.rollback=function(){t.parentNode===we&&we.removeChild(t)}}};var ir=/\(([^)]*)\)/;Ze.on=function(e,t){var n=e.value;e.type="on";var r=e.param.replace(/-\d+$/,"");if("function"==typeof Ze.on[r+"Hook"]&&Ze.on[r+"Hook"](e),n.indexOf("(")>0&&n.indexOf(")")>-1){var o=(n.match(ir)||["",""])[1].trim();(""===o||"$event"===o)&&(n=n.replace(ir,""))}oe(n,t,e)},Ge.on=function(e,t,n){e=function(e){var t=n.evaluator||r;return t.apply(this,n.args.concat(e))};var o=n.param.replace(/-\d+$/,"");if("scan"===o)e.call(t,{type:o});else if("function"==typeof n.specialBind)n.specialBind(t,e);else var a=avalon.bind(t,o,e);n.rollback=function(){"function"==typeof n.specialUnbind?n.specialUnbind():avalon.unbind(t,o,a)}},Ze.repeat=function(e,t){var n=e.type;oe(e.value,t,e,0,1),e.proxies=[];var r=!1;try{var o=e.$repeat=e.evaluator.apply(0,e.args||[]),a=avalon.type(o);"object"!==a&&"array"!==a&&(r=!0,avalon.log("warning:"+e.value+"只能是对象或数组"))}catch(i){r=!0}var s=e.value.split(".")||[];if(s.length>1){s.pop();for(var l,c=s[0],u=0;l=t[u++];)if(l&&l.hasOwnProperty(c)){var d=l[c].$events||{};d[Ee]=d[Ee]||[],d[Ee].push(e);break}}var f=e.element;f.removeAttribute(e.name),e.sortedCallback=qt(f,"data-with-sorted",t),e.renderedCallback=qt(f,"data-"+n+"-rendered",t);var p=We(n),h=e.element=xe.createComment(p+":end");if(e.clone=xe.createComment(p),ze.appendChild(h),"each"===n||"with"===n?(e.template=f.innerHTML.trim(),avalon.clearHTML(f).appendChild(h)):(e.template=f.outerHTML.trim(),f.parentNode.replaceChild(h,f)),e.template=avalon.parseHTML(e.template),e.rollback=function(){var t=e.element;if(t){Ge.repeat.call(e,"clear");var n=t.parentNode,r=e.template,o=r.firstChild;n.replaceChild(r,t);var a=e.$stamp;a&&a.parentNode&&a.parentNode.removeChild(a),o=e.element="repeat"===e.type?o:n}},!r){e.handler=Ge.repeat,e.$outer={};var v="$key",g="$val";for(Array.isArray(o)&&(v="$first",g="$last"),u=0;l=t[u++];)if(l.hasOwnProperty(v)&&l.hasOwnProperty(g)){e.$outer=l;break}var m=o.$events,y=(m||{})[Ee];if(y&&avalon.Array.ensure(y,e)&&O(e,y),"object"===a){e.$with=!0;var b=m?m.$withProxyPool||(m.$withProxyPool={}):{};e.handler("append",o,b)}else o.length&&e.handler("add",0,o.length)}},Ge.repeat=function(e,t,n){if(e){var o=this,a=o.element,i=a.parentNode,s=o.proxies,l=ze.cloneNode(!1);switch(e){case"add":for(var c,u=t+n,d=o.$repeat,f=d.length-1,p=[],h=ue(o,t),v=t;u>v;v++){var g=pe(v,o);s.splice(v,0,g),ce(o,l,g,p)}for(i.insertBefore(l,h),v=0;c=p[v++];)B(c.nodes,c.vmodels),c.nodes=c.vmodels=null;break;case"del":h=s[t].$stamp,a=ue(o,t+n),de(h,a);var m=s.splice(t,n);ge(m,"each");break;case"clear":var y=o.$stamp||s[0];y&&(h=y.$stamp||y,de(h,a)),ge(s,"each");break;case"move":h=s[0].$stamp;var b,C=h.nodeValue,x=[],N=[];for(de(h,a,function(){N.unshift(this),this.nodeValue===C&&(x.unshift(N),N=[])}),k(s,t),k(x,t);N=x.shift();)for(;b=N.shift();)l.appendChild(b);i.insertBefore(l,a);break;case"index":for(f=s.length-1;n=s[t];t++)n.$index=t,n.$first=0===t,n.$last=t===f;return;case"set":return g=s[t],void(g&&D(g.$events[o.param||"el"]));case"append":var w=n,T=[];p=[];for(var E in t)t.hasOwnProperty(E)&&"hasOwnProperty"!==E&&T.push(E);if(o.sortedCallback){var S=o.sortedCallback.call(i,T);S&&Array.isArray(S)&&S.length&&(T=S)}for(v=0;E=T[v++];)"hasOwnProperty"!==E&&(w[E]||(w[E]=ve(E,o)),ce(o,l,w[E],p));var O=o.$stamp=o.clone;for(i.insertBefore(O,a),i.insertBefore(l,a),v=0;c=p[v++];)B(c.nodes,c.vmodels),c.nodes=c.vmodels=null}"clear"===e&&(e="del");var A=o.renderedCallback||r,I=arguments;M(i,function(){A.apply(i,I),i.oldValue&&"SELECT"===i.tagName&&avalon(i).val(i.oldValue.split(","))},0/0)}},"with,each".replace(Ie,function(e){Ze[e]=Ze.repeat});var sr=[],lr=[];Ge.text=function(e,t){if(e=null==e?"":e,3===t.nodeType)try{t.data=e}catch(n){}else"textContent"in t?t.textContent=e:t.innerText=e},avalon.parseDisplay=me,Ze.visible=function(e,t){var n=avalon(e.element),r=n.css("display");if("none"===r){var o=n[0].style,a=/visibility/i.test(o.cssText),i=n.css("visibility");o.display="",o.visibility="hidden",r=n.css("display"),"none"===r&&(r=me(n[0].nodeName)),o.visibility=a?i:""}e.display=r,oe(e.value,t,e)},Ge.visible=function(e,t,n){t.style.display=e?n.display:"none"},Ze.widget=function(t,o){var a=t.value.match(Ie),i=t.element,s=a[0],l=a[1];l&&"$"!==l||(l=We(s));var c=a[2]||s,u=avalon.ui[s];if("function"==typeof u){o=i.vmodels||o;for(var d,f=0;d=o[f++];)if(d.hasOwnProperty(c)&&"object"==typeof d[c]){var p=d[c];p=p.$model||p;break}if(p){var h=p[s+"Id"];"string"==typeof h&&(n("warning!不再支持"+s+"Id"),l=h)}var v=avalon.getWidgetData(i,s);t.value=[s,l,c].join(","),t[s+"Id"]=l,t.evaluator=r,i.msData["ms-widget-id"]=l;var g=t[s+"Options"]=avalon.mix({},u.defaults,p||{},v);i.removeAttribute("ms-widget");var m=u(i,t,o)||{};if(m.$id){avalon.vmodels[l]=m,j(i,m);try{m.$init(function(){avalon.scan(i,[m].concat(o)),"function"==typeof g.onInit&&g.onInit.call(i,m,g,o)})}catch(y){}t.rollback=function(){try{m.widgetElement=null,m.$remove()}catch(e){}i.msData={},delete avalon.vmodels[m.$id]},O(t,cr),e.chrome&&i.addEventListener("DOMNodeRemovedFromDocument",function(){setTimeout(L)})}else avalon.scan(i,o)}else o.length&&(i.vmodels=o)};var cr=[],ur=/<script[^>]*>([\S\s]*?)<\/script\s*>/gim,dr=/\s+(on[^=\s]+)(?:=("[^"]*"|'[^']*'|[^\s>]+))?/g,fr=/<\w+\b(?:(["'])[^"]*?(\1)|[^>])*>/gi,pr={a:/\b(href)\=("javascript[^"]*"|'javascript[^']*')/gi,img:/\b(src)\=("javascript[^"]*"|'javascript[^']*')/gi,form:/\b(action)\=("javascript[^"]*"|'javascript[^']*')/gi},hr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vr=/([^\#-~| |!])/g,gr=avalon.filters={uppercase:function(e){return e.toUpperCase()},lowercase:function(e){return e.toLowerCase()},truncate:function(e,t,n){return t=t||30,n=void 0===n?"...":n,e.length>t?e.slice(0,t-n.length)+n:String(e)},$filter:function(e){for(var t=1,n=arguments.length;n>t;t++){var r=arguments[t],o=avalon.filters[r.shift()];if("function"==typeof o){var a=[e].concat(r);e=o.apply(null,a)}}return e},camelize:X,sanitize:function(e){return e.replace(ur,"").replace(fr,function(e,t){var n=e.toLowerCase().match(/<(\w+)\s/);if(n){var r=pr[n[1]];r&&(e=e.replace(r,function(e,t,n){var r=n.charAt(0);return t+"="+r+"javascript:void(0)"+r}))}return e.replace(dr," ").replace(/\s+/g," ")})},escape:function(e){return String(e).replace(/&/g,"&amp;").replace(hr,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(vr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")},currency:function(e,t,n){return(t||"￥")+ye(e,isFinite(n)?n:2)},number:ye};!new function(){function e(e){return parseInt(e,10)||0}function t(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function n(e,n,r,o){return function(a){var i=a["get"+e]();return(r>0||i>-r)&&(i+=r),0===i&&-12===r&&(i=12),t(i,n,o)}}function r(e,t){return function(n,r){var o=n["get"+e](),a=(t?"SHORT"+e:e).toUpperCase();return r[a][o]}}function o(e){var n=-1*e.getTimezoneOffset(),r=n>=0?"+":"";return r+=t(Math[n>0?"floor":"ceil"](n/60),2)+t(Math.abs(n%60),2)}function a(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}var i={yyyy:n("FullYear",4),yy:n("FullYear",2,0,!0),y:n("FullYear",1),MMMM:r("Month"),MMM:r("Month",!0),MM:n("Month",2,1),M:n("Month",1,1),dd:n("Date",2),d:n("Date",1),HH:n("Hours",2),H:n("Hours",1),hh:n("Hours",2,-12),h:n("Hours",1,-12),mm:n("Minutes",2),m:n("Minutes",1),ss:n("Seconds",2),s:n("Seconds",1),sss:n("Milliseconds",3),EEEE:r("Day"),EEE:r("Day",!0),a:a,Z:o},s=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,l=/^\/Date\((\d+)\)\/$/;gr.date=function(t,n){var r,o,a=gr.date.locate,c="",u=[];if(n=n||"mediumDate",n=a[n]||n,"string"==typeof t)if(/^\d+$/.test(t))t=e(t);else if(l.test(t))t=+RegExp.$1;else{var d=t.trim(),f=[0,0,0,0,0,0,0],p=new Date(0);d=d.replace(/^(\d+)\D(\d+)\D(\d+)/,function(t,n,r,o){var a=4===o.length?[o,n,r]:[n,r,o];return f[0]=e(a[0]),f[1]=e(a[1])-1,f[2]=e(a[2]),""});var h=p.setFullYear,v=p.setHours;d=d.replace(/[T\s](\d+):(\d+):?(\d+)?\.?(\d)?/,function(t,n,r,o,a){return f[3]=e(n),f[4]=e(r),f[5]=e(o),a&&(f[6]=Math.round(1e3*parseFloat("0."+a))),""});var g=0,m=0;d=d.replace(/Z|([+-])(\d\d):?(\d\d)/,function(t,n,r,o){return h=p.setUTCFullYear,v=p.setUTCHours,n&&(g=e(n+r),m=e(n+o)),""}),f[3]-=g,f[4]-=m,h.apply(p,f.slice(0,3)),v.apply(p,f.slice(3)),t=p}if("number"==typeof t&&(t=new Date(t)),"date"===avalon.type(t)){for(;n;)o=s.exec(n),o?(u=u.concat(o.slice(1)),n=u.pop()):(u.push(n),n=null);return u.forEach(function(e){r=i[e],c+=r?r(t,a):e.replace(/(^'|'$)/g,"").replace(/''/g,"'");

}),c}};var c={AMPMS:{0:"上午",1:"下午"},DAY:{0:"星期日",1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六"},MONTH:{0:"1月",1:"2月",2:"3月",3:"4月",4:"5月",5:"6月",6:"7月",7:"8月",8:"9月",9:"10月",10:"11月",11:"12月"},SHORTDAY:{0:"周日",1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六"},fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"yyyy-M-d H:mm:ss",mediumDate:"yyyy-M-d",mediumTime:"H:mm:ss","short":"yy-M-d ah:mm",shortDate:"yy-M-d",shortTime:"ah:mm"};c.SHORTMONTH=c.MONTH,gr.date.locate=c};var mr=avalon.modules={"domReady!":{exports:avalon,state:3},avalon:{exports:avalon,state:4}};mr.exports=mr.avalon,new function(){function t(e,t){var r="js";e=e.replace(/^(\w+)\!/,function(e,t){return r=t,""}),"ready"===r&&(n("debug: ready!已经被废弃，请使用domReady!"),r="domReady");var o="";e=e.replace(j,function(e){return o=e,""});var a="."+r,i=/js|css/.test(a)?a:"";e=e.replace(/\.[a-z0-9]+$/g,function(e){return e===a?(i=e,""):e});var s=avalon.mix({query:o,ext:i,res:r,name:e,toUrl:g},t);return s.toUrl(e),s}function o(e){var t=e.name,n=e.res,r=mr[t],o=t&&e.urlNoQuery;if(r&&r.state>=1)return t;if(r=mr[o],r&&r.state>=3)return Te(r.deps||[],r.factory,o),o;if(t&&!r){r=mr[o]={id:o,state:1};var a=function(o){M[n]=o,o.load(t,e,function(e){arguments.length&&void 0!==e&&(r.exports=e),r.state=4,l()})};M[n]?a(M[n]):Te([n],a)}return t?o:n+"!"}function i(e,t){for(var n,r=0;n=e[r++];)if(4!==mr[n].state&&(n===t||i(mr[n].deps,t)))return!0}function s(e,t,r){var o=u(e.src);return e.onload=e.onreadystatechange=e.onerror=null,t||r&&mr[o]&&!mr[o].state?(setTimeout(function(){Ne.removeChild(e),e=null}),void n("debug: 加载 "+o+" 失败"+t+" "+!mr[o].state)):!0}function l(){e:for(var e,t=k.length;e=k[--t];){var n=mr[e],r=n.deps;if(r){for(var o,a=0;o=r[a];a++)if(4!==Object(mr[o]).state)continue e;4!==n.state&&(k.splice(t,1),h(n.id,n.deps,n.factory),l())}}}function c(e,t,r){function o(){var o=E.pop();o&&o.require(t),r&&r(),s(a,!1,!c)&&(n("debug: 已成功加载 "+e),t&&k.push(t),l())}var a=xe.createElement("script");a.className=Ee;var i,c="onload"in a,u=c?"onload":"onreadystatechange",d=0;a[u]=c?o:function(){P.test(a.readyState)&&(++d,1===d?i=setTimeout(o,500):(clearTimeout(i),o()))},a.onerror=function(){s(a,!0)},Ne.insertBefore(a,Ne.firstChild),a.src=e,n("debug: 正准备加载 "+e)}function u(e){return(e||"").replace(j,"")}function d(e){return/^(?:[a-z]+:)?\/\//i.test(String(e))}function f(e,t){return"1"[0]?e[t]:e.getAttribute(t,4)}function p(){var t;try{a.b.c()}catch(n){t=n.stack,!t&&e.opera&&(t=(String(n).match(/of linked script \S+/g)||[]).join(" "))}if(t)return t=t.split(/[@ ]/g).pop(),t="("===t[0]?t.slice(1,-1):t.replace(/\s/,""),u(t.replace(/(:\d+)?:\d+$/i,""));for(var r,o=Ne.getElementsByTagName("script"),i=o.length;r=o[--i];)if(r.className===Ee&&"interactive"===r.readyState){var s=f(r,"src");return r.className=u(s)}}function h(t,r,o){var a=Object(mr[t]);a.state=4;for(var i,s=0,l=[];i=r[s++];)if("exports"===i){var c=a.exports||(a.exports={});l.push(c)}else l.push(mr[i].exports);try{var u=o.apply(e,l)}catch(d){n("执行["+t+"]模块的factory抛错： "+d)}return void 0!==u&&(a.exports=u),$.test(t)&&delete mr[t],delete a.factory,u}function g(e){0===e.indexOf(this.res+"!")&&(e=e.slice(this.res.length+1));var t=e,n=0,r=this.baseUrl,o=this.parentUrl||r;x(e,v.paths,function(e,r){t=t.replace(r,e),n=1}),n||x(e,v.packages,function(e,n,r){t=t.replace(r.name,r.location)}),this.mapUrl&&x(this.mapUrl,v.map,function(e){x(t,e,function(e,n){t=t.replace(n,e),o=r})});var a=this.ext;a&&n&&t.slice(-a.length)===a&&(t=t.slice(0,-a.length)),d(t)||(o=this.built||/^\w/.test(t)?r:o,t=w(o,t));var i=t+a;return t=i+this.query,x(e,v.urlArgs,function(e){t+=(-1===t.indexOf("?")?"?":"&")+e}),this.url=t,this.urlNoQuery=i}function m(e,t,n){var r=C(e,t,n);return r.sort(N),r}function y(e){return new RegExp("^"+e+"(/|$)")}function b(t){return function(){var n;return t.init&&(n=t.init.apply(e,arguments)),n||t.exports&&T(t.exports)}}function C(e,t,n){var r=[];for(var o in e)if(Me.call(e,o)){var a={name:o,val:e[o]};r.push(a),a.reg="*"===o&&t?/^/:y(o),n&&"*"!==o&&(a.reg=new RegExp("/"+o.replace(/^\//,"")+"(/|$)"))}return r}function x(e,t,n){t=t||[];for(var r,o=0;r=t[o++];)if(r.reg.test(e))return n(r.val,r.name,r),!1}function N(e,t){var n=e.name,r=t.name;return"*"===r?-1:"*"===n?1:r.length-n.length}function w(e,t){if("/"!==e.charAt(e.length-1)&&(e+="/"),"./"===t.slice(0,2))return e+t.slice(2);if(".."===t.slice(0,2)){for(e+=t;R.test(e);)e=e.replace(R,"");return e}return"/"===t.slice(0,1)?e+t.slice(1):e+t}function T(t){if(!t)return t;var n=e;return t.split(".").forEach(function(e){n=n[e]}),n}var k=[],E=[],S=/\.js$/i,O=[],A=!1;Te=avalon.require=function(e,n,a,i){if(A){Array.isArray(e)||avalon.error("require方法的第一个参数应为数组 "+e);var s=[],c={},u=a||"callback"+setTimeout("1");i=i||{},i.baseUrl=v.baseUrl;var d=!!i.built;if(a&&(i.parentUrl=a.substr(0,a.lastIndexOf("/")),i.mapUrl=a.replace(S,"")),d){var f=t(i.defineName,i);u=f.urlNoQuery}else e.forEach(function(e){var n=t(e,i),r=o(n);r&&(c[r]||(s.push(r),c[r]="司徒正美"))});var p=mr[u];p&&4===p.state||(mr[u]={id:u,deps:d?e.concat():s,factory:n||r,state:3}),p||k.push(u),l()}else if(O.push(avalon.slice(arguments)),arguments.length<=2){A=!0;for(var h,g=O.splice(0,O.length);h=g.shift();)Te.apply(null,h)}},Te.define=function(e,t,n){"string"!=typeof e&&(n=t,t=e,e="anonymous"),Array.isArray(t)||(n=t,t=[]);var r={built:!A,defineName:e},o=[t,n,r];n.require=function(e){if(o.splice(2,0,e),mr[e]){mr[e].state=3;var t=!1;try{t=i(mr[e].deps,e)}catch(r){}t&&avalon.error(e+"模块与之前的模块存在循环依赖，请不要直接用script标签引入"+e+"模块")}delete n.require,Te.apply(null,o)};var a=r.built?"unknown":p();if(a){var s=mr[a];s&&(s.state=2),n.require(a)}else E.push(n)},Te.config=v,Te.define.amd=mr;var I=v["orig.paths"]={},L=v["orig.map"]={},D=v.packages=[],_=v["orig.args"]={};avalon.mix(gt,{paths:function(e){avalon.mix(I,e),v.paths=m(I)},map:function(e){avalon.mix(L,e);var t=m(L,1,1);avalon.each(t,function(e,t){t.val=m(t.val)}),v.map=t},packages:function(e){e=e.concat(D);for(var t,n={},r=[],o=0;t=e[o++];){t="string"==typeof t?{name:t}:t;var a=t.name;if(!n[a]){var i=w(t.location||a,t.main||"main");i=i.replace(S,""),r.push(t),n[a]=t.location=i,t.reg=y(a)}}v.packages=r.sort()},urlArgs:function(e){"string"==typeof e&&(e={"*":e}),avalon.mix(_,e),v.urlArgs=m(_,1)},baseUrl:function(e){if(!d(e)){var t=Ne.getElementsByTagName("base")[0];t&&Ne.removeChild(t);var n=xe.createElement("a");n.href=e,e=f(n,"href"),t&&Ne.insertBefore(t,Ne.firstChild)}e.length>3&&(v.baseUrl=e)},shim:function(e){for(var t in e){var n=e[t];Array.isArray(n)&&(n=e[t]={deps:n}),n.exportsFn||!n.exports&&!n.init||(n.exportsFn=b(n))}v.shim=e}});var P=/complete|loaded/,M=Te.plugins={ready:{load:r},js:{load:function(e,t,n){var r=t.url,o=t.urlNoQuery,a=v.shim[e.replace(S,"")];a?Te(a.deps||[],function(){var e=avalon.slice(arguments);c(r,o,function(){n(a.exportsFn?a.exportsFn.apply(0,e):void 0)})}):c(r,o)}},css:{load:function(e,t,r){var o=t.url,a=xe.createElement("link");a.rel="stylesheet",a.href=o,Ne.insertBefore(a,Ne.firstChild),n("debug: 已成功加载 "+o),r()}},text:{load:function(e,t,r){var o=t.url,a=Qn();a.onreadystatechange=function(){if(4===a.readyState){var e=a.status;e>399&&600>e?avalon.error(o+" 对应资源不存在或没有开启 CORS"):(n("debug: 已成功加载 "+o),r(a.responseText))}},a.open("GET",o,!0),"withCredentials"in a&&(a.withCredentials=!0),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.send(),n("debug: 正准备加载 "+o)}}};Te.checkDeps=l;var j=/(\?[^#]*)$/,$=/^callback\d+$/,R=/\/\w+\/\.\./,H=xe.scripts[xe.scripts.length-1],F=H.getAttribute("data-main");if(F){gt.baseUrl(F);var B=v.baseUrl;v.baseUrl=B.slice(0,B.lastIndexOf("/")+1),c(B.replace(S,"")+".js")}else{var z=u(f(H,"src"));v.baseUrl=z.slice(0,z.lastIndexOf("/")+1)}};var yr,br=[],Cr=function(e){for(yr=!0,Te&&(mr["domReady!"].state=4,Te.checkDeps());e=br.shift();)e(avalon)};if("complete"===xe.readyState)setTimeout(Cr);else if(Fe)xe.addEventListener("DOMContentLoaded",Cr);else{xe.attachEvent("onreadystatechange",function(){"complete"===xe.readyState&&Cr()});try{var xr=null===e.frameElement}catch(Et){}Be.doScroll&&xr&&e.external&&be()}avalon.bind(e,"load",Cr),avalon.ready=function(e){yr?e(avalon):br.push(e)},avalon.config({loader:!0}),avalon.ready(function(){avalon.scan(xe.body)}),"function"==typeof define&&define.amd&&define("avalon",[],function(){return avalon});var Nr=e.avalon;return avalon.noConflict=function(t){return t&&e.avalon===avalon&&(e.avalon=Nr),avalon},void 0===t&&(e.avalon=avalon),avalon}),avalon.config({loader:!1}),avalon.filters.richText=function(e){return e.replace(/\r?\n/gi,"<br/>").replace(/&#10;/gi,"<br/>")},avalon.filters.noHtml=function(e){return e.replace(/&/gi,"&amp;").replace(/</gi,"&lt;").replace(/>/gi,"&gt;")},function(e,t){function n(e){var t=e.length,n=ue.type(e);return ue.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e){var t=ke[e]={};return ue.each(e.match(fe)||[],function(e,n){t[n]=!0}),t}function o(e,n,r,o){if(ue.acceptData(e)){var a,i,s=ue.expando,l=e.nodeType,c=l?ue.cache:e,u=l?e[s]:e[s]&&s;if(u&&c[u]&&(o||c[u].data)||r!==t||"string"!=typeof n)return u||(u=l?e[s]=te.pop()||ue.guid++:s),c[u]||(c[u]=l?{}:{toJSON:ue.noop}),("object"==typeof n||"function"==typeof n)&&(o?c[u]=ue.extend(c[u],n):c[u].data=ue.extend(c[u].data,n)),i=c[u],o||(i.data||(i.data={}),i=i.data),r!==t&&(i[ue.camelCase(n)]=r),"string"==typeof n?(a=i[n],null==a&&(a=i[ue.camelCase(n)])):a=i,a}}function a(e,t,n){if(ue.acceptData(e)){var r,o,a=e.nodeType,i=a?ue.cache:e,l=a?e[ue.expando]:ue.expando;if(i[l]){if(t&&(r=n?i[l]:i[l].data)){ue.isArray(t)?t=t.concat(ue.map(t,ue.camelCase)):t in r?t=[t]:(t=ue.camelCase(t),t=t in r?[t]:t.split(" ")),o=t.length;for(;o--;)delete r[t[o]];if(n?!s(r):!ue.isEmptyObject(r))return}(n||(delete i[l].data,s(i[l])))&&(a?ue.cleanData([e],!0):ue.support.deleteExpando||i!=i.window?delete i[l]:i[l]=null)}}}function i(e,n,r){if(r===t&&1===e.nodeType){var o="data-"+n.replace(Se,"-$1").toLowerCase();if(r=e.getAttribute(o),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:Ee.test(r)?ue.parseJSON(r):r}catch(a){}ue.data(e,n,r)}else r=t}return r}function s(e){var t;for(t in e)if(("data"!==t||!ue.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function u(){try{return Z.activeElement}catch(e){}}function d(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function f(e,t,n){if(ue.isFunction(t))return ue.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ue.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ze.test(t))return ue.filter(t,e,n);t=ue.filter(t,e)}return ue.grep(e,function(e){return ue.inArray(e,t)>=0!==n})}function p(e){var t=Ye.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function h(e,t){return ue.nodeName(e,"table")&&ue.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function v(e){return e.type=(null!==ue.find.attr(e,"type"))+"/"+e.type,e}function g(e){var t=ot.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n,r=0;null!=(n=e[r]);r++)ue._data(n,"globalEval",!t||ue._data(t[r],"globalEval"))}function y(e,t){if(1===t.nodeType&&ue.hasData(e)){var n,r,o,a=ue._data(e),i=ue._data(t,a),s=a.events;if(s){delete i.handle,i.events={};for(n in s)for(r=0,o=s[n].length;o>r;r++)ue.event.add(t,n,s[n][r])}i.data&&(i.data=ue.extend({},i.data))}}function b(e,t){var n,r,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ue.support.noCloneEvent&&t[ue.expando]){o=ue._data(t);for(r in o.events)ue.removeEvent(t,r,o.handle);t.removeAttribute(ue.expando)}"script"===n&&t.text!==e.text?(v(t).text=e.text,g(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ue.support.html5Clone&&e.innerHTML&&!ue.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function C(e,n){var r,o,a=0,i=typeof e.getElementsByTagName!==X?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==X?e.querySelectorAll(n||"*"):t;if(!i)for(i=[],r=e.childNodes||e;null!=(o=r[a]);a++)!n||ue.nodeName(o,n)?i.push(o):ue.merge(i,C(o,n));return n===t||n&&ue.nodeName(e,n)?ue.merge([e],i):i}function x(e){tt.test(e.type)&&(e.defaultChecked=e.checked)}function N(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,o=Tt.length;o--;)if(t=Tt[o]+n,t in e)return t;return r}function w(e,t){return e=t||e,"none"===ue.css(e,"display")||!ue.contains(e.ownerDocument,e)}function T(e,t){for(var n,r,o,a=[],i=0,s=e.length;s>i;i++)r=e[i],r.style&&(a[i]=ue._data(r,"olddisplay"),n=r.style.display,t?(a[i]||"none"!==n||(r.style.display=""),""===r.style.display&&w(r)&&(a[i]=ue._data(r,"olddisplay",O(r.nodeName)))):a[i]||(o=w(r),(n&&"none"!==n||!o)&&ue._data(r,"olddisplay",o?n:ue.css(r,"display"))));for(i=0;s>i;i++)r=e[i],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?a[i]||"":"none"));return e}function k(e,t,n){var r=mt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function E(e,t,n,r,o){for(var a=n===(r?"border":"content")?4:"width"===t?1:0,i=0;4>a;a+=2)"margin"===n&&(i+=ue.css(e,n+wt[a],!0,o)),r?("content"===n&&(i-=ue.css(e,"padding"+wt[a],!0,o)),"margin"!==n&&(i-=ue.css(e,"border"+wt[a]+"Width",!0,o))):(i+=ue.css(e,"padding"+wt[a],!0,o),"padding"!==n&&(i+=ue.css(e,"border"+wt[a]+"Width",!0,o)));return i}function S(e,t,n){var r=!0,o="width"===t?e.offsetWidth:e.offsetHeight,a=ut(e),i=ue.support.boxSizing&&"border-box"===ue.css(e,"boxSizing",!1,a);if(0>=o||null==o){if(o=dt(e,t,a),(0>o||null==o)&&(o=e.style[t]),yt.test(o))return o;r=i&&(ue.support.boxSizingReliable||o===e.style[t]),o=parseFloat(o)||0}return o+E(e,t,n||(i?"border":"content"),r,a)+"px"}function O(e){var t=Z,n=Ct[e];return n||(n=A(e,t),"none"!==n&&n||(ct=(ct||ue("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(ct[0].contentWindow||ct[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=A(e,t),ct.detach()),Ct[e]=n),n}function A(e,t){var n=ue(t.createElement(e)).appendTo(t.body),r=ue.css(n[0],"display");return n.remove(),r}function I(e,t,n,r){var o;if(ue.isArray(t))ue.each(t,function(t,o){n||Et.test(e)?r(e,o):I(e+"["+("object"==typeof o?t:"")+"]",o,n,r)});else if(n||"object"!==ue.type(t))r(e,t);else for(o in t)I(e+"["+o+"]",t[o],n,r)}function L(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,a=t.toLowerCase().match(fe)||[];if(ue.isFunction(n))for(;r=a[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function D(e,t,n,r){function o(s){var l;return a[s]=!0,ue.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||i||a[c]?i?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),l}var a={},i=e===Ut;return o(t.dataTypes[0])||!a["*"]&&o("*")}function _(e,n){var r,o,a=ue.ajaxSettings.flatOptions||{};for(o in n)n[o]!==t&&((a[o]?e:r||(r={}))[o]=n[o]);return r&&ue.extend(!0,e,r),e}function P(e,n,r){for(var o,a,i,s,l=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),a===t&&(a=e.mimeType||n.getResponseHeader("Content-Type"));if(a)for(s in l)if(l[s]&&l[s].test(a)){c.unshift(s);break}if(c[0]in r)i=c[0];else{for(s in r){if(!c[0]||e.converters[s+" "+c[0]]){i=s;break}o||(o=s)}i=i||o}return i?(i!==c[0]&&c.unshift(i),r[i]):void 0}function M(e,t,n,r){var o,a,i,s,l,c={},u=e.dataTypes.slice();if(u[1])for(i in e.converters)c[i.toLowerCase()]=e.converters[i];for(a=u.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(i=c[l+" "+a]||c["* "+a],!i)for(o in c)if(s=o.split(" "),s[1]===a&&(i=c[l+" "+s[0]]||c["* "+s[0]])){i===!0?i=c[o]:c[o]!==!0&&(a=s[0],u.unshift(s[1]));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(d){return{state:"parsererror",error:i?d:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}function j(){try{return new e.XMLHttpRequest}catch(t){}}function $(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function R(){return setTimeout(function(){Jt=t}),Jt=ue.now()}function H(e,t,n){for(var r,o=(on[t]||[]).concat(on["*"]),a=0,i=o.length;i>a;a++)if(r=o[a].call(n,t,e))return r}function F(e,t,n){var r,o,a=0,i=rn.length,s=ue.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=Jt||R(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,a=1-r,i=0,l=c.tweens.length;l>i;i++)c.tweens[i].run(a);return s.notifyWith(e,[c,a,n]),1>a&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:ue.extend({},t),opts:ue.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Jt||R(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ue.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(o)return this;for(o=!0;r>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(B(u,c.opts.specialEasing);i>a;a++)if(r=rn[a].call(c,e,u,c.opts))return r;return ue.map(u,H,c),ue.isFunction(c.opts.start)&&c.opts.start.call(e,c),ue.fx.timer(ue.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function B(e,t){var n,r,o,a,i;for(n in e)if(r=ue.camelCase(n),o=t[r],a=e[n],ue.isArray(a)&&(o=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),i=ue.cssHooks[r],i&&"expand"in i){a=i.expand(a),delete e[r];for(n in a)n in e||(e[n]=a[n],t[n]=o)}else t[r]=o}function z(e,t,n){var r,o,a,i,s,l,c=this,u={},d=e.style,f=e.nodeType&&w(e),p=ue._data(e,"fxshow");n.queue||(s=ue._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,ue.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===ue.css(e,"display")&&"none"===ue.css(e,"float")&&(ue.support.inlineBlockNeedsLayout&&"inline"!==O(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ue.support.shrinkWrapBlocks||c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in t)if(o=t[r],en.exec(o)){if(delete t[r],a=a||"toggle"===o,o===(f?"hide":"show"))continue;u[r]=p&&p[r]||ue.style(e,r)}if(!ue.isEmptyObject(u)){p?"hidden"in p&&(f=p.hidden):p=ue._data(e,"fxshow",{}),a&&(p.hidden=!f),f?ue(e).show():c.done(function(){ue(e).hide()}),c.done(function(){var t;ue._removeData(e,"fxshow");for(t in u)ue.style(e,t,u[t])});for(r in u)i=H(f?p[r]:0,r,c),r in p||(p[r]=i.start,f&&(i.end=i.start,i.start="width"===r||"height"===r?1:0))}}function U(e,t,n,r,o){return new U.prototype.init(e,t,n,r,o)}function q(e,t){var n,r={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)n=wt[o],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function W(e){return ue.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var Y,V,X=typeof t,K=e.location,Z=e.document,G=Z.documentElement,J=e.jQuery,Q=e.$,ee={},te=[],ne="1.10.2",re=te.concat,oe=te.push,ae=te.slice,ie=te.indexOf,se=ee.toString,le=ee.hasOwnProperty,ce=ne.trim,ue=function(e,t){return new ue.fn.init(e,t,V)},de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fe=/\S+/g,pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,he=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ve=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ge=/^[\],:{}\s]*$/,me=/(?:^|:|,)(?:\s*\[)+/g,ye=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,be=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,Ce=/^-ms-/,xe=/-([\da-z])/gi,Ne=function(e,t){return t.toUpperCase()},we=function(e){(Z.addEventListener||"load"===e.type||"complete"===Z.readyState)&&(Te(),ue.ready())},Te=function(){Z.addEventListener?(Z.removeEventListener("DOMContentLoaded",we,!1),e.removeEventListener("load",we,!1)):(Z.detachEvent("onreadystatechange",we),e.detachEvent("onload",we))};ue.fn=ue.prototype={jquery:ne,constructor:ue,init:function(e,n,r){var o,a;if(!e)return this;if("string"==typeof e){if(o="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:he.exec(e),!o||!o[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(o[1]){if(n=n instanceof ue?n[0]:n,ue.merge(this,ue.parseHTML(o[1],n&&n.nodeType?n.ownerDocument||n:Z,!0)),ve.test(o[1])&&ue.isPlainObject(n))for(o in n)ue.isFunction(this[o])?this[o](n[o]):this.attr(o,n[o]);return this}if(a=Z.getElementById(o[2]),a&&a.parentNode){if(a.id!==o[2])return r.find(e);this.length=1,this[0]=a}return this.context=Z,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ue.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ue.makeArray(e,this))},selector:"",length:0,toArray:function(){return ae.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ue.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ue.each(this,e,t)},ready:function(e){return ue.ready.promise().done(e),this},slice:function(){return this.pushStack(ae.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(ue.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:oe,sort:[].sort,splice:[].splice},ue.fn.init.prototype=ue.fn,ue.extend=ue.fn.extend=function(){var e,n,r,o,a,i,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},l=2),"object"==typeof s||ue.isFunction(s)||(s={}),c===l&&(s=this,--l);c>l;l++)if(null!=(a=arguments[l]))for(o in a)e=s[o],r=a[o],s!==r&&(u&&r&&(ue.isPlainObject(r)||(n=ue.isArray(r)))?(n?(n=!1,i=e&&ue.isArray(e)?e:[]):i=e&&ue.isPlainObject(e)?e:{},s[o]=ue.extend(u,i,r)):r!==t&&(s[o]=r));return s},ue.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===ue&&(e.$=Q),t&&e.jQuery===ue&&(e.jQuery=J),ue},isReady:!1,readyWait:1,holdReady:function(e){e?ue.readyWait++:ue.ready(!0)},ready:function(e){if(e===!0?!--ue.readyWait:!ue.isReady){if(!Z.body)return setTimeout(ue.ready);ue.isReady=!0,e!==!0&&--ue.readyWait>0||(Y.resolveWith(Z,[ue]),ue.fn.trigger&&ue(Z).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ue.type(e)},isArray:Array.isArray||function(e){return"array"===ue.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?ee[se.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==ue.type(e)||e.nodeType||ue.isWindow(e))return!1;try{if(e.constructor&&!le.call(e,"constructor")&&!le.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(ue.support.ownLast)for(n in e)return le.call(e,n);for(n in e);return n===t||le.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Z;var r=ve.exec(e),o=!n&&[];return r?[t.createElement(r[1])]:(r=ue.buildFragment([e],t,o),o&&ue(o).remove(),ue.merge([],r.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=ue.trim(t),t&&ge.test(t.replace(ye,"@").replace(be,"]").replace(me,"")))?new Function("return "+t)():void ue.error("Invalid JSON: "+t)},parseXML:function(n){var r,o;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(o=new DOMParser,r=o.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(a){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||ue.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&ue.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(Ce,"ms-").replace(xe,Ne)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var o,a=0,i=e.length,s=n(e);if(r){if(s)for(;i>a&&(o=t.apply(e[a],r),o!==!1);a++);else for(a in e)if(o=t.apply(e[a],r),o===!1)break}else if(s)for(;i>a&&(o=t.call(e[a],a,e[a]),o!==!1);a++);else for(a in e)if(o=t.call(e[a],a,e[a]),o===!1)break;return e},trim:ce&&!ce.call("\ufeff ")?function(e){return null==e?"":ce.call(e)}:function(e){return null==e?"":(e+"").replace(pe,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ue.merge(r,"string"==typeof e?[e]:e):oe.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(ie)return ie.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,o=e.length,a=0;if("number"==typeof r)for(;r>a;a++)e[o++]=n[a];else for(;n[a]!==t;)e[o++]=n[a++];return e.length=o,e},grep:function(e,t,n){var r,o=[],a=0,i=e.length;for(n=!!n;i>a;a++)r=!!t(e[a],a),n!==r&&o.push(e[a]);return o},map:function(e,t,r){var o,a=0,i=e.length,s=n(e),l=[];if(s)for(;i>a;a++)o=t(e[a],a,r),null!=o&&(l[l.length]=o);else for(a in e)o=t(e[a],a,r),null!=o&&(l[l.length]=o);return re.apply([],l)},guid:1,proxy:function(e,n){var r,o,a;return"string"==typeof n&&(a=e[n],n=e,e=a),ue.isFunction(e)?(r=ae.call(arguments,2),o=function(){return e.apply(n||this,r.concat(ae.call(arguments)))},o.guid=e.guid=e.guid||ue.guid++,o):t},access:function(e,n,r,o,a,i,s){var l=0,c=e.length,u=null==r;if("object"===ue.type(r)){a=!0;for(l in r)ue.access(e,n,l,r[l],!0,i,s)}else if(o!==t&&(a=!0,ue.isFunction(o)||(s=!0),u&&(s?(n.call(e,o),n=null):(u=n,n=function(e,t,n){return u.call(ue(e),n)})),n))for(;c>l;l++)n(e[l],r,s?o:o.call(e[l],l,n(e[l],r)));return a?e:u?n.call(e):c?n(e[0],r):i},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var o,a,i={};for(a in t)i[a]=e.style[a],e.style[a]=t[a];o=n.apply(e,r||[]);for(a in t)e.style[a]=i[a];return o}}),ue.ready.promise=function(t){if(!Y)if(Y=ue.Deferred(),"complete"===Z.readyState)setTimeout(ue.ready);else if(Z.addEventListener)Z.addEventListener("DOMContentLoaded",we,!1),e.addEventListener("load",we,!1);else{Z.attachEvent("onreadystatechange",we),e.attachEvent("onload",we);var n=!1;try{n=null==e.frameElement&&Z.documentElement}catch(r){}n&&n.doScroll&&!function o(){if(!ue.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}Te(),ue.ready()}}()}return Y.promise(t)},ue.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()}),V=ue(Z),function(e,t){function n(e,t,n,r){var o,a,i,s,l,c,u,d,h,v;if((t?t.ownerDocument||t:F)!==D&&L(t),t=t||D,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(P&&!r){if(o=be.exec(e))if(i=o[1]){if(9===s){if(a=t.getElementById(i),!a||!a.parentNode)return n;if(a.id===i)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(i))&&R(t,a)&&a.id===i)return n.push(a),n}else{if(o[2])return ee.apply(n,t.getElementsByTagName(e)),n;if((i=o[3])&&w.getElementsByClassName&&t.getElementsByClassName)return ee.apply(n,t.getElementsByClassName(i)),n}if(w.qsa&&(!M||!M.test(e))){if(d=u=H,h=t,v=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=f(e),(u=t.getAttribute("id"))?d=u.replace(Ne,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+p(c[l]);h=pe.test(e)&&t.parentNode||t,v=c.join(",")}if(v)try{return ee.apply(n,h.querySelectorAll(v)),n}catch(g){}finally{u||t.removeAttribute("id")}}}return x(e.replace(ce,"$1"),t,n,r)}function r(){function e(n,r){return t.push(n+=" ")>k.cacheLength&&delete e[t.shift()],e[n]=r}var t=[];return e}function o(e){return e[H]=!0,e}function a(e){var t=D.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),r=e.length;r--;)k.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return o(function(t){return t=+t,o(function(n,r){for(var o,a=e([],n.length,t),i=a.length;i--;)n[o=a[i]]&&(n[o]=!(r[o]=n[o]))})})}function d(){}function f(e,t){var r,o,a,i,s,l,c,u=q[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=k.preFilter;s;){(!r||(o=de.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),l.push(a=[])),r=!1,(o=fe.exec(s))&&(r=o.shift(),a.push({value:r,type:o[0].replace(ce," ")}),s=s.slice(r.length));for(i in k.filter)!(o=me[i].exec(s))||c[i]&&!(o=c[i](o))||(r=o.shift(),a.push({value:r,type:i,matches:o}),s=s.slice(r.length));if(!r)break}return t?s.length:s?n.error(e):q(e,l).slice(0)}function p(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,o=n&&"parentNode"===r,a=z++;return t.first?function(t,n,a){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,a)}:function(t,n,i){var s,l,c,u=B+" "+a;if(i){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,i))return!0}else for(;t=t[r];)if(1===t.nodeType||o)if(c=t[H]||(t[H]={}),(l=c[r])&&l[0]===u){if((s=l[1])===!0||s===T)return s===!0}else if(l=c[r]=[u],l[1]=e(t,n,i)||T,l[1]===!0)return!0}}function v(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function g(e,t,n,r,o){for(var a,i=[],s=0,l=e.length,c=null!=t;l>s;s++)(a=e[s])&&(!n||n(a,r,o))&&(i.push(a),c&&t.push(s));return i}function m(e,t,n,r,a,i){return r&&!r[H]&&(r=m(r)),a&&!a[H]&&(a=m(a,i)),o(function(o,i,s,l){var c,u,d,f=[],p=[],h=i.length,v=o||C(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?v:g(v,f,e,s,l),y=n?a||(o?e:h||r)?[]:i:m;if(n&&n(m,y,s,l),r)for(c=g(y,p),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(y[p[u]]=!(m[p[u]]=d));if(o){if(a||e){if(a){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(m[u]=d);a(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=a?ne.call(o,d):f[u])>-1&&(o[c]=!(i[c]=d))}}else y=g(y===i?y.splice(h,y.length):y),a?a(null,i,y,l):ee.apply(i,y)})}function y(e){for(var t,n,r,o=e.length,a=k.relative[e[0].type],i=a||k.relative[" "],s=a?1:0,l=h(function(e){return e===t},i,!0),c=h(function(e){return ne.call(t,e)>-1},i,!0),u=[function(e,n,r){return!a&&(r||n!==A)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];o>s;s++)if(n=k.relative[e[s].type])u=[h(v(u),n)];else{if(n=k.filter[e[s].type].apply(null,e[s].matches),n[H]){for(r=++s;o>r&&!k.relative[e[r].type];r++);return m(s>1&&v(u),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ce,"$1"),n,r>s&&y(e.slice(s,r)),o>r&&y(e=e.slice(r)),o>r&&p(e))}u.push(n)}return v(u)}function b(e,t){var r=0,a=t.length>0,i=e.length>0,s=function(o,s,l,c,u){var d,f,p,h=[],v=0,m="0",y=o&&[],b=null!=u,C=A,x=o||i&&k.find.TAG("*",u&&s.parentNode||s),N=B+=null==C?1:Math.random()||.1;for(b&&(A=s!==D&&s,T=r);null!=(d=x[m]);m++){if(i&&d){for(f=0;p=e[f++];)if(p(d,s,l)){c.push(d);break}b&&(B=N,T=++r)}a&&((d=!p&&d)&&v--,o&&y.push(d))}if(v+=m,a&&m!==v){for(f=0;p=t[f++];)p(y,h,s,l);if(o){if(v>0)for(;m--;)y[m]||h[m]||(h[m]=J.call(c));h=g(h)}ee.apply(c,h),b&&!o&&h.length>0&&v+t.length>1&&n.uniqueSort(c)}return b&&(B=N,A=C),y};return a?o(s):s}function C(e,t,r){for(var o=0,a=t.length;a>o;o++)n(e,t[o],r);return r}function x(e,t,n,r){var o,a,i,s,l,c=f(e);if(!r&&1===c.length){if(a=c[0]=c[0].slice(0),a.length>2&&"ID"===(i=a[0]).type&&w.getById&&9===t.nodeType&&P&&k.relative[a[1].type]){
if(t=(k.find.ID(i.matches[0].replace(we,Te),t)||[])[0],!t)return n;e=e.slice(a.shift().value.length)}for(o=me.needsContext.test(e)?0:a.length;o--&&(i=a[o],!k.relative[s=i.type]);)if((l=k.find[s])&&(r=l(i.matches[0].replace(we,Te),pe.test(a[0].type)&&t.parentNode||t))){if(a.splice(o,1),e=r.length&&p(a),!e)return ee.apply(n,r),n;break}}return O(e,c)(r,t,!P,n,pe.test(e)),n}var N,w,T,k,E,S,O,A,I,L,D,_,P,M,j,$,R,H="sizzle"+-new Date,F=e.document,B=0,z=0,U=r(),q=r(),W=r(),Y=!1,V=function(e,t){return e===t?(Y=!0,0):0},X=typeof t,K=1<<31,Z={}.hasOwnProperty,G=[],J=G.pop,Q=G.push,ee=G.push,te=G.slice,ne=G.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},re="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",oe="[\\x20\\t\\r\\n\\f]",ae="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=ae.replace("w","w#"),se="\\["+oe+"*("+ae+")"+oe+"*(?:([*^$|!~]?=)"+oe+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ie+")|)|)"+oe+"*\\]",le=":("+ae+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+se.replace(3,8)+")*)|.*)\\)|)",ce=new RegExp("^"+oe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+oe+"+$","g"),de=new RegExp("^"+oe+"*,"+oe+"*"),fe=new RegExp("^"+oe+"*([>+~]|"+oe+")"+oe+"*"),pe=new RegExp(oe+"*[+~]"),he=new RegExp("="+oe+"*([^\\]'\"]*)"+oe+"*\\]","g"),ve=new RegExp(le),ge=new RegExp("^"+ie+"$"),me={ID:new RegExp("^#("+ae+")"),CLASS:new RegExp("^\\.("+ae+")"),TAG:new RegExp("^("+ae.replace("w","w*")+")"),ATTR:new RegExp("^"+se),PSEUDO:new RegExp("^"+le),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+oe+"*(even|odd|(([+-]|)(\\d*)n|)"+oe+"*(?:([+-]|)"+oe+"*(\\d+)|))"+oe+"*\\)|)","i"),bool:new RegExp("^(?:"+re+")$","i"),needsContext:new RegExp("^"+oe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+oe+"*((?:-\\d)?\\d*)"+oe+"*\\)|)(?=[^-]|$)","i")},ye=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ce=/^(?:input|select|textarea|button)$/i,xe=/^h\d$/i,Ne=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+oe+"?|("+oe+")|.)","ig"),Te=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{ee.apply(G=te.call(F.childNodes),F.childNodes),G[F.childNodes.length].nodeType}catch(ke){ee={apply:G.length?function(e,t){Q.apply(e,te.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}S=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},w=n.support={},L=n.setDocument=function(e){var t=e?e.ownerDocument||e:F,n=t.defaultView;return t!==D&&9===t.nodeType&&t.documentElement?(D=t,_=t.documentElement,P=!S(t),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){L()}),w.attributes=a(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=a(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=a(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),w.getById=a(function(e){return _.appendChild(e).id=H,!t.getElementsByName||!t.getElementsByName(H).length}),w.getById?(k.find.ID=function(e,t){if(typeof t.getElementById!==X&&P){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(e){var t=e.replace(we,Te);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(we,Te);return function(e){var n=typeof e.getAttributeNode!==X&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=w.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==X?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],o=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[o++];)1===n.nodeType&&r.push(n);return r}return a},k.find.CLASS=w.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==X&&P?t.getElementsByClassName(e):void 0},j=[],M=[],(w.qsa=ye.test(t.querySelectorAll))&&(a(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||M.push("\\["+oe+"*(?:value|"+re+")"),e.querySelectorAll(":checked").length||M.push(":checked")}),a(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&M.push("[*^$]="+oe+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(w.matchesSelector=ye.test($=_.webkitMatchesSelector||_.mozMatchesSelector||_.oMatchesSelector||_.msMatchesSelector))&&a(function(e){w.disconnectedMatch=$.call(e,"div"),$.call(e,"[s!='']:x"),j.push("!=",le)}),M=M.length&&new RegExp(M.join("|")),j=j.length&&new RegExp(j.join("|")),R=ye.test(_.contains)||_.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=_.compareDocumentPosition?function(e,n){if(e===n)return Y=!0,0;var r=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);return r?1&r||!w.sortDetached&&n.compareDocumentPosition(e)===r?e===t||R(F,e)?-1:n===t||R(F,n)?1:I?ne.call(I,e)-ne.call(I,n):0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var r,o=0,a=e.parentNode,i=n.parentNode,l=[e],c=[n];if(e===n)return Y=!0,0;if(!a||!i)return e===t?-1:n===t?1:a?-1:i?1:I?ne.call(I,e)-ne.call(I,n):0;if(a===i)return s(e,n);for(r=e;r=r.parentNode;)l.unshift(r);for(r=n;r=r.parentNode;)c.unshift(r);for(;l[o]===c[o];)o++;return o?s(l[o],c[o]):l[o]===F?-1:c[o]===F?1:0},t):D},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==D&&L(e),t=t.replace(he,"='$1']"),!(!w.matchesSelector||!P||j&&j.test(t)||M&&M.test(t)))try{var r=$.call(e,t);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(o){}return n(t,D,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==D&&L(e),R(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==D&&L(e);var r=k.attrHandle[n.toLowerCase()],o=r&&Z.call(k.attrHandle,n.toLowerCase())?r(e,n,!P):t;return o===t?w.attributes||!P?e.getAttribute(n):(o=e.getAttributeNode(n))&&o.specified?o.value:null:o},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],r=0,o=0;if(Y=!w.detectDuplicates,I=!w.sortStable&&e.slice(0),e.sort(V),Y){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return e},E=n.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r];r++)n+=E(t);return n},k=n.selectors={cacheLength:50,createPseudo:o,match:me,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Te),e[3]=(e[4]||e[5]||"").replace(we,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return me.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&ve.test(r)&&(n=f(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+oe+")"+e+"("+oe+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==X&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(o){var a=n.attr(o,e);return null==a?"!="===t:t?(a+="","="===t?a===r:"!="===t?a!==r:"^="===t?r&&0===a.indexOf(r):"*="===t?r&&a.indexOf(r)>-1:"$="===t?r&&a.slice(-r.length)===r:"~="===t?(" "+a+" ").indexOf(r)>-1:"|="===t?a===r||a.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,o){var a="nth"!==e.slice(0,3),i="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,p,h,v=a!==i?"nextSibling":"previousSibling",g=t.parentNode,m=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(a){for(;v;){for(d=t;d=d[v];)if(s?d.nodeName.toLowerCase()===m:1===d.nodeType)return!1;h=v="only"===e&&!h&&"nextSibling"}return!0}if(h=[i?g.firstChild:g.lastChild],i&&y){for(u=g[H]||(g[H]={}),c=u[e]||[],p=c[0]===B&&c[1],f=c[0]===B&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[v]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){u[e]=[B,p,f];break}}else if(y&&(c=(t[H]||(t[H]={}))[e])&&c[0]===B)f=c[1];else for(;(d=++p&&d&&d[v]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==m:1!==d.nodeType)||!++f||(y&&((d[H]||(d[H]={}))[e]=[B,f]),d!==t)););return f-=o,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,t){var r,a=k.pseudos[e]||k.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return a[H]?a(t):a.length>1?(r=[e,e,"",t],k.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,n){for(var r,o=a(e,t),i=o.length;i--;)r=ne.call(e,o[i]),e[r]=!(n[r]=o[i])}):function(e){return a(e,0,r)}):a}},pseudos:{not:o(function(e){var t=[],n=[],r=O(e.replace(ce,"$1"));return r[H]?o(function(e,t,n,o){for(var a,i=r(e,null,o,[]),s=e.length;s--;)(a=i[s])&&(e[s]=!(t[s]=a))}):function(e,o,a){return t[0]=e,r(t,null,a,n),!n.pop()}}),has:o(function(e){return function(t){return n(e,t).length>0}}),contains:o(function(e){return function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:o(function(e){return ge.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(we,Te).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===_},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return xe.test(e.nodeName)},input:function(e){return Ce.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},k.pseudos.nth=k.pseudos.eq;for(N in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[N]=l(N);for(N in{submit:!0,reset:!0})k.pseudos[N]=c(N);d.prototype=k.filters=k.pseudos,k.setFilters=new d,O=n.compile=function(e,t){var n,r=[],o=[],a=W[e+" "];if(!a){for(t||(t=f(e)),n=t.length;n--;)a=y(t[n]),a[H]?r.push(a):o.push(a);a=W(e,b(o,r))}return a},w.sortStable=H.split("").sort(V).join("")===H,w.detectDuplicates=Y,L(),w.sortDetached=a(function(e){return 1&e.compareDocumentPosition(D.createElement("div"))}),a(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&a(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),a(function(e){return null==e.getAttribute("disabled")})||i(re,function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&r.specified?r.value:e[t]===!0?t.toLowerCase():null}),ue.find=n,ue.expr=n.selectors,ue.expr[":"]=ue.expr.pseudos,ue.unique=n.uniqueSort,ue.text=n.getText,ue.isXMLDoc=n.isXML,ue.contains=n.contains}(e);var ke={};ue.Callbacks=function(e){e="string"==typeof e?ke[e]||r(e):ue.extend({},e);var n,o,a,i,s,l,c=[],u=!e.once&&[],d=function(t){for(o=e.memory&&t,a=!0,s=l||0,l=0,i=c.length,n=!0;c&&i>s;s++)if(c[s].apply(t[0],t[1])===!1&&e.stopOnFalse){o=!1;break}n=!1,c&&(u?u.length&&d(u.shift()):o?c=[]:f.disable())},f={add:function(){if(c){var t=c.length;!function r(t){ue.each(t,function(t,n){var o=ue.type(n);"function"===o?e.unique&&f.has(n)||c.push(n):n&&n.length&&"string"!==o&&r(n)})}(arguments),n?i=c.length:o&&(l=t,d(o))}return this},remove:function(){return c&&ue.each(arguments,function(e,t){for(var r;(r=ue.inArray(t,c,r))>-1;)c.splice(r,1),n&&(i>=r&&i--,s>=r&&s--)}),this},has:function(e){return e?ue.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],i=0,this},disable:function(){return c=u=o=t,this},disabled:function(){return!c},lock:function(){return u=t,o||f.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||a&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):d(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!a}};return f},ue.extend({Deferred:function(e){var t=[["resolve","done",ue.Callbacks("once memory"),"resolved"],["reject","fail",ue.Callbacks("once memory"),"rejected"],["notify","progress",ue.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ue.Deferred(function(n){ue.each(t,function(t,a){var i=a[0],s=ue.isFunction(e[t])&&e[t];o[a[1]](function(){var e=s&&s.apply(this,arguments);e&&ue.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[i+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ue.extend(e,r):r}},o={};return r.pipe=r.then,ue.each(t,function(e,a){var i=a[2],s=a[3];r[a[1]]=i.add,s&&i.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[a[0]]=function(){return o[a[0]+"With"](this===o?r:this,arguments),this},o[a[0]+"With"]=i.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,r,o=0,a=ae.call(arguments),i=a.length,s=1!==i||e&&ue.isFunction(e.promise)?i:0,l=1===s?e:ue.Deferred(),c=function(e,n,r){return function(o){n[e]=this,r[e]=arguments.length>1?ae.call(arguments):o,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(i>1)for(t=new Array(i),n=new Array(i),r=new Array(i);i>o;o++)a[o]&&ue.isFunction(a[o].promise)?a[o].promise().done(c(o,r,a)).fail(l.reject).progress(c(o,n,t)):--s;return s||l.resolveWith(r,a),l.promise()}}),ue.support=function(t){var n,r,o,a,i,s,l,c,u,d=Z.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],r=d.getElementsByTagName("a")[0],!r||!r.style||!n.length)return t;a=Z.createElement("select"),s=a.appendChild(Z.createElement("option")),o=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized="/a"===r.getAttribute("href"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!o.value,t.optSelected=s.selected,t.enctype=!!Z.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==Z.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,a.disabled=!0,t.optDisabled=!s.disabled;try{delete d.test}catch(f){t.deleteExpando=!1}o=Z.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),i=Z.createDocumentFragment(),i.appendChild(o),t.appendChecked=o.checked,t.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})d.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in e||d.attributes[l].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(u in ue(t))break;return t.ownLast="0"!==u,ue(function(){var n,r,o,a="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",i=Z.getElementsByTagName("body")[0];i&&(n=Z.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",i.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=c&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ue.swap(i,null!=i.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(Z.createElement("div")),r.style.cssText=d.style.cssText=a,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==X&&(d.innerHTML="",d.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(i.style.zoom=1)),i.removeChild(n),n=d=o=r=null)}),n=a=i=s=r=o=null,t}({});var Ee=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Se=/([A-Z])/g;ue.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ue.cache[e[ue.expando]]:e[ue.expando],!!e&&!s(e)},data:function(e,t,n){return o(e,t,n)},removeData:function(e,t){return a(e,t)},_data:function(e,t,n){return o(e,t,n,!0)},_removeData:function(e,t){return a(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&ue.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),ue.fn.extend({data:function(e,n){var r,o,a=null,s=0,l=this[0];if(e===t){if(this.length&&(a=ue.data(l),1===l.nodeType&&!ue._data(l,"parsedAttrs"))){for(r=l.attributes;s<r.length;s++)o=r[s].name,0===o.indexOf("data-")&&(o=ue.camelCase(o.slice(5)),i(l,o,a[o]));ue._data(l,"parsedAttrs",!0)}return a}return"object"==typeof e?this.each(function(){ue.data(this,e)}):arguments.length>1?this.each(function(){ue.data(this,e,n)}):l?i(l,e,ue.data(l,e)):null},removeData:function(e){return this.each(function(){ue.removeData(this,e)})}}),ue.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ue._data(e,t),n&&(!r||ue.isArray(n)?r=ue._data(e,t,ue.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ue.queue(e,t),r=n.length,o=n.shift(),a=ue._queueHooks(e,t),i=function(){ue.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete a.stop,o.call(e,i,a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ue._data(e,n)||ue._data(e,n,{empty:ue.Callbacks("once memory").add(function(){ue._removeData(e,t+"queue"),ue._removeData(e,n)})})}}),ue.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?ue.queue(this[0],e):n===t?this:this.each(function(){var t=ue.queue(this,e,n);ue._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ue.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ue.dequeue(this,e)})},delay:function(e,t){return e=ue.fx?ue.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,o=1,a=ue.Deferred(),i=this,s=this.length,l=function(){--o||a.resolveWith(i,[i])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)r=ue._data(i[s],e+"queueHooks"),r&&r.empty&&(o++,r.empty.add(l));return l(),a.promise(n)}});var Oe,Ae,Ie=/[\t\r\n\f]/g,Le=/\r/g,De=/^(?:input|select|textarea|button|object)$/i,_e=/^(?:a|area)$/i,Pe=/^(?:checked|selected)$/i,Me=ue.support.getSetAttribute,je=ue.support.input;ue.fn.extend({attr:function(e,t){return ue.access(this,ue.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ue.removeAttr(this,e)})},prop:function(e,t){return ue.access(this,ue.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ue.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,o,a,i=0,s=this.length,l="string"==typeof e&&e;if(ue.isFunction(e))return this.each(function(t){ue(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(fe)||[];s>i;i++)if(n=this[i],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ie," "):" ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");n.className=ue.trim(r)}return this},removeClass:function(e){var t,n,r,o,a,i=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ue.isFunction(e))return this.each(function(t){ue(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(fe)||[];s>i;i++)if(n=this[i],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ie," "):"")){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>=0;)r=r.replace(" "+o+" "," ");n.className=e?ue.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ue.isFunction(e)?function(n){ue(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,o=ue(this),a=e.match(fe)||[];t=a[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(n===X||"boolean"===n)&&(this.className&&ue._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ue._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ie," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,o,a=this[0];{if(arguments.length)return o=ue.isFunction(e),this.each(function(n){var a;1===this.nodeType&&(a=o?e.call(this,n,ue(this).val()):e,null==a?a="":"number"==typeof a?a+="":ue.isArray(a)&&(a=ue.map(a,function(e){return null==e?"":e+""})),r=ue.valHooks[this.type]||ue.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,a,"value")!==t||(this.value=a))});if(a)return r=ue.valHooks[a.type]||ue.valHooks[a.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(a,"value"))!==t?n:(n=a.value,"string"==typeof n?n.replace(Le,""):null==n?"":n)}}}),ue.extend({valHooks:{option:{get:function(e){var t=ue.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,n,r=e.options,o=e.selectedIndex,a="select-one"===e.type||0>o,i=a?null:[],s=a?o+1:r.length,l=0>o?s:a?o:0;s>l;l++)if(n=r[l],!(!n.selected&&l!==o||(ue.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ue.nodeName(n.parentNode,"optgroup"))){if(t=ue(n).val(),a)return t;i.push(t)}return i},set:function(e,t){for(var n,r,o=e.options,a=ue.makeArray(t),i=o.length;i--;)r=o[i],(r.selected=ue.inArray(ue(r).val(),a)>=0)&&(n=!0);return n||(e.selectedIndex=-1),a}}},attr:function(e,n,r){var o,a,i=e.nodeType;if(e&&3!==i&&8!==i&&2!==i)return typeof e.getAttribute===X?ue.prop(e,n,r):(1===i&&ue.isXMLDoc(e)||(n=n.toLowerCase(),o=ue.attrHooks[n]||(ue.expr.match.bool.test(n)?Ae:Oe)),r===t?o&&"get"in o&&null!==(a=o.get(e,n))?a:(a=ue.find.attr(e,n),null==a?t:a):null!==r?o&&"set"in o&&(a=o.set(e,r,n))!==t?a:(e.setAttribute(n,r+""),r):void ue.removeAttr(e,n))},removeAttr:function(e,t){var n,r,o=0,a=t&&t.match(fe);if(a&&1===e.nodeType)for(;n=a[o++];)r=ue.propFix[n]||n,ue.expr.match.bool.test(n)?je&&Me||!Pe.test(n)?e[r]=!1:e[ue.camelCase("default-"+n)]=e[r]=!1:ue.attr(e,n,""),e.removeAttribute(Me?n:r)},attrHooks:{type:{set:function(e,t){if(!ue.support.radioValue&&"radio"===t&&ue.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var o,a,i,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return i=1!==s||!ue.isXMLDoc(e),i&&(n=ue.propFix[n]||n,a=ue.propHooks[n]),r!==t?a&&"set"in a&&(o=a.set(e,r,n))!==t?o:e[n]=r:a&&"get"in a&&null!==(o=a.get(e,n))?o:e[n]},propHooks:{tabIndex:{get:function(e){var t=ue.find.attr(e,"tabindex");return t?parseInt(t,10):De.test(e.nodeName)||_e.test(e.nodeName)&&e.href?0:-1}}}}),Ae={set:function(e,t,n){return t===!1?ue.removeAttr(e,n):je&&Me||!Pe.test(n)?e.setAttribute(!Me&&ue.propFix[n]||n,n):e[ue.camelCase("default-"+n)]=e[n]=!0,n}},ue.each(ue.expr.match.bool.source.match(/\w+/g),function(e,n){var r=ue.expr.attrHandle[n]||ue.find.attr;ue.expr.attrHandle[n]=je&&Me||!Pe.test(n)?function(e,n,o){var a=ue.expr.attrHandle[n],i=o?t:(ue.expr.attrHandle[n]=t)!=r(e,n,o)?n.toLowerCase():null;return ue.expr.attrHandle[n]=a,i}:function(e,n,r){return r?t:e[ue.camelCase("default-"+n)]?n.toLowerCase():null}}),je&&Me||(ue.attrHooks.value={set:function(e,t,n){return ue.nodeName(e,"input")?void(e.defaultValue=t):Oe&&Oe.set(e,t,n)}}),Me||(Oe={set:function(e,n,r){var o=e.getAttributeNode(r);return o||e.setAttributeNode(o=e.ownerDocument.createAttribute(r)),o.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},ue.expr.attrHandle.id=ue.expr.attrHandle.name=ue.expr.attrHandle.coords=function(e,n,r){var o;return r?t:(o=e.getAttributeNode(n))&&""!==o.value?o.value:null},ue.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:Oe.set},ue.attrHooks.contenteditable={set:function(e,t,n){Oe.set(e,""===t?!1:t,n)}},ue.each(["width","height"],function(e,t){ue.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ue.support.hrefNormalized||ue.each(["href","src"],function(e,t){ue.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ue.support.style||(ue.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),ue.support.optSelected||(ue.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ue.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ue.propFix[this.toLowerCase()]=this}),ue.support.enctype||(ue.propFix.enctype="encoding"),ue.each(["radio","checkbox"],function(){ue.valHooks[this]={set:function(e,t){return ue.isArray(t)?e.checked=ue.inArray(ue(e).val(),t)>=0:void 0}},ue.support.checkOn||(ue.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var $e=/^(?:input|select|textarea)$/i,Re=/^key/,He=/^(?:mouse|contextmenu)|click/,Fe=/^(?:focusinfocus|focusoutblur)$/,Be=/^([^.]*)(?:\.(.+)|)$/;ue.event={global:{},add:function(e,n,r,o,a){var i,s,l,c,u,d,f,p,h,v,g,m=ue._data(e);if(m){for(r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=ue.guid++),(s=m.events)||(s=m.events={}),(d=m.handle)||(d=m.handle=function(e){return typeof ue===X||e&&ue.event.triggered===e.type?t:ue.event.dispatch.apply(d.elem,arguments)},d.elem=e),n=(n||"").match(fe)||[""],l=n.length;l--;)i=Be.exec(n[l])||[],h=g=i[1],v=(i[2]||"").split(".").sort(),h&&(u=ue.event.special[h]||{},h=(a?u.delegateType:u.bindType)||h,u=ue.event.special[h]||{},f=ue.extend({type:h,origType:g,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&ue.expr.match.needsContext.test(a),namespace:v.join(".")},c),(p=s[h])||(p=s[h]=[],p.delegateCount=0,u.setup&&u.setup.call(e,o,v,d)!==!1||(e.addEventListener?e.addEventListener(h,d,!1):e.attachEvent&&e.attachEvent("on"+h,d))),u.add&&(u.add.call(e,f),f.handler.guid||(f.handler.guid=r.guid)),a?p.splice(p.delegateCount++,0,f):p.push(f),ue.event.global[h]=!0);e=null}},remove:function(e,t,n,r,o){var a,i,s,l,c,u,d,f,p,h,v,g=ue.hasData(e)&&ue._data(e);if(g&&(u=g.events)){for(t=(t||"").match(fe)||[""],c=t.length;c--;)if(s=Be.exec(t[c])||[],p=v=s[1],h=(s[2]||"").split(".").sort(),p){for(d=ue.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=u[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=f.length;a--;)i=f[a],!o&&v!==i.origType||n&&n.guid!==i.guid||s&&!s.test(i.namespace)||r&&r!==i.selector&&("**"!==r||!i.selector)||(f.splice(a,1),i.selector&&f.delegateCount--,d.remove&&d.remove.call(e,i));l&&!f.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||ue.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)ue.event.remove(e,p+t[c],n,r,!0);ue.isEmptyObject(u)&&(delete g.handle,ue._removeData(e,"events"))}},trigger:function(n,r,o,a){var i,s,l,c,u,d,f,p=[o||Z],h=le.call(n,"type")?n.type:n,v=le.call(n,"namespace")?n.namespace.split("."):[];if(l=d=o=o||Z,3!==o.nodeType&&8!==o.nodeType&&!Fe.test(h+ue.event.triggered)&&(h.indexOf(".")>=0&&(v=h.split("."),h=v.shift(),v.sort()),s=h.indexOf(":")<0&&"on"+h,n=n[ue.expando]?n:new ue.Event(h,"object"==typeof n&&n),n.isTrigger=a?2:3,n.namespace=v.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=o),r=null==r?[n]:ue.makeArray(r,[n]),u=ue.event.special[h]||{},a||!u.trigger||u.trigger.apply(o,r)!==!1)){if(!a&&!u.noBubble&&!ue.isWindow(o)){for(c=u.delegateType||h,Fe.test(c+h)||(l=l.parentNode);l;l=l.parentNode)p.push(l),d=l;d===(o.ownerDocument||Z)&&p.push(d.defaultView||d.parentWindow||e)}for(f=0;(l=p[f++])&&!n.isPropagationStopped();)n.type=f>1?c:u.bindType||h,i=(ue._data(l,"events")||{})[n.type]&&ue._data(l,"handle"),i&&i.apply(l,r),i=s&&l[s],i&&ue.acceptData(l)&&i.apply&&i.apply(l,r)===!1&&n.preventDefault();if(n.type=h,!a&&!n.isDefaultPrevented()&&(!u._default||u._default.apply(p.pop(),r)===!1)&&ue.acceptData(o)&&s&&o[h]&&!ue.isWindow(o)){d=o[s],d&&(o[s]=null),ue.event.triggered=h;try{o[h]()}catch(g){}ue.event.triggered=t,d&&(o[s]=d)}return n.result}},dispatch:function(e){e=ue.event.fix(e);var n,r,o,a,i,s=[],l=ae.call(arguments),c=(ue._data(this,"events")||{})[e.type]||[],u=ue.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(s=ue.event.handlers.call(this,e,c),n=0;(a=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,
i=0;(o=a.handlers[i++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((ue.event.special[o.origType]||{}).handle||o.handler).apply(a.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,o,a,i,s=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(a=[],i=0;l>i;i++)o=n[i],r=o.selector+" ",a[r]===t&&(a[r]=o.needsContext?ue(r,this).index(c)>=0:ue.find(r,this,null,[c]).length),a[r]&&a.push(o);a.length&&s.push({elem:c,handlers:a})}return l<n.length&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[ue.expando])return e;var t,n,r,o=e.type,a=e,i=this.fixHooks[o];for(i||(this.fixHooks[o]=i=He.test(o)?this.mouseHooks:Re.test(o)?this.keyHooks:{}),r=i.props?this.props.concat(i.props):this.props,e=new ue.Event(a),t=r.length;t--;)n=r[t],e[n]=a[n];return e.target||(e.target=a.srcElement||Z),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,i.filter?i.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,o,a,i=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(o=e.target.ownerDocument||Z,a=o.documentElement,r=o.body,e.pageX=n.clientX+(a&&a.scrollLeft||r&&r.scrollLeft||0)-(a&&a.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(a&&a.scrollTop||r&&r.scrollTop||0)-(a&&a.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||i===t||(e.which=1&i?1:2&i?3:4&i?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ue.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ue.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var o=ue.extend(new ue.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ue.event.trigger(o,null,t):ue.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},ue.removeEvent=Z.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===X&&(e[r]=null),e.detachEvent(r,n))},ue.Event=function(e,t){return this instanceof ue.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&ue.extend(this,t),this.timeStamp=e&&e.timeStamp||ue.now(),void(this[ue.expando]=!0)):new ue.Event(e,t)},ue.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ue.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ue.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,a=e.handleObj;return(!o||o!==r&&!ue.contains(r,o))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),ue.support.submitBubbles||(ue.event.special.submit={setup:function(){return ue.nodeName(this,"form")?!1:void ue.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=ue.nodeName(n,"input")||ue.nodeName(n,"button")?n.form:t;r&&!ue._data(r,"submitBubbles")&&(ue.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),ue._data(r,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ue.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ue.nodeName(this,"form")?!1:void ue.event.remove(this,"._submit")}}),ue.support.changeBubbles||(ue.event.special.change={setup:function(){return $e.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ue.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ue.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ue.event.simulate("change",this,e,!0)})),!1):void ue.event.add(this,"beforeactivate._change",function(e){var t=e.target;$e.test(t.nodeName)&&!ue._data(t,"changeBubbles")&&(ue.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ue.event.simulate("change",this.parentNode,e,!0)}),ue._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ue.event.remove(this,"._change"),!$e.test(this.nodeName)}}),ue.support.focusinBubbles||ue.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){ue.event.simulate(t,e.target,ue.event.fix(e),!0)};ue.event.special[t]={setup:function(){0===n++&&Z.addEventListener(e,r,!0)},teardown:function(){0===--n&&Z.removeEventListener(e,r,!0)}}}),ue.fn.extend({on:function(e,n,r,o,a){var i,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(i in e)this.on(i,n,r,e[i],a);return this}if(null==r&&null==o?(o=n,r=n=t):null==o&&("string"==typeof n?(o=r,r=t):(o=r,r=n,n=t)),o===!1)o=c;else if(!o)return this;return 1===a&&(s=o,o=function(e){return ue().off(e),s.apply(this,arguments)},o.guid=s.guid||(s.guid=ue.guid++)),this.each(function(){ue.event.add(this,e,o,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var o,a;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,ue(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(a in e)this.off(a,n,e[a]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=c),this.each(function(){ue.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){ue.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ue.event.trigger(e,t,n,!0):void 0}});var ze=/^.[^:#\[\.,]*$/,Ue=/^(?:parents|prev(?:Until|All))/,qe=ue.expr.match.needsContext,We={children:!0,contents:!0,next:!0,prev:!0};ue.fn.extend({find:function(e){var t,n=[],r=this,o=r.length;if("string"!=typeof e)return this.pushStack(ue(e).filter(function(){for(t=0;o>t;t++)if(ue.contains(r[t],this))return!0}));for(t=0;o>t;t++)ue.find(e,r[t],n);return n=this.pushStack(o>1?ue.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=ue(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(ue.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(f(this,e||[],!0))},filter:function(e){return this.pushStack(f(this,e||[],!1))},is:function(e){return!!f(this,"string"==typeof e&&qe.test(e)?ue(e):e||[],!1).length},closest:function(e,t){for(var n,r=0,o=this.length,a=[],i=qe.test(e)||"string"!=typeof e?ue(e,t||this.context):0;o>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(i?i.index(n)>-1:1===n.nodeType&&ue.find.matchesSelector(n,e))){n=a.push(n);break}return this.pushStack(a.length>1?ue.unique(a):a)},index:function(e){return e?"string"==typeof e?ue.inArray(this[0],ue(e)):ue.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?ue(e,t):ue.makeArray(e&&e.nodeType?[e]:e),r=ue.merge(this.get(),n);return this.pushStack(ue.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ue.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ue.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ue.dir(e,"parentNode",n)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return ue.dir(e,"nextSibling")},prevAll:function(e){return ue.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ue.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ue.dir(e,"previousSibling",n)},siblings:function(e){return ue.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ue.sibling(e.firstChild)},contents:function(e){return ue.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ue.merge([],e.childNodes)}},function(e,t){ue.fn[e]=function(n,r){var o=ue.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=ue.filter(r,o)),this.length>1&&(We[e]||(o=ue.unique(o)),Ue.test(e)&&(o=o.reverse())),this.pushStack(o)}}),ue.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ue.find.matchesSelector(r,e)?[r]:[]:ue.find.matches(e,ue.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){for(var o=[],a=e[n];a&&9!==a.nodeType&&(r===t||1!==a.nodeType||!ue(a).is(r));)1===a.nodeType&&o.push(a),a=a[n];return o},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Ye="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ve=/ jQuery\d+="(?:null|\d+)"/g,Xe=new RegExp("<(?:"+Ye+")[\\s/>]","i"),Ke=/^\s+/,Ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ge=/<([\w:]+)/,Je=/<tbody/i,Qe=/<|&#?\w+;/,et=/<(?:script|style|link)/i,tt=/^(?:checkbox|radio)$/i,nt=/checked\s*(?:[^=]|=\s*.checked.)/i,rt=/^$|\/(?:java|ecma)script/i,ot=/^true\/(.*)/,at=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,it={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ue.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},st=p(Z),lt=st.appendChild(Z.createElement("div"));it.optgroup=it.option,it.tbody=it.tfoot=it.colgroup=it.caption=it.thead,it.th=it.td,ue.fn.extend({text:function(e){return ue.access(this,function(e){return e===t?ue.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Z).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ue.filter(e,this):this,o=0;null!=(n=r[o]);o++)t||1!==n.nodeType||ue.cleanData(C(n)),n.parentNode&&(t&&ue.contains(n.ownerDocument,n)&&m(C(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ue.cleanData(C(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ue.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ue.clone(this,e,t)})},html:function(e){return ue.access(this,function(e){var n=this[0]||{},r=0,o=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Ve,""):t;if(!("string"!=typeof e||et.test(e)||!ue.support.htmlSerialize&&Xe.test(e)||!ue.support.leadingWhitespace&&Ke.test(e)||it[(Ge.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Ze,"<$1></$2>");try{for(;o>r;r++)n=this[r]||{},1===n.nodeType&&(ue.cleanData(C(n,!1)),n.innerHTML=e);n=0}catch(a){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=ue.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],o=e[t++];o&&(r&&r.parentNode!==o&&(r=this.nextSibling),ue(this).remove(),o.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=re.apply([],e);var r,o,a,i,s,l,c=0,u=this.length,d=this,f=u-1,p=e[0],h=ue.isFunction(p);if(h||!(1>=u||"string"!=typeof p||ue.support.checkClone)&&nt.test(p))return this.each(function(r){var o=d.eq(r);h&&(e[0]=p.call(this,r,o.html())),o.domManip(e,t,n)});if(u&&(l=ue.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=l.firstChild,1===l.childNodes.length&&(l=r),r)){for(i=ue.map(C(l,"script"),v),a=i.length;u>c;c++)o=l,c!==f&&(o=ue.clone(o,!0,!0),a&&ue.merge(i,C(o,"script"))),t.call(this[c],o,c);if(a)for(s=i[i.length-1].ownerDocument,ue.map(i,g),c=0;a>c;c++)o=i[c],rt.test(o.type||"")&&!ue._data(o,"globalEval")&&ue.contains(s,o)&&(o.src?ue._evalUrl(o.src):ue.globalEval((o.text||o.textContent||o.innerHTML||"").replace(at,"")));l=r=null}return this}}),ue.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ue.fn[e]=function(e){for(var n,r=0,o=[],a=ue(e),i=a.length-1;i>=r;r++)n=r===i?this:this.clone(!0),ue(a[r])[t](n),oe.apply(o,n.get());return this.pushStack(o)}}),ue.extend({clone:function(e,t,n){var r,o,a,i,s,l=ue.contains(e.ownerDocument,e);if(ue.support.html5Clone||ue.isXMLDoc(e)||!Xe.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(lt.innerHTML=e.outerHTML,lt.removeChild(a=lt.firstChild)),!(ue.support.noCloneEvent&&ue.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ue.isXMLDoc(e)))for(r=C(a),s=C(e),i=0;null!=(o=s[i]);++i)r[i]&&b(o,r[i]);if(t)if(n)for(s=s||C(e),r=r||C(a),i=0;null!=(o=s[i]);i++)y(o,r[i]);else y(e,a);return r=C(a,"script"),r.length>0&&m(r,!l&&C(e,"script")),r=s=o=null,a},buildFragment:function(e,t,n,r){for(var o,a,i,s,l,c,u,d=e.length,f=p(t),h=[],v=0;d>v;v++)if(a=e[v],a||0===a)if("object"===ue.type(a))ue.merge(h,a.nodeType?[a]:a);else if(Qe.test(a)){for(s=s||f.appendChild(t.createElement("div")),l=(Ge.exec(a)||["",""])[1].toLowerCase(),u=it[l]||it._default,s.innerHTML=u[1]+a.replace(Ze,"<$1></$2>")+u[2],o=u[0];o--;)s=s.lastChild;if(!ue.support.leadingWhitespace&&Ke.test(a)&&h.push(t.createTextNode(Ke.exec(a)[0])),!ue.support.tbody)for(a="table"!==l||Je.test(a)?"<table>"!==u[1]||Je.test(a)?0:s:s.firstChild,o=a&&a.childNodes.length;o--;)ue.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(ue.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else h.push(t.createTextNode(a));for(s&&f.removeChild(s),ue.support.appendChecked||ue.grep(C(h,"input"),x),v=0;a=h[v++];)if((!r||-1===ue.inArray(a,r))&&(i=ue.contains(a.ownerDocument,a),s=C(f.appendChild(a),"script"),i&&m(s),n))for(o=0;a=s[o++];)rt.test(a.type||"")&&n.push(a);return s=null,f},cleanData:function(e,t){for(var n,r,o,a,i=0,s=ue.expando,l=ue.cache,c=ue.support.deleteExpando,u=ue.event.special;null!=(n=e[i]);i++)if((t||ue.acceptData(n))&&(o=n[s],a=o&&l[o])){if(a.events)for(r in a.events)u[r]?ue.event.remove(n,r):ue.removeEvent(n,r,a.handle);l[o]&&(delete l[o],c?delete n[s]:typeof n.removeAttribute!==X?n.removeAttribute(s):n[s]=null,te.push(o))}},_evalUrl:function(e){return ue.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ue.fn.extend({wrapAll:function(e){if(ue.isFunction(e))return this.each(function(t){ue(this).wrapAll(e.call(this,t))});if(this[0]){var t=ue(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ue.isFunction(e)?function(t){ue(this).wrapInner(e.call(this,t))}:function(){var t=ue(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ue.isFunction(e);return this.each(function(n){ue(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ue.nodeName(this,"body")||ue(this).replaceWith(this.childNodes)}).end()}});var ct,ut,dt,ft=/alpha\([^)]*\)/i,pt=/opacity\s*=\s*([^)]*)/,ht=/^(top|right|bottom|left)$/,vt=/^(none|table(?!-c[ea]).+)/,gt=/^margin/,mt=new RegExp("^("+de+")(.*)$","i"),yt=new RegExp("^("+de+")(?!px)[a-z%]+$","i"),bt=new RegExp("^([+-])=("+de+")","i"),Ct={BODY:"block"},xt={position:"absolute",visibility:"hidden",display:"block"},Nt={letterSpacing:0,fontWeight:400},wt=["Top","Right","Bottom","Left"],Tt=["Webkit","O","Moz","ms"];ue.fn.extend({css:function(e,n){return ue.access(this,function(e,n,r){var o,a,i={},s=0;if(ue.isArray(n)){for(a=ut(e),o=n.length;o>s;s++)i[n[s]]=ue.css(e,n[s],!1,a);return i}return r!==t?ue.style(e,n,r):ue.css(e,n)},e,n,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){w(this)?ue(this).show():ue(this).hide()})}}),ue.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=dt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ue.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,i,s,l=ue.camelCase(n),c=e.style;if(n=ue.cssProps[l]||(ue.cssProps[l]=N(c,l)),s=ue.cssHooks[n]||ue.cssHooks[l],r===t)return s&&"get"in s&&(a=s.get(e,!1,o))!==t?a:c[n];if(i=typeof r,"string"===i&&(a=bt.exec(r))&&(r=(a[1]+1)*a[2]+parseFloat(ue.css(e,n)),i="number"),!(null==r||"number"===i&&isNaN(r)||("number"!==i||ue.cssNumber[l]||(r+="px"),ue.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(c[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,o))===t)))try{c[n]=r}catch(u){}}},css:function(e,n,r,o){var a,i,s,l=ue.camelCase(n);return n=ue.cssProps[l]||(ue.cssProps[l]=N(e.style,l)),s=ue.cssHooks[n]||ue.cssHooks[l],s&&"get"in s&&(i=s.get(e,!0,r)),i===t&&(i=dt(e,n,o)),"normal"===i&&n in Nt&&(i=Nt[n]),""===r||r?(a=parseFloat(i),r===!0||ue.isNumeric(a)?a||0:i):i}}),e.getComputedStyle?(ut=function(t){return e.getComputedStyle(t,null)},dt=function(e,n,r){var o,a,i,s=r||ut(e),l=s?s.getPropertyValue(n)||s[n]:t,c=e.style;return s&&(""!==l||ue.contains(e.ownerDocument,e)||(l=ue.style(e,n)),yt.test(l)&&gt.test(n)&&(o=c.width,a=c.minWidth,i=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=s.width,c.width=o,c.minWidth=a,c.maxWidth=i)),l}):Z.documentElement.currentStyle&&(ut=function(e){return e.currentStyle},dt=function(e,n,r){var o,a,i,s=r||ut(e),l=s?s[n]:t,c=e.style;return null==l&&c&&c[n]&&(l=c[n]),yt.test(l)&&!ht.test(n)&&(o=c.left,a=e.runtimeStyle,i=a&&a.left,i&&(a.left=e.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=o,i&&(a.left=i)),""===l?"auto":l}),ue.each(["height","width"],function(e,t){ue.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&vt.test(ue.css(e,"display"))?ue.swap(e,xt,function(){return S(e,t,r)}):S(e,t,r):void 0},set:function(e,n,r){var o=r&&ut(e);return k(e,n,r?E(e,t,r,ue.support.boxSizing&&"border-box"===ue.css(e,"boxSizing",!1,o),o):0)}}}),ue.support.opacity||(ue.cssHooks.opacity={get:function(e,t){return pt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,o=ue.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ue.trim(a.replace(ft,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=ft.test(a)?a.replace(ft,o):a+" "+o)}}),ue(function(){ue.support.reliableMarginRight||(ue.cssHooks.marginRight={get:function(e,t){return t?ue.swap(e,{display:"inline-block"},dt,[e,"marginRight"]):void 0}}),!ue.support.pixelPosition&&ue.fn.position&&ue.each(["top","left"],function(e,t){ue.cssHooks[t]={get:function(e,n){return n?(n=dt(e,t),yt.test(n)?ue(e).position()[t]+"px":n):void 0}}})}),ue.expr&&ue.expr.filters&&(ue.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ue.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ue.css(e,"display"))},ue.expr.filters.visible=function(e){return!ue.expr.filters.hidden(e)}),ue.each({margin:"",padding:"",border:"Width"},function(e,t){ue.cssHooks[e+t]={expand:function(n){for(var r=0,o={},a="string"==typeof n?n.split(" "):[n];4>r;r++)o[e+wt[r]+t]=a[r]||a[r-2]||a[0];return o}},gt.test(e)||(ue.cssHooks[e+t].set=k)});var kt=/%20/g,Et=/\[\]$/,St=/\r?\n/g,Ot=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;ue.fn.extend({serialize:function(){return ue.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ue.prop(this,"elements");return e?ue.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ue(this).is(":disabled")&&At.test(this.nodeName)&&!Ot.test(e)&&(this.checked||!tt.test(e))}).map(function(e,t){var n=ue(this).val();return null==n?null:ue.isArray(n)?ue.map(n,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:n.replace(St,"\r\n")}}).get()}}),ue.param=function(e,n){var r,o=[],a=function(e,t){t=ue.isFunction(t)?t():null==t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=ue.ajaxSettings&&ue.ajaxSettings.traditional),ue.isArray(e)||e.jquery&&!ue.isPlainObject(e))ue.each(e,function(){a(this.name,this.value)});else for(r in e)I(r,e[r],n,a);return o.join("&").replace(kt,"+")},ue.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ue.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ue.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var It,Lt,Dt=ue.now(),_t=/\?/,Pt=/#.*$/,Mt=/([?&])_=[^&]*/,jt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,$t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Rt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Ft=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Bt=ue.fn.load,zt={},Ut={},qt="*/".concat("*");try{Lt=K.href}catch(Wt){Lt=Z.createElement("a"),Lt.href="",Lt=Lt.href}It=Ft.exec(Lt.toLowerCase())||[],ue.fn.load=function(e,n,r){if("string"!=typeof e&&Bt)return Bt.apply(this,arguments);var o,a,i,s=this,l=e.indexOf(" ");return l>=0&&(o=e.slice(l,e.length),e=e.slice(0,l)),ue.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(i="POST"),s.length>0&&ue.ajax({url:e,type:i,dataType:"html",data:n}).done(function(e){a=arguments,s.html(o?ue("<div>").append(ue.parseHTML(e)).find(o):e)}).complete(r&&function(e,t){s.each(r,a||[e.responseText,t,e])}),this},ue.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ue.fn[t]=function(e){return this.on(t,e)}}),ue.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Lt,type:"GET",isLocal:$t.test(It[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ue.parseJSON,"text xml":ue.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_(_(e,ue.ajaxSettings),t):_(ue.ajaxSettings,e)},ajaxPrefilter:L(zt),ajaxTransport:L(Ut),ajax:function(e,n){function r(e,n,r,o){var a,d,y,b,x,w=n;2!==C&&(C=2,l&&clearTimeout(l),u=t,s=o||"",N.readyState=e>0?4:0,a=e>=200&&300>e||304===e,r&&(b=P(f,N,r)),b=M(f,b,N,a),a?(f.ifModified&&(x=N.getResponseHeader("Last-Modified"),x&&(ue.lastModified[i]=x),x=N.getResponseHeader("etag"),x&&(ue.etag[i]=x)),204===e||"HEAD"===f.type?w="nocontent":304===e?w="notmodified":(w=b.state,d=b.data,y=b.error,a=!y)):(y=w,(e||!w)&&(w="error",0>e&&(e=0))),N.status=e,N.statusText=(n||w)+"",a?v.resolveWith(p,[d,w,N]):v.rejectWith(p,[N,w,y]),N.statusCode(m),m=t,c&&h.trigger(a?"ajaxSuccess":"ajaxError",[N,f,a?d:y]),g.fireWith(p,[N,w]),c&&(h.trigger("ajaxComplete",[N,f]),--ue.active||ue.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var o,a,i,s,l,c,u,d,f=ue.ajaxSetup({},n),p=f.context||f,h=f.context&&(p.nodeType||p.jquery)?ue(p):ue.event,v=ue.Deferred(),g=ue.Callbacks("once memory"),m=f.statusCode||{},y={},b={},C=0,x="canceled",N={readyState:0,getResponseHeader:function(e){var t;if(2===C){if(!d)for(d={};t=jt.exec(s);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===C?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return C||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return C||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>C)for(t in e)m[t]=[m[t],e[t]];else N.always(e[N.status]);return this},abort:function(e){var t=e||x;return u&&u.abort(t),r(0,t),this}};if(v.promise(N).complete=g.add,N.success=N.done,N.error=N.fail,f.url=((e||f.url||Lt)+"").replace(Pt,"").replace(Ht,It[1]+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=ue.trim(f.dataType||"*").toLowerCase().match(fe)||[""],null==f.crossDomain&&(o=Ft.exec(f.url.toLowerCase()),f.crossDomain=!(!o||o[1]===It[1]&&o[2]===It[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(It[3]||("http:"===It[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ue.param(f.data,f.traditional)),D(zt,f,n,N),2===C)return N;c=f.global,c&&0===ue.active++&&ue.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Rt.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(_t.test(i)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=Mt.test(i)?i.replace(Mt,"$1_="+Dt++):i+(_t.test(i)?"&":"?")+"_="+Dt++)),f.ifModified&&(ue.lastModified[i]&&N.setRequestHeader("If-Modified-Since",ue.lastModified[i]),ue.etag[i]&&N.setRequestHeader("If-None-Match",ue.etag[i])),(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&N.setRequestHeader("Content-Type",f.contentType),N.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+qt+"; q=0.01":""):f.accepts["*"]);for(a in f.headers)N.setRequestHeader(a,f.headers[a]);if(f.beforeSend&&(f.beforeSend.call(p,N,f)===!1||2===C))return N.abort();x="abort";for(a in{success:1,error:1,complete:1})N[a](f[a]);if(u=D(Ut,f,n,N)){N.readyState=1,c&&h.trigger("ajaxSend",[N,f]),f.async&&f.timeout>0&&(l=setTimeout(function(){N.abort("timeout")},f.timeout));try{C=1,u.send(y,r)}catch(w){if(!(2>C))throw w;r(-1,w)}}else r(-1,"No Transport");return N},getJSON:function(e,t,n){return ue.get(e,t,n,"json")},getScript:function(e,n){return ue.get(e,t,n,"script")}}),ue.each(["get","post"],function(e,n){ue[n]=function(e,r,o,a){return ue.isFunction(r)&&(a=a||o,o=r,r=t),ue.ajax({url:e,type:n,dataType:a,data:r,success:o})}}),ue.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ue.globalEval(e),e}}}),ue.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ue.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=Z.head||ue("head")[0]||Z.documentElement;return{send:function(t,o){n=Z.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||o(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Yt=[],Vt=/(=)\?(?=&|$)|\?\?/;ue.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||ue.expando+"_"+Dt++;return this[e]=!0,e}}),ue.ajaxPrefilter("json jsonp",function(n,r,o){var a,i,s,l=n.jsonp!==!1&&(Vt.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(a=n.jsonpCallback=ue.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Vt,"$1"+a):n.jsonp!==!1&&(n.url+=(_t.test(n.url)?"&":"?")+n.jsonp+"="+a),n.converters["script json"]=function(){return s||ue.error(a+" was not called"),s[0]},n.dataTypes[0]="json",i=e[a],e[a]=function(){s=arguments},o.always(function(){e[a]=i,n[a]&&(n.jsonpCallback=r.jsonpCallback,Yt.push(a)),s&&ue.isFunction(i)&&i(s[0]),s=i=t}),"script"):void 0});var Xt,Kt,Zt=0,Gt=e.ActiveXObject&&function(){var e;for(e in Xt)Xt[e](t,!0)};ue.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&j()||$()}:j,Kt=ue.ajaxSettings.xhr(),ue.support.cors=!!Kt&&"withCredentials"in Kt,Kt=ue.support.ajax=!!Kt,Kt&&ue.ajaxTransport(function(n){if(!n.crossDomain||ue.support.cors){var r;return{send:function(o,a){var i,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");try{for(s in o)l.setRequestHeader(s,o[s])}catch(c){}l.send(n.hasContent&&n.data||null),r=function(e,o){var s,c,u,d;try{if(r&&(o||4===l.readyState))if(r=t,i&&(l.onreadystatechange=ue.noop,Gt&&delete Xt[i]),o)4!==l.readyState&&l.abort();else{d={},s=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(d.text=l.responseText);try{u=l.statusText}catch(f){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(p){o||a(-1,p)}d&&a(s,u,d,c)},n.async?4===l.readyState?setTimeout(r):(i=++Zt,Gt&&(Xt||(Xt={},ue(e).unload(Gt)),Xt[i]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Jt,Qt,en=/^(?:toggle|show|hide)$/,tn=new RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),nn=/queueHooks$/,rn=[z],on={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),o=tn.exec(t),a=o&&o[3]||(ue.cssNumber[e]?"":"px"),i=(ue.cssNumber[e]||"px"!==a&&+r)&&tn.exec(ue.css(n.elem,e)),s=1,l=20;if(i&&i[3]!==a){a=a||i[3],o=o||[],i=+r||1;do s=s||".5",i/=s,ue.style(n.elem,e,i+a);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return o&&(i=n.start=+i||+r||0,n.unit=a,n.end=o[1]?i+(o[1]+1)*o[2]:+o[2]),n}]};ue.Animation=ue.extend(F,{tweener:function(e,t){ue.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,o=e.length;o>r;r++)n=e[r],on[n]=on[n]||[],on[n].unshift(t)},prefilter:function(e,t){t?rn.unshift(e):rn.push(e)}}),ue.Tween=U,U.prototype={constructor:U,init:function(e,t,n,r,o,a){this.elem=e,
this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(ue.cssNumber[n]?"":"px")},cur:function(){var e=U.propHooks[this.prop];return e&&e.get?e.get(this):U.propHooks._default.get(this)},run:function(e){var t,n=U.propHooks[this.prop];return this.pos=t=this.options.duration?ue.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ue.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ue.fx.step[e.prop]?ue.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ue.cssProps[e.prop]]||ue.cssHooks[e.prop])?ue.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ue.each(["toggle","show","hide"],function(e,t){var n=ue.fn[t];ue.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(q(t,!0),e,r,o)}}),ue.fn.extend({fadeTo:function(e,t,n,r){return this.filter(w).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=ue.isEmptyObject(e),a=ue.speed(t,n,r),i=function(){var t=F(this,ue.extend({},e),a);(o||ue._data(this,"finish"))&&t.stop(!0)};return i.finish=i,o||a.queue===!1?this.each(i):this.queue(a.queue,i)},stop:function(e,n,r){var o=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",a=ue.timers,i=ue._data(this);if(n)i[n]&&i[n].stop&&o(i[n]);else for(n in i)i[n]&&i[n].stop&&nn.test(n)&&o(i[n]);for(n=a.length;n--;)a[n].elem!==this||null!=e&&a[n].queue!==e||(a[n].anim.stop(r),t=!1,a.splice(n,1));(t||!r)&&ue.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ue._data(this),r=n[e+"queue"],o=n[e+"queueHooks"],a=ue.timers,i=r?r.length:0;for(n.finish=!0,ue.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;i>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ue.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ue.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ue.speed=function(e,t,n){var r=e&&"object"==typeof e?ue.extend({},e):{complete:n||!n&&t||ue.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ue.isFunction(t)&&t};return r.duration=ue.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ue.fx.speeds?ue.fx.speeds[r.duration]:ue.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ue.isFunction(r.old)&&r.old.call(this),r.queue&&ue.dequeue(this,r.queue)},r},ue.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ue.timers=[],ue.fx=U.prototype.init,ue.fx.tick=function(){var e,n=ue.timers,r=0;for(Jt=ue.now();r<n.length;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||ue.fx.stop(),Jt=t},ue.fx.timer=function(e){e()&&ue.timers.push(e)&&ue.fx.start()},ue.fx.interval=13,ue.fx.start=function(){Qt||(Qt=setInterval(ue.fx.tick,ue.fx.interval))},ue.fx.stop=function(){clearInterval(Qt),Qt=null},ue.fx.speeds={slow:600,fast:200,_default:400},ue.fx.step={},ue.expr&&ue.expr.filters&&(ue.expr.filters.animated=function(e){return ue.grep(ue.timers,function(t){return e===t.elem}).length}),ue.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ue.offset.setOffset(this,e,t)});var n,r,o={top:0,left:0},a=this[0],i=a&&a.ownerDocument;if(i)return n=i.documentElement,ue.contains(n,a)?(typeof a.getBoundingClientRect!==X&&(o=a.getBoundingClientRect()),r=W(i),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},ue.offset={setOffset:function(e,t,n){var r=ue.css(e,"position");"static"===r&&(e.style.position="relative");var o,a,i=ue(e),s=i.offset(),l=ue.css(e,"top"),c=ue.css(e,"left"),u=("absolute"===r||"fixed"===r)&&ue.inArray("auto",[l,c])>-1,d={},f={};u?(f=i.position(),o=f.top,a=f.left):(o=parseFloat(l)||0,a=parseFloat(c)||0),ue.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+o),null!=t.left&&(d.left=t.left-s.left+a),"using"in t?t.using.call(e,d):i.css(d)}},ue.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ue.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ue.nodeName(e[0],"html")||(n=e.offset()),n.top+=ue.css(e[0],"borderTopWidth",!0),n.left+=ue.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ue.css(r,"marginTop",!0),left:t.left-n.left-ue.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||G;e&&!ue.nodeName(e,"html")&&"static"===ue.css(e,"position");)e=e.offsetParent;return e||G})}}),ue.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);ue.fn[e]=function(o){return ue.access(this,function(e,o,a){var i=W(e);return a===t?i?n in i?i[n]:i.document.documentElement[o]:e[o]:void(i?i.scrollTo(r?ue(i).scrollLeft():a,r?a:ue(i).scrollTop()):e[o]=a)},e,o,arguments.length,null)}}),ue.each({Height:"height",Width:"width"},function(e,n){ue.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,o){ue.fn[o]=function(o,a){var i=arguments.length&&(r||"boolean"!=typeof o),s=r||(o===!0||a===!0?"margin":"border");return ue.access(this,function(n,r,o){var a;return ue.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(a=n.documentElement,Math.max(n.body["scroll"+e],a["scroll"+e],n.body["offset"+e],a["offset"+e],a["client"+e])):o===t?ue.css(n,r,s):ue.style(n,r,o,s)},n,i?o:t,i,null)}})}),ue.fn.size=function(){return this.length},ue.fn.andSelf=ue.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ue:(e.jQuery=e.$=ue,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ue}))}(window),function($){var settings={},roots={},caches={},_consts={className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_setting={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0,txtSelectedEnable:!1},data:{key:{children:"children",name:"name",title:"",url:"url"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},_initRoot=function(e){var t=data.getRoot(e);t||(t={},data.setRoot(e,t)),t[e.data.key.children]=[],t.expandTriggerFlag=!1,t.curSelectedList=[],t.noSelection=!0,t.createdNodes=[],t.zId=0,t._ver=(new Date).getTime()},_initCache=function(e){var t=data.getCache(e);t||(t={},data.setCache(e,t)),t.nodes=[],t.doms=[]},_bindEvent=function(e){var t=e.treeObj,n=consts.event;t.bind(n.NODECREATED,function(t,n,r){tools.apply(e.callback.onNodeCreated,[t,n,r])}),t.bind(n.CLICK,function(t,n,r,o,a){tools.apply(e.callback.onClick,[n,r,o,a])}),t.bind(n.EXPAND,function(t,n,r){tools.apply(e.callback.onExpand,[t,n,r])}),t.bind(n.COLLAPSE,function(t,n,r){tools.apply(e.callback.onCollapse,[t,n,r])}),t.bind(n.ASYNC_SUCCESS,function(t,n,r,o){tools.apply(e.callback.onAsyncSuccess,[t,n,r,o])}),t.bind(n.ASYNC_ERROR,function(t,n,r,o,a,i){tools.apply(e.callback.onAsyncError,[t,n,r,o,a,i])}),t.bind(n.REMOVE,function(t,n,r){tools.apply(e.callback.onRemove,[t,n,r])})},_unbindEvent=function(e){var t=e.treeObj,n=consts.event;t.unbind(n.NODECREATED).unbind(n.CLICK).unbind(n.EXPAND).unbind(n.COLLAPSE).unbind(n.ASYNC_SUCCESS).unbind(n.ASYNC_ERROR).unbind(n.REMOVE)},_eventProxy=function(e){var t=e.target,n=data.getSetting(e.data.treeId),r="",o=null,a="",i="",s=null,l=null,c=null;if(tools.eqs(e.type,"mousedown")?i="mousedown":tools.eqs(e.type,"mouseup")?i="mouseup":tools.eqs(e.type,"contextmenu")?i="contextmenu":tools.eqs(e.type,"click")?tools.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+consts.id.SWITCH)?(r=tools.getNodeMainDom(t).id,a="switchNode"):(c=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]),c&&(r=tools.getNodeMainDom(c).id,a="clickNode")):tools.eqs(e.type,"dblclick")&&(i="dblclick",c=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]),c&&(r=tools.getNodeMainDom(c).id,a="switchNode")),i.length>0&&0==r.length&&(c=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]),c&&(r=tools.getNodeMainDom(c).id)),r.length>0)switch(o=data.getNodeCache(n,r),a){case"switchNode":o.isParent&&(tools.eqs(e.type,"click")||tools.eqs(e.type,"dblclick")&&tools.apply(n.view.dblClickExpand,[n.treeId,o],n.view.dblClickExpand))?s=handler.onSwitchNode:a="";break;case"clickNode":s=handler.onClickNode}switch(i){case"mousedown":l=handler.onZTreeMousedown;break;case"mouseup":l=handler.onZTreeMouseup;break;case"dblclick":l=handler.onZTreeDblclick;break;case"contextmenu":l=handler.onZTreeContextmenu}var u={stop:!1,node:o,nodeEventType:a,nodeEventCallback:s,treeEventType:i,treeEventCallback:l};return u},_initNode=function(e,t,n,r,o,a,i){if(n){var s=data.getRoot(e),l=e.data.key.children;n.level=t,n.tId=e.treeId+"_"+ ++s.zId,n.parentTId=r?r.tId:null,n.open="string"==typeof n.open?tools.eqs(n.open,"true"):!!n.open,n[l]&&n[l].length>0?(n.isParent=!0,n.zAsync=!0):(n.isParent="string"==typeof n.isParent?tools.eqs(n.isParent,"true"):!!n.isParent,n.open=n.isParent&&!e.async.enable?n.open:!1,n.zAsync=!n.isParent),n.isFirstNode=o,n.isLastNode=a,n.getParentNode=function(){return data.getNodeCache(e,n.parentTId)},n.getPreNode=function(){return data.getPreNode(e,n)},n.getNextNode=function(){return data.getNextNode(e,n)},n.isAjaxing=!1,data.fixPIdKeyValue(e,n)}},_init={bind:[_bindEvent],unbind:[_unbindEvent],caches:[_initCache],nodes:[_initNode],proxys:[_eventProxy],roots:[_initRoot],beforeA:[],afterA:[],innerBeforeA:[],innerAfterA:[],zTreeTools:[]},data={addNodeCache:function(e,t){data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=t},getNodeCacheId:function(e){return e.substring(e.lastIndexOf("_")+1)},addAfterA:function(e){_init.afterA.push(e)},addBeforeA:function(e){_init.beforeA.push(e)},addInnerAfterA:function(e){_init.innerAfterA.push(e)},addInnerBeforeA:function(e){_init.innerBeforeA.push(e)},addInitBind:function(e){_init.bind.push(e)},addInitUnBind:function(e){_init.unbind.push(e)},addInitCache:function(e){_init.caches.push(e)},addInitNode:function(e){_init.nodes.push(e)},addInitProxy:function(e,t){t?_init.proxys.splice(0,0,e):_init.proxys.push(e)},addInitRoot:function(e){_init.roots.push(e)},addNodesData:function(e,t,n){var r=e.data.key.children;t[r]||(t[r]=[]),t[r].length>0&&(t[r][t[r].length-1].isLastNode=!1,view.setNodeLineIcos(e,t[r][t[r].length-1])),t.isParent=!0,t[r]=t[r].concat(n)},addSelectedNode:function(e,t){var n=data.getRoot(e);data.isSelectedNode(e,t)||n.curSelectedList.push(t)},addCreatedNode:function(e,t){if(e.callback.onNodeCreated||e.view.addDiyDom){var n=data.getRoot(e);n.createdNodes.push(t)}},addZTreeTools:function(e){_init.zTreeTools.push(e)},exSetting:function(e){$.extend(!0,_setting,e)},fixPIdKeyValue:function(e,t){e.data.simpleData.enable&&(t[e.data.simpleData.pIdKey]=t.parentTId?t.getParentNode()[e.data.simpleData.idKey]:e.data.simpleData.rootPId)},getAfterA:function(e,t,n){for(var r=0,o=_init.afterA.length;o>r;r++)_init.afterA[r].apply(this,arguments)},getBeforeA:function(e,t,n){for(var r=0,o=_init.beforeA.length;o>r;r++)_init.beforeA[r].apply(this,arguments)},getInnerAfterA:function(e,t,n){for(var r=0,o=_init.innerAfterA.length;o>r;r++)_init.innerAfterA[r].apply(this,arguments)},getInnerBeforeA:function(e,t,n){for(var r=0,o=_init.innerBeforeA.length;o>r;r++)_init.innerBeforeA[r].apply(this,arguments)},getCache:function(e){return caches[e.treeId]},getNextNode:function(e,t){if(!t)return null;for(var n=e.data.key.children,r=t.parentTId?t.getParentNode():data.getRoot(e),o=0,a=r[n].length-1;a>=o;o++)if(r[n][o]===t)return o==a?null:r[n][o+1];return null},getNodeByParam:function(e,t,n,r){if(!t||!n)return null;for(var o=e.data.key.children,a=0,i=t.length;i>a;a++){if(t[a][n]==r)return t[a];var s=data.getNodeByParam(e,t[a][o],n,r);if(s)return s}return null},getNodeCache:function(e,t){if(!t)return null;var n=caches[e.treeId].nodes[data.getNodeCacheId(t)];return n?n:null},getNodeName:function(e,t){var n=e.data.key.name;return""+t[n]},getNodeTitle:function(e,t){var n=""===e.data.key.title?e.data.key.name:e.data.key.title;return""+t[n]},getNodes:function(e){return data.getRoot(e)[e.data.key.children]},getNodesByParam:function(e,t,n,r){if(!t||!n)return[];for(var o=e.data.key.children,a=[],i=0,s=t.length;s>i;i++)t[i][n]==r&&a.push(t[i]),a=a.concat(data.getNodesByParam(e,t[i][o],n,r));return a},getNodesByParamFuzzy:function(e,t,n,r){if(!t||!n)return[];var o=e.data.key.children,a=[];r=r.toLowerCase();for(var i=0,s=t.length;s>i;i++)"string"==typeof t[i][n]&&t[i][n].toLowerCase().indexOf(r)>-1&&a.push(t[i]),a=a.concat(data.getNodesByParamFuzzy(e,t[i][o],n,r));return a},getNodesByFilter:function(e,t,n,r,o){if(!t)return r?null:[];for(var a=e.data.key.children,i=r?null:[],s=0,l=t.length;l>s;s++){if(tools.apply(n,[t[s],o],!1)){if(r)return t[s];i.push(t[s])}var c=data.getNodesByFilter(e,t[s][a],n,r,o);if(r&&c)return c;i=r?c:i.concat(c)}return i},getPreNode:function(e,t){if(!t)return null;for(var n=e.data.key.children,r=t.parentTId?t.getParentNode():data.getRoot(e),o=0,a=r[n].length;a>o;o++)if(r[n][o]===t)return 0==o?null:r[n][o-1];return null},getRoot:function(e){return e?roots[e.treeId]:null},getRoots:function(){return roots},getSetting:function(e){return settings[e]},getSettings:function(){return settings},getZTreeTools:function(e){var t=this.getRoot(this.getSetting(e));return t?t.treeTools:null},initCache:function(e){for(var t=0,n=_init.caches.length;n>t;t++)_init.caches[t].apply(this,arguments)},initNode:function(e,t,n,r,o,a){for(var i=0,s=_init.nodes.length;s>i;i++)_init.nodes[i].apply(this,arguments)},initRoot:function(e){for(var t=0,n=_init.roots.length;n>t;t++)_init.roots[t].apply(this,arguments)},isSelectedNode:function(e,t){for(var n=data.getRoot(e),r=0,o=n.curSelectedList.length;o>r;r++)if(t===n.curSelectedList[r])return!0;return!1},removeNodeCache:function(e,t){var n=e.data.key.children;if(t[n])for(var r=0,o=t[n].length;o>r;r++)arguments.callee(e,t[n][r]);data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=null},removeSelectedNode:function(e,t){for(var n=data.getRoot(e),r=0,o=n.curSelectedList.length;o>r;r++)t!==n.curSelectedList[r]&&data.getNodeCache(e,n.curSelectedList[r].tId)||(n.curSelectedList.splice(r,1),r--,o--)},setCache:function(e,t){caches[e.treeId]=t},setRoot:function(e,t){roots[e.treeId]=t},setZTreeTools:function(e,t){for(var n=0,r=_init.zTreeTools.length;r>n;n++)_init.zTreeTools[n].apply(this,arguments)},transformToArrayFormat:function(e,t){if(!t)return[];var n=e.data.key.children,r=[];if(tools.isArray(t))for(var o=0,a=t.length;a>o;o++)r.push(t[o]),t[o][n]&&(r=r.concat(data.transformToArrayFormat(e,t[o][n])));else r.push(t),t[n]&&(r=r.concat(data.transformToArrayFormat(e,t[n])));return r},transformTozTreeFormat:function(e,t){var n,r,o=e.data.simpleData.idKey,a=e.data.simpleData.pIdKey,i=e.data.key.children;if(!o||""==o||!t)return[];if(tools.isArray(t)){var s=[],l=[];for(n=0,r=t.length;r>n;n++)l[t[n][o]]=t[n];for(n=0,r=t.length;r>n;n++)l[t[n][a]]&&t[n][o]!=t[n][a]?(l[t[n][a]][i]||(l[t[n][a]][i]=[]),l[t[n][a]][i].push(t[n])):s.push(t[n]);return s}return[t]}},event={bindEvent:function(e){for(var t=0,n=_init.bind.length;n>t;t++)_init.bind[t].apply(this,arguments)},unbindEvent:function(e){for(var t=0,n=_init.unbind.length;n>t;t++)_init.unbind[t].apply(this,arguments)},bindTree:function(e){var t={treeId:e.treeId},n=e.treeObj;e.view.txtSelectedEnable||n.bind("selectstart",function(e){var t=e.originalEvent.srcElement.nodeName.toLowerCase();return"input"===t||"textarea"===t}).css({"-moz-user-select":"-moz-none"}),n.bind("click",t,event.proxy),n.bind("dblclick",t,event.proxy),n.bind("mouseover",t,event.proxy),n.bind("mouseout",t,event.proxy),n.bind("mousedown",t,event.proxy),n.bind("mouseup",t,event.proxy),n.bind("contextmenu",t,event.proxy)},unbindTree:function(e){var t=e.treeObj;t.unbind("click",event.proxy).unbind("dblclick",event.proxy).unbind("mouseover",event.proxy).unbind("mouseout",event.proxy).unbind("mousedown",event.proxy).unbind("mouseup",event.proxy).unbind("contextmenu",event.proxy)},doProxy:function(e){for(var t=[],n=0,r=_init.proxys.length;r>n;n++){var o=_init.proxys[n].apply(this,arguments);if(t.push(o),o.stop)break}return t},proxy:function(e){var t=data.getSetting(e.data.treeId);if(!tools.uCanDo(t,e))return!0;for(var n=event.doProxy(e),r=!0,o=!1,a=0,i=n.length;i>a;a++){var s=n[a];s.nodeEventCallback&&(o=!0,r=s.nodeEventCallback.apply(s,[e,s.node])&&r),s.treeEventCallback&&(o=!0,r=s.treeEventCallback.apply(s,[e,s.node])&&r)}return r}},handler={onSwitchNode:function(e,t){var n=data.getSetting(e.data.treeId);if(t.open){if(0==tools.apply(n.callback.beforeCollapse,[n.treeId,t],!0))return!0;data.getRoot(n).expandTriggerFlag=!0,view.switchNode(n,t)}else{if(0==tools.apply(n.callback.beforeExpand,[n.treeId,t],!0))return!0;data.getRoot(n).expandTriggerFlag=!0,view.switchNode(n,t)}return!0},onClickNode:function(e,t){var n=data.getSetting(e.data.treeId),r=n.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&data.isSelectedNode(n,t)?0:n.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&n.view.selectedMulti?2:1;return 0==tools.apply(n.callback.beforeClick,[n.treeId,t,r],!0)?!0:(0===r?view.cancelPreSelectedNode(n,t):view.selectNode(n,t,2===r),n.treeObj.trigger(consts.event.CLICK,[e,n.treeId,t,r]),!0)},onZTreeMousedown:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeMouseDown,[n.treeId,t],!0)&&tools.apply(n.callback.onMouseDown,[e,n.treeId,t]),!0},onZTreeMouseup:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeMouseUp,[n.treeId,t],!0)&&tools.apply(n.callback.onMouseUp,[e,n.treeId,t]),!0},onZTreeDblclick:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeDblClick,[n.treeId,t],!0)&&tools.apply(n.callback.onDblClick,[e,n.treeId,t]),!0},onZTreeContextmenu:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeRightClick,[n.treeId,t],!0)&&tools.apply(n.callback.onRightClick,[e,n.treeId,t]),"function"!=typeof n.callback.onRightClick}},tools={apply:function(e,t,n){return"function"==typeof e?e.apply(zt,t?t:[]):n},canAsync:function(e,t){var n=e.data.key.children;return e.async.enable&&t&&t.isParent&&!(t.zAsync||t[n]&&t[n].length>0)},clone:function(e){if(null===e)return null;var t=tools.isArray(e)?[]:{};for(var n in e)t[n]=e[n]instanceof Date?new Date(e[n].getTime()):"object"==typeof e[n]?arguments.callee(e[n]):e[n];return t},eqs:function(e,t){return e.toLowerCase()===t.toLowerCase()},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},$:function(e,t,n){return t&&"string"!=typeof t&&(n=t,t=""),"string"==typeof e?$(e,n?n.treeObj.get(0).ownerDocument:null):$("#"+e.tId+t,n?n.treeObj:null)},getMDom:function(e,t,n){if(!t)return null;for(;t&&t.id!==e.treeId;){for(var r=0,o=n.length;t.tagName&&o>r;r++)if(tools.eqs(t.tagName,n[r].tagName)&&null!==t.getAttribute(n[r].attrName))return t;t=t.parentNode}return null},getNodeMainDom:function(e){return $(e).parent("li").get(0)||$(e).parentsUntil("li").parent().get(0)},isChildOrSelf:function(e,t){return $(e).closest("#"+t).length>0},uCanDo:function(e,t){return!0}},view={addNodes:function(e,t,n,r){if(!e.data.keep.leaf||!t||t.isParent)if(tools.isArray(n)||(n=[n]),e.data.simpleData.enable&&(n=data.transformTozTreeFormat(e,n)),t){var o=$$(t,consts.id.SWITCH,e),a=$$(t,consts.id.ICON,e),i=$$(t,consts.id.UL,e);t.open||(view.replaceSwitchClass(t,o,consts.folder.CLOSE),view.replaceIcoClass(t,a,consts.folder.CLOSE),t.open=!1,i.css({display:"none"})),data.addNodesData(e,t,n),view.createNodes(e,t.level+1,n,t),r||view.expandCollapseParentNode(e,t,!0)}else data.addNodesData(e,data.getRoot(e),n),view.createNodes(e,0,n,null)},appendNodes:function(e,t,n,r,o,a){if(!n)return[];for(var i=[],s=e.data.key.children,l=0,c=n.length;c>l;l++){var u=n[l];if(o){var d=r?r:data.getRoot(e),f=d[s],p=f.length==n.length&&0==l,h=l==n.length-1;data.initNode(e,t,u,r,p,h,a),data.addNodeCache(e,u)}var v=[];u[s]&&u[s].length>0&&(v=view.appendNodes(e,t+1,u[s],u,o,a&&u.open)),a&&(view.makeDOMNodeMainBefore(i,e,u),view.makeDOMNodeLine(i,e,u),data.getBeforeA(e,u,i),view.makeDOMNodeNameBefore(i,e,u),data.getInnerBeforeA(e,u,i),view.makeDOMNodeIcon(i,e,u),data.getInnerAfterA(e,u,i),view.makeDOMNodeNameAfter(i,e,u),data.getAfterA(e,u,i),u.isParent&&u.open&&view.makeUlHtml(e,u,i,v.join("")),view.makeDOMNodeMainAfter(i,e,u),data.addCreatedNode(e,u))}return i},appendParentULDom:function(e,t){var n=[],r=$$(t,e);!r.get(0)&&t.parentTId&&(view.appendParentULDom(e,t.getParentNode()),r=$$(t,e));var o=$$(t,consts.id.UL,e);o.get(0)&&o.remove();var a=e.data.key.children,i=view.appendNodes(e,t.level+1,t[a],t,!1,!0);view.makeUlHtml(e,t,n,i.join("")),r.append(n.join(""))},asyncNode:function(setting,node,isSilent,callback){var i,l;if(node&&!node.isParent)return tools.apply(callback),!1;if(node&&node.isAjaxing)return!1;if(0==tools.apply(setting.callback.beforeAsync,[setting.treeId,node],!0))return tools.apply(callback),!1;if(node){node.isAjaxing=!0;var icoObj=$$(node,consts.id.ICON,setting);icoObj.attr({style:"","class":consts.className.BUTTON+" "+consts.className.ICO_LOADING})}var tmpParam={};for(i=0,l=setting.async.autoParam.length;node&&l>i;i++){var pKey=setting.async.autoParam[i].split("="),spKey=pKey;pKey.length>1&&(spKey=pKey[1],pKey=pKey[0]),tmpParam[spKey]=node[pKey]}if(tools.isArray(setting.async.otherParam))for(i=0,l=setting.async.otherParam.length;l>i;i+=2)tmpParam[setting.async.otherParam[i]]=setting.async.otherParam[i+1];else for(var p in setting.async.otherParam)tmpParam[p]=setting.async.otherParam[p];var _tmpV=data.getRoot(setting)._ver;return $.ajax({contentType:setting.async.contentType,type:setting.async.type,url:tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),data:tmpParam,dataType:setting.async.dataType,success:function(msg){if(_tmpV==data.getRoot(setting)._ver){var newNodes=[];try{newNodes=msg&&0!=msg.length?"string"==typeof msg?eval("("+msg+")"):msg:[]}catch(err){newNodes=msg}node&&(node.isAjaxing=null,node.zAsync=!0),view.setNodeLineIcos(setting,node),newNodes&&""!==newNodes?(newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes),view.addNodes(setting,node,newNodes?tools.clone(newNodes):[],!!isSilent)):view.addNodes(setting,node,[],!!isSilent),setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]),tools.apply(callback)}},error:function(e,t,n){_tmpV==data.getRoot(setting)._ver&&(node&&(node.isAjaxing=null),view.setNodeLineIcos(setting,node),setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,e,t,n]))}}),!0},cancelPreSelectedNode:function(e,t){for(var n=data.getRoot(e).curSelectedList,r=0,o=n.length-1;o>=r;o--)if((!t||t===n[o])&&($$(n[o],consts.id.A,e).removeClass(consts.node.CURSELECTED),t)){data.removeSelectedNode(e,t);break}t||(data.getRoot(e).curSelectedList=[])},createNodeCallback:function(e){if(e.callback.onNodeCreated||e.view.addDiyDom)for(var t=data.getRoot(e);t.createdNodes.length>0;){var n=t.createdNodes.shift();tools.apply(e.view.addDiyDom,[e.treeId,n]),e.callback.onNodeCreated&&e.treeObj.trigger(consts.event.NODECREATED,[e.treeId,n])}},createNodes:function(e,t,n,r){if(n&&0!=n.length){var o=data.getRoot(e),a=e.data.key.children,i=!r||r.open||!!$$(r[a][0],e).get(0);o.createdNodes=[];var s=view.appendNodes(e,t,n,r,!0,i);if(r){var l=$$(r,consts.id.UL,e);l.get(0)&&l.append(s.join(""))}else e.treeObj.append(s.join(""));view.createNodeCallback(e)}},destroy:function(e){e&&(data.initCache(e),data.initRoot(e),event.unbindTree(e),event.unbindEvent(e),e.treeObj.empty(),delete settings[e.treeId])},expandCollapseNode:function(e,t,n,r,o){var a=data.getRoot(e),i=e.data.key.children;if(!t)return void tools.apply(o,[]);if(a.expandTriggerFlag){var s=o;o=function(){s&&s(),t.open?e.treeObj.trigger(consts.event.EXPAND,[e.treeId,t]):e.treeObj.trigger(consts.event.COLLAPSE,[e.treeId,t])},a.expandTriggerFlag=!1}if(!t.open&&t.isParent&&(!$$(t,consts.id.UL,e).get(0)||t[i]&&t[i].length>0&&!$$(t[i][0],e).get(0))&&(view.appendParentULDom(e,t),view.createNodeCallback(e)),t.open==n)return void tools.apply(o,[]);var l=$$(t,consts.id.UL,e),c=$$(t,consts.id.SWITCH,e),u=$$(t,consts.id.ICON,e);t.isParent?(t.open=!t.open,t.iconOpen&&t.iconClose&&u.attr("style",view.makeNodeIcoStyle(e,t)),t.open?(view.replaceSwitchClass(t,c,consts.folder.OPEN),view.replaceIcoClass(t,u,consts.folder.OPEN),0==r||""==e.view.expandSpeed?(l.show(),tools.apply(o,[])):t[i]&&t[i].length>0?l.slideDown(e.view.expandSpeed,o):(l.show(),tools.apply(o,[]))):(view.replaceSwitchClass(t,c,consts.folder.CLOSE),view.replaceIcoClass(t,u,consts.folder.CLOSE),0!=r&&""!=e.view.expandSpeed&&t[i]&&t[i].length>0?l.slideUp(e.view.expandSpeed,o):(l.hide(),tools.apply(o,[])))):tools.apply(o,[])},expandCollapseParentNode:function(e,t,n,r,o){if(t){if(!t.parentTId)return void view.expandCollapseNode(e,t,n,r,o);view.expandCollapseNode(e,t,n,r),t.parentTId&&view.expandCollapseParentNode(e,t.getParentNode(),n,r,o)}},expandCollapseSonNode:function(e,t,n,r,o){var a=data.getRoot(e),i=e.data.key.children,s=t?t[i]:a[i],l=t?!1:r,c=data.getRoot(e).expandTriggerFlag;if(data.getRoot(e).expandTriggerFlag=!1,s)for(var u=0,d=s.length;d>u;u++)s[u]&&view.expandCollapseSonNode(e,s[u],n,l);data.getRoot(e).expandTriggerFlag=c,view.expandCollapseNode(e,t,n,r,o)},makeDOMNodeIcon:function(e,t,n){var r=data.getNodeName(t,n),o=t.view.nameIsHTML?r:r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");e.push("<span id='",n.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(t,n),"' style='",view.makeNodeIcoStyle(t,n),"'></span><span id='",n.tId,consts.id.SPAN,"'>",o,"</span>")},makeDOMNodeLine:function(e,t,n){e.push("<span id='",n.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(t,n),"' treeNode",consts.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(e,t,n){e.push("</li>")},makeDOMNodeMainBefore:function(e,t,n){e.push("<li id='",n.tId,"' class='",consts.className.LEVEL,n.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(e,t,n){e.push("</a>")},makeDOMNodeNameBefore:function(e,t,n){var r=data.getNodeTitle(t,n),o=view.makeNodeUrl(t,n),a=view.makeNodeFontCss(t,n),i=[];for(var s in a)i.push(s,":",a[s],";");e.push("<a id='",n.tId,consts.id.A,"' class='",consts.className.LEVEL,n.level,"' treeNode",consts.id.A,' onclick="',n.click||"",'" ',null!=o&&o.length>0?"href='"+o+"'":""," target='",view.makeNodeTarget(n),"' style='",i.join(""),"'"),tools.apply(t.view.showTitle,[t.treeId,n],t.view.showTitle)&&r&&e.push("title='",r.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),e.push(">")},makeNodeFontCss:function(e,t){var n=tools.apply(e.view.fontCss,[e.treeId,t],e.view.fontCss);return n&&"function"!=typeof n?n:{}},makeNodeIcoClass:function(e,t){var n=["ico"];return t.isAjaxing||(n[0]=(t.iconSkin?t.iconSkin+"_":"")+n[0],n.push(t.isParent?t.open?consts.folder.OPEN:consts.folder.CLOSE:consts.folder.DOCU)),consts.className.BUTTON+" "+n.join("_")},makeNodeIcoStyle:function(e,t){var n=[];if(!t.isAjaxing){var r=t.isParent&&t.iconOpen&&t.iconClose?t.open?t.iconOpen:t.iconClose:t.icon;r&&n.push("background:url(",r,") 0 0 no-repeat;"),0!=e.view.showIcon&&tools.apply(e.view.showIcon,[e.treeId,t],!0)||n.push("width:0px;height:0px;")}return n.join("")},makeNodeLineClass:function(e,t){var n=[];return n.push(e.view.showLine?0==t.level&&t.isFirstNode&&t.isLastNode?consts.line.ROOT:0==t.level&&t.isFirstNode?consts.line.ROOTS:t.isLastNode?consts.line.BOTTOM:consts.line.CENTER:consts.line.NOLINE),n.push(t.isParent?t.open?consts.folder.OPEN:consts.folder.CLOSE:consts.folder.DOCU),view.makeNodeLineClassEx(t)+n.join("_")},makeNodeLineClassEx:function(e){return consts.className.BUTTON+" "+consts.className.LEVEL+e.level+" "+consts.className.SWITCH+" "},makeNodeTarget:function(e){return e.target||"_blank"},makeNodeUrl:function(e,t){var n=e.data.key.url;return t[n]?t[n]:null},makeUlHtml:function(e,t,n,r){n.push("<ul id='",t.tId,consts.id.UL,"' class='",consts.className.LEVEL,t.level," ",view.makeUlLineClass(e,t),"' style='display:",t.open?"block":"none","'>"),n.push(r),n.push("</ul>")},makeUlLineClass:function(e,t){return e.view.showLine&&!t.isLastNode?consts.line.LINE:""},removeChildNodes:function(e,t){if(t){var n=e.data.key.children,r=t[n];if(r){for(var o=0,a=r.length;a>o;o++)data.removeNodeCache(e,r[o]);if(data.removeSelectedNode(e),delete t[n],e.data.keep.parent)$$(t,consts.id.UL,e).empty();else{t.isParent=!1,t.open=!1;var i=$$(t,consts.id.SWITCH,e),s=$$(t,consts.id.ICON,e);view.replaceSwitchClass(t,i,consts.folder.DOCU),view.replaceIcoClass(t,s,consts.folder.DOCU),$$(t,consts.id.UL,e).remove()}}}},setFirstNode:function(e,t){var n=e.data.key.children,r=t[n].length;r>0&&(t[n][0].isFirstNode=!0)},setLastNode:function(e,t){var n=e.data.key.children,r=t[n].length;r>0&&(t[n][r-1].isLastNode=!0)},removeNode:function(e,t){var n=data.getRoot(e),r=e.data.key.children,o=t.parentTId?t.getParentNode():n;if(t.isFirstNode=!1,t.isLastNode=!1,t.getPreNode=function(){return null},t.getNextNode=function(){return null},data.getNodeCache(e,t.tId)){$$(t,e).remove(),data.removeNodeCache(e,t),data.removeSelectedNode(e,t);for(var a=0,i=o[r].length;i>a;a++)if(o[r][a].tId==t.tId){o[r].splice(a,1);break}view.setFirstNode(e,o),view.setLastNode(e,o);var s,l,c,u=o[r].length;if(e.data.keep.parent||0!=u){if(e.view.showLine&&u>0){var d=o[r][u-1];if(s=$$(d,consts.id.UL,e),l=$$(d,consts.id.SWITCH,e),c=$$(d,consts.id.ICON,e),o==n)if(1==o[r].length)view.replaceSwitchClass(d,l,consts.line.ROOT);else{var f=$$(o[r][0],consts.id.SWITCH,e);view.replaceSwitchClass(o[r][0],f,consts.line.ROOTS),view.replaceSwitchClass(d,l,consts.line.BOTTOM)}else view.replaceSwitchClass(d,l,consts.line.BOTTOM);s.removeClass(consts.line.LINE)}}else o.isParent=!1,o.open=!1,s=$$(o,consts.id.UL,e),l=$$(o,consts.id.SWITCH,e),c=$$(o,consts.id.ICON,e),view.replaceSwitchClass(o,l,consts.folder.DOCU),view.replaceIcoClass(o,c,consts.folder.DOCU),s.css("display","none")}},replaceIcoClass:function(e,t,n){if(t&&!e.isAjaxing){var r=t.attr("class");if(void 0!=r){var o=r.split("_");switch(n){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:o[o.length-1]=n}t.attr("class",o.join("_"))}}},replaceSwitchClass:function(e,t,n){if(t){var r=t.attr("class");

if(void 0!=r){var o=r.split("_");switch(n){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:o[0]=view.makeNodeLineClassEx(e)+n;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:o[1]=n}t.attr("class",o.join("_")),n!==consts.folder.DOCU?t.removeAttr("disabled"):t.attr("disabled","disabled")}}},selectNode:function(e,t,n){n||view.cancelPreSelectedNode(e),$$(t,consts.id.A,e).addClass(consts.node.CURSELECTED),data.addSelectedNode(e,t)},setNodeFontCss:function(e,t){var n=$$(t,consts.id.A,e),r=view.makeNodeFontCss(e,t);r&&n.css(r)},setNodeLineIcos:function(e,t){if(t){var n=$$(t,consts.id.SWITCH,e),r=$$(t,consts.id.UL,e),o=$$(t,consts.id.ICON,e),a=view.makeUlLineClass(e,t);0==a.length?r.removeClass(consts.line.LINE):r.addClass(a),n.attr("class",view.makeNodeLineClass(e,t)),t.isParent?n.removeAttr("disabled"):n.attr("disabled","disabled"),o.removeAttr("style"),o.attr("style",view.makeNodeIcoStyle(e,t)),o.attr("class",view.makeNodeIcoClass(e,t))}},setNodeName:function(e,t){var n=data.getNodeTitle(e,t),r=$$(t,consts.id.SPAN,e);if(r.empty(),e.view.nameIsHTML?r.html(data.getNodeName(e,t)):r.text(data.getNodeName(e,t)),tools.apply(e.view.showTitle,[e.treeId,t],e.view.showTitle)){var o=$$(t,consts.id.A,e);o.attr("title",n?n:"")}},setNodeTarget:function(e,t){var n=$$(t,consts.id.A,e);n.attr("target",view.makeNodeTarget(t))},setNodeUrl:function(e,t){var n=$$(t,consts.id.A,e),r=view.makeNodeUrl(e,t);null==r||0==r.length?n.removeAttr("href"):n.attr("href",r)},switchNode:function(e,t){if(t.open||!tools.canAsync(e,t))view.expandCollapseNode(e,t,!t.open);else if(e.async.enable){if(!view.asyncNode(e,t))return void view.expandCollapseNode(e,t,!t.open)}else t&&view.expandCollapseNode(e,t,!t.open)}};$.fn.zTree={consts:_consts,_z:{tools:tools,view:view,event:event,data:data},getZTreeObj:function(e){var t=data.getZTreeTools(e);return t?t:null},destroy:function(e){if(e&&e.length>0)view.destroy(data.getSetting(e));else for(var t in settings)view.destroy(settings[t])},init:function(e,t,n){var r=tools.clone(_setting);$.extend(!0,r,t),r.treeId=e.attr("id"),r.treeObj=e,r.treeObj.empty(),settings[r.treeId]=r,"undefined"==typeof document.body.style.maxHeight&&(r.view.expandSpeed=""),data.initRoot(r);var o=data.getRoot(r),a=r.data.key.children;n=n?tools.clone(tools.isArray(n)?n:[n]):[],o[a]=r.data.simpleData.enable?data.transformTozTreeFormat(r,n):n,data.initCache(r),event.unbindTree(r),event.bindTree(r),event.unbindEvent(r),event.bindEvent(r);var i={setting:r,addNodes:function(e,t,n){function o(){view.addNodes(r,e,a,1==n)}if(!t)return null;if(e||(e=null),e&&!e.isParent&&r.data.keep.leaf)return null;var a=tools.clone(tools.isArray(t)?t:[t]);return tools.canAsync(r,e)?view.asyncNode(r,e,n,o):o(),a},cancelSelectedNode:function(e){view.cancelPreSelectedNode(r,e)},destroy:function(){view.destroy(r)},expandAll:function(e){return e=!!e,view.expandCollapseSonNode(r,null,e,!0),e},expandNode:function(e,t,n,o,a){if(!e||!e.isParent)return null;if(t!==!0&&t!==!1&&(t=!e.open),a=!!a,a&&t&&0==tools.apply(r.callback.beforeExpand,[r.treeId,e],!0))return null;if(a&&!t&&0==tools.apply(r.callback.beforeCollapse,[r.treeId,e],!0))return null;if(t&&e.parentTId&&view.expandCollapseParentNode(r,e.getParentNode(),t,!1),t===e.open&&!n)return null;if(data.getRoot(r).expandTriggerFlag=a,!tools.canAsync(r,e)&&n)view.expandCollapseSonNode(r,e,t,!0,function(){if(o!==!1)try{$$(e,r).focus().blur()}catch(t){}});else if(e.open=!t,view.switchNode(this.setting,e),o!==!1)try{$$(e,r).focus().blur()}catch(i){}return t},getNodes:function(){return data.getNodes(r)},getNodeByParam:function(e,t,n){return e?data.getNodeByParam(r,n?n[r.data.key.children]:data.getNodes(r),e,t):null},getNodeByTId:function(e){return data.getNodeCache(r,e)},getNodesByParam:function(e,t,n){return e?data.getNodesByParam(r,n?n[r.data.key.children]:data.getNodes(r),e,t):null},getNodesByParamFuzzy:function(e,t,n){return e?data.getNodesByParamFuzzy(r,n?n[r.data.key.children]:data.getNodes(r),e,t):null},getNodesByFilter:function(e,t,n,o){return t=!!t,e&&"function"==typeof e?data.getNodesByFilter(r,n?n[r.data.key.children]:data.getNodes(r),e,t,o):t?null:[]},getNodeIndex:function(e){if(!e)return null;for(var t=r.data.key.children,n=e.parentTId?e.getParentNode():data.getRoot(r),o=0,a=n[t].length;a>o;o++)if(n[t][o]==e)return o;return-1},getSelectedNodes:function(){for(var e=[],t=data.getRoot(r).curSelectedList,n=0,o=t.length;o>n;n++)e.push(t[n]);return e},isSelectedNode:function(e){return data.isSelectedNode(r,e)},reAsyncChildNodes:function(e,t,n){if(this.setting.async.enable){var o=!e;if(o&&(e=data.getRoot(r)),"refresh"==t){for(var a=this.setting.data.key.children,i=0,s=e[a]?e[a].length:0;s>i;i++)data.removeNodeCache(r,e[a][i]);if(data.removeSelectedNode(r),e[a]=[],o)this.setting.treeObj.empty();else{var l=$$(e,consts.id.UL,r);l.empty()}}view.asyncNode(this.setting,o?null:e,!!n)}},refresh:function(){this.setting.treeObj.empty();var e=data.getRoot(r),t=e[r.data.key.children];data.initRoot(r),e[r.data.key.children]=t,data.initCache(r),view.createNodes(r,0,e[r.data.key.children])},removeChildNodes:function(e){if(!e)return null;var t=r.data.key.children,n=e[t];return view.removeChildNodes(r,e),n?n:null},removeNode:function(e,t){e&&(t=!!t,t&&0==tools.apply(r.callback.beforeRemove,[r.treeId,e],!0)||(view.removeNode(r,e),t&&this.setting.treeObj.trigger(consts.event.REMOVE,[r.treeId,e])))},selectNode:function(e,t){if(e&&tools.uCanDo(r)){if(t=r.view.selectedMulti&&t,e.parentTId)view.expandCollapseParentNode(r,e.getParentNode(),!0,!1,function(){try{$$(e,r).focus().blur()}catch(t){}});else try{$$(e,r).focus().blur()}catch(n){}view.selectNode(r,e,t)}},transformTozTreeNodes:function(e){return data.transformTozTreeFormat(r,e)},transformToArray:function(e){return data.transformToArrayFormat(r,e)},updateNode:function(e,t){if(e){var n=$$(e,r);n.get(0)&&tools.uCanDo(r)&&(view.setNodeName(r,e),view.setNodeTarget(r,e),view.setNodeUrl(r,e),view.setNodeLineIcos(r,e),view.setNodeFontCss(r,e))}}};return o.treeTools=i,data.setZTreeTools(r,i),o[a]&&o[a].length>0?view.createNodes(r,0,o[a]):r.async.enable&&r.async.url&&""!==r.async.url&&view.asyncNode(r),i}};var zt=$.fn.zTree,$$=tools.$,consts=zt.consts}(jQuery),function(e){var t={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},n={check:{enable:!1,autoCheckTrigger:!1,chkStyle:t.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:t.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},r=function(e){var t=x.getRoot(e);t.radioCheckedList=[]},o=function(e){},a=function(e){var t=e.treeObj,n=b.event;t.bind(n.CHECK,function(t,n,r,o){t.srcEvent=n,y.apply(e.callback.onCheck,[t,r,o])})},i=function(e){var t=e.treeObj,n=b.event;t.unbind(n.CHECK)},s=function(e){var t=e.target,n=x.getSetting(e.data.treeId),r="",o=null,a="",i="",s=null,l=null;if(y.eqs(e.type,"mouseover")?n.check.enable&&y.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+b.id.CHECK)&&(r=y.getNodeMainDom(t).id,a="mouseoverCheck"):y.eqs(e.type,"mouseout")?n.check.enable&&y.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+b.id.CHECK)&&(r=y.getNodeMainDom(t).id,a="mouseoutCheck"):y.eqs(e.type,"click")&&n.check.enable&&y.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+b.id.CHECK)&&(r=y.getNodeMainDom(t).id,a="checkNode"),r.length>0)switch(o=x.getNodeCache(n,r),a){case"checkNode":s=p.onCheckNode;break;case"mouseoverCheck":s=p.onMouseoverCheck;break;case"mouseoutCheck":s=p.onMouseoutCheck}var c={stop:"checkNode"===a,node:o,nodeEventType:a,nodeEventCallback:s,treeEventType:i,treeEventCallback:l};return c},l=function(e,t,n,r,o,a,i){if(n){var s=e.data.key.checked;if("string"==typeof n[s]&&(n[s]=y.eqs(n[s],"true")),n[s]=!!n[s],n.checkedOld=n[s],"string"==typeof n.nocheck&&(n.nocheck=y.eqs(n.nocheck,"true")),n.nocheck=!!n.nocheck||e.check.nocheckInherit&&r&&!!r.nocheck,"string"==typeof n.chkDisabled&&(n.chkDisabled=y.eqs(n.chkDisabled,"true")),n.chkDisabled=!!n.chkDisabled||e.check.chkDisabledInherit&&r&&!!r.chkDisabled,"string"==typeof n.halfCheck&&(n.halfCheck=y.eqs(n.halfCheck,"true")),n.halfCheck=!!n.halfCheck,n.check_Child_State=-1,n.check_Focus=!1,n.getCheckStatus=function(){return x.getCheckStatus(e,n)},e.check.chkStyle==b.radio.STYLE&&e.check.radioType==b.radio.TYPE_ALL&&n[s]){var l=x.getRoot(e);l.radioCheckedList.push(n)}}},c=function(e,t,n){e.data.key.checked;e.check.enable&&(x.makeChkFlag(e,t),n.push("<span ID='",t.tId,b.id.CHECK,"' class='",C.makeChkClass(e,t),"' treeNode",b.id.CHECK,t.nocheck===!0?" style='display:none;'":"","></span>"))},u=function(e,t){t.checkNode=function(e,t,n,r){var o=this.setting.data.key.checked;if(e.chkDisabled!==!0&&(t!==!0&&t!==!1&&(t=!e[o]),r=!!r,(e[o]!==t||n)&&(!r||0!=y.apply(this.setting.callback.beforeCheck,[this.setting.treeId,e],!0))&&y.uCanDo(this.setting)&&this.setting.check.enable&&e.nocheck!==!0)){e[o]=t;var a=N(e,b.id.CHECK,this.setting);(n||this.setting.check.chkStyle===b.radio.STYLE)&&C.checkNodeRelation(this.setting,e),C.setChkClass(this.setting,a,e),C.repairParentChkClassWithSelf(this.setting,e),r&&this.setting.treeObj.trigger(b.event.CHECK,[null,this.setting.treeId,e])}},t.checkAllNodes=function(e){C.repairAllChk(this.setting,!!e)},t.getCheckedNodes=function(e){var t=this.setting.data.key.children;return e=e!==!1,x.getTreeCheckedNodes(this.setting,x.getRoot(this.setting)[t],e)},t.getChangeCheckedNodes=function(){var e=this.setting.data.key.children;return x.getTreeChangeCheckedNodes(this.setting,x.getRoot(this.setting)[e])},t.setChkDisabled=function(e,t,n,r){t=!!t,n=!!n,r=!!r,C.repairSonChkDisabled(this.setting,e,t,r),C.repairParentChkDisabled(this.setting,e.getParentNode(),t,n)};var n=t.updateNode;t.updateNode=function(e,r){if(n&&n.apply(t,arguments),e&&this.setting.check.enable){var o=N(e,this.setting);if(o.get(0)&&y.uCanDo(this.setting)){var a=N(e,b.id.CHECK,this.setting);(1==r||this.setting.check.chkStyle===b.radio.STYLE)&&C.checkNodeRelation(this.setting,e),C.setChkClass(this.setting,a,e),C.repairParentChkClassWithSelf(this.setting,e)}}}},d={getRadioCheckedList:function(e){for(var t=x.getRoot(e).radioCheckedList,n=0,r=t.length;r>n;n++)x.getNodeCache(e,t[n].tId)||(t.splice(n,1),n--,r--);return t},getCheckStatus:function(e,t){if(!e.check.enable||t.nocheck||t.chkDisabled)return null;var n=e.data.key.checked,r={checked:t[n],half:t.halfCheck?t.halfCheck:e.check.chkStyle==b.radio.STYLE?2===t.check_Child_State:t[n]?t.check_Child_State>-1&&t.check_Child_State<2:t.check_Child_State>0};return r},getTreeCheckedNodes:function(e,t,n,r){if(!t)return[];var o=e.data.key.children,a=e.data.key.checked,i=n&&e.check.chkStyle==b.radio.STYLE&&e.check.radioType==b.radio.TYPE_ALL;r=r?r:[];for(var s=0,l=t.length;l>s&&(t[s].nocheck===!0||t[s].chkDisabled===!0||t[s][a]!=n||(r.push(t[s]),!i))&&(x.getTreeCheckedNodes(e,t[s][o],n,r),!(i&&r.length>0));s++);return r},getTreeChangeCheckedNodes:function(e,t,n){if(!t)return[];var r=e.data.key.children,o=e.data.key.checked;n=n?n:[];for(var a=0,i=t.length;i>a;a++)t[a].nocheck!==!0&&t[a].chkDisabled!==!0&&t[a][o]!=t[a].checkedOld&&n.push(t[a]),x.getTreeChangeCheckedNodes(e,t[a][r],n);return n},makeChkFlag:function(e,t){if(t){var n=e.data.key.children,r=e.data.key.checked,o=-1;if(t[n])for(var a=0,i=t[n].length;i>a;a++){var s=t[n][a],l=-1;if(e.check.chkStyle==b.radio.STYLE){if(l=s.nocheck===!0||s.chkDisabled===!0?s.check_Child_State:s.halfCheck===!0?2:s[r]?2:s.check_Child_State>0?2:0,2==l){o=2;break}0==l&&(o=0)}else if(e.check.chkStyle==b.checkbox.STYLE){if(l=s.nocheck===!0||s.chkDisabled===!0?s.check_Child_State:s.halfCheck===!0?1:s[r]?-1===s.check_Child_State||2===s.check_Child_State?2:1:s.check_Child_State>0?1:0,1===l){o=1;break}if(2===l&&o>-1&&a>0&&l!==o){o=1;break}if(2===o&&l>-1&&2>l){o=1;break}l>-1&&(o=l)}}t.check_Child_State=o}}},f={},p={onCheckNode:function(e,t){if(t.chkDisabled===!0)return!1;var n=x.getSetting(e.data.treeId),r=n.data.key.checked;if(0==y.apply(n.callback.beforeCheck,[n.treeId,t],!0))return!0;t[r]=!t[r],C.checkNodeRelation(n,t);var o=N(t,b.id.CHECK,n);return C.setChkClass(n,o,t),C.repairParentChkClassWithSelf(n,t),n.treeObj.trigger(b.event.CHECK,[e,n.treeId,t]),!0},onMouseoverCheck:function(e,t){if(t.chkDisabled===!0)return!1;var n=x.getSetting(e.data.treeId),r=N(t,b.id.CHECK,n);return t.check_Focus=!0,C.setChkClass(n,r,t),!0},onMouseoutCheck:function(e,t){if(t.chkDisabled===!0)return!1;var n=x.getSetting(e.data.treeId),r=N(t,b.id.CHECK,n);return t.check_Focus=!1,C.setChkClass(n,r,t),!0}},h={},v={checkNodeRelation:function(e,t){var n,r,o,a=e.data.key.children,i=e.data.key.checked,s=b.radio;if(e.check.chkStyle==s.STYLE){var l=x.getRadioCheckedList(e);if(t[i])if(e.check.radioType==s.TYPE_ALL){for(r=l.length-1;r>=0;r--)n=l[r],n[i]&&n!=t&&(n[i]=!1,l.splice(r,1),C.setChkClass(e,N(n,b.id.CHECK,e),n),n.parentTId!=t.parentTId&&C.repairParentChkClassWithSelf(e,n));l.push(t)}else{var c=t.parentTId?t.getParentNode():x.getRoot(e);for(r=0,o=c[a].length;o>r;r++)n=c[a][r],n[i]&&n!=t&&(n[i]=!1,C.setChkClass(e,N(n,b.id.CHECK,e),n))}else if(e.check.radioType==s.TYPE_ALL)for(r=0,o=l.length;o>r;r++)if(t==l[r]){l.splice(r,1);break}}else t[i]&&(!t[a]||0==t[a].length||e.check.chkboxType.Y.indexOf("s")>-1)&&C.setSonNodeCheckBox(e,t,!0),t[i]||t[a]&&0!=t[a].length&&!(e.check.chkboxType.N.indexOf("s")>-1)||C.setSonNodeCheckBox(e,t,!1),t[i]&&e.check.chkboxType.Y.indexOf("p")>-1&&C.setParentNodeCheckBox(e,t,!0),!t[i]&&e.check.chkboxType.N.indexOf("p")>-1&&C.setParentNodeCheckBox(e,t,!1)},makeChkClass:function(e,t){var n=e.data.key.checked,r=b.checkbox,o=b.radio,a="";a=t.chkDisabled===!0?r.DISABLED:t.halfCheck?r.PART:e.check.chkStyle==o.STYLE?t.check_Child_State<1?r.FULL:r.PART:t[n]?2===t.check_Child_State||-1===t.check_Child_State?r.FULL:r.PART:t.check_Child_State<1?r.FULL:r.PART;var i=e.check.chkStyle+"_"+(t[n]?r.TRUE:r.FALSE)+"_"+a;return i=t.check_Focus&&t.chkDisabled!==!0?i+"_"+r.FOCUS:i,b.className.BUTTON+" "+r.DEFAULT+" "+i},repairAllChk:function(e,t){if(e.check.enable&&e.check.chkStyle===b.checkbox.STYLE)for(var n=e.data.key.checked,r=e.data.key.children,o=x.getRoot(e),a=0,i=o[r].length;i>a;a++){var s=o[r][a];s.nocheck!==!0&&s.chkDisabled!==!0&&(s[n]=t),C.setSonNodeCheckBox(e,s,t)}},repairChkClass:function(e,t){if(t&&(x.makeChkFlag(e,t),t.nocheck!==!0)){var n=N(t,b.id.CHECK,e);C.setChkClass(e,n,t)}},repairParentChkClass:function(e,t){if(t&&t.parentTId){var n=t.getParentNode();C.repairChkClass(e,n),C.repairParentChkClass(e,n)}},repairParentChkClassWithSelf:function(e,t){if(t){var n=e.data.key.children;t[n]&&t[n].length>0?C.repairParentChkClass(e,t[n][0]):C.repairParentChkClass(e,t)}},repairSonChkDisabled:function(e,t,n,r){if(t){var o=e.data.key.children;if(t.chkDisabled!=n&&(t.chkDisabled=n),C.repairChkClass(e,t),t[o]&&r)for(var a=0,i=t[o].length;i>a;a++){var s=t[o][a];C.repairSonChkDisabled(e,s,n,r)}}},repairParentChkDisabled:function(e,t,n,r){t&&(t.chkDisabled!=n&&r&&(t.chkDisabled=n),C.repairChkClass(e,t),C.repairParentChkDisabled(e,t.getParentNode(),n,r))},setChkClass:function(e,t,n){t&&(n.nocheck===!0?t.hide():t.show(),t.attr("class",C.makeChkClass(e,n)))},setParentNodeCheckBox:function(e,t,n,r){var o=e.data.key.children,a=e.data.key.checked,i=N(t,b.id.CHECK,e);if(r||(r=t),x.makeChkFlag(e,t),t.nocheck!==!0&&t.chkDisabled!==!0&&(t[a]=n,C.setChkClass(e,i,t),e.check.autoCheckTrigger&&t!=r&&e.treeObj.trigger(b.event.CHECK,[null,e.treeId,t])),t.parentTId){var s=!0;if(!n)for(var l=t.getParentNode()[o],c=0,u=l.length;u>c;c++)if(l[c].nocheck!==!0&&l[c].chkDisabled!==!0&&l[c][a]||(l[c].nocheck===!0||l[c].chkDisabled===!0)&&l[c].check_Child_State>0){s=!1;break}s&&C.setParentNodeCheckBox(e,t.getParentNode(),n,r)}},setSonNodeCheckBox:function(e,t,n,r){if(t){var o=e.data.key.children,a=e.data.key.checked,i=N(t,b.id.CHECK,e);r||(r=t);var s=!1;if(t[o])for(var l=0,c=t[o].length;c>l&&t.chkDisabled!==!0;l++){var u=t[o][l];C.setSonNodeCheckBox(e,u,n,r),u.chkDisabled===!0&&(s=!0)}t!=x.getRoot(e)&&t.chkDisabled!==!0&&(s&&t.nocheck!==!0&&x.makeChkFlag(e,t),t.nocheck!==!0&&t.chkDisabled!==!0?(t[a]=n,s||(t.check_Child_State=t[o]&&t[o].length>0?n?2:0:-1)):t.check_Child_State=-1,C.setChkClass(e,i,t),e.check.autoCheckTrigger&&t!=r&&t.nocheck!==!0&&t.chkDisabled!==!0&&e.treeObj.trigger(b.event.CHECK,[null,e.treeId,t]))}}},g={tools:h,view:v,event:f,data:d};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,g);var m=e.fn.zTree,y=m._z.tools,b=m.consts,C=m._z.view,x=m._z.data,N=(m._z.event,y.$);x.exSetting(n),x.addInitBind(a),x.addInitUnBind(i),x.addInitCache(o),x.addInitNode(l),x.addInitProxy(s,!0),x.addInitRoot(r),x.addBeforeA(c),x.addZTreeTools(u);var w=C.createNodes;C.createNodes=function(e,t,n,r){w&&w.apply(C,arguments),n&&C.repairParentChkClassWithSelf(e,r)};var T=C.removeNode;C.removeNode=function(e,t){var n=t.getParentNode();T&&T.apply(C,arguments),t&&n&&(C.repairChkClass(e,n),C.repairParentChkClass(e,n))};var k=C.appendNodes;C.appendNodes=function(e,t,n,r,o,a){var i="";return k&&(i=k.apply(C,arguments)),r&&x.makeChkFlag(e,r),i}}(jQuery),function(e){var t={event:{DRAG:"ztree_drag",DROP:"ztree_drop",RENAME:"ztree_rename",DRAGMOVE:"ztree_dragmove"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},n={edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}},r=function(e){var t=C.getRoot(e),n=C.getRoots();t.curEditNode=null,t.curEditInput=null,t.curHoverNode=null,t.dragFlag=0,t.dragNodeShowBefore=[],t.dragMaskList=new Array,n.showHoverDom=!0},o=function(e){},a=function(e){var t=e.treeObj,n=y.event;t.bind(n.RENAME,function(t,n,r,o){m.apply(e.callback.onRename,[t,n,r,o])}),t.bind(n.DRAG,function(t,n,r,o){m.apply(e.callback.onDrag,[n,r,o])}),t.bind(n.DRAGMOVE,function(t,n,r,o){m.apply(e.callback.onDragMove,[n,r,o])}),t.bind(n.DROP,function(t,n,r,o,a,i,s){m.apply(e.callback.onDrop,[n,r,o,a,i,s])})},i=function(e){var t=e.treeObj,n=y.event;t.unbind(n.RENAME),t.unbind(n.DRAG),t.unbind(n.DRAGMOVE),t.unbind(n.DROP)},s=function(e){var t=e.target,n=C.getSetting(e.data.treeId),r=e.relatedTarget,o="",a=null,i="",s="",l=null,c=null,u=null;if(m.eqs(e.type,"mouseover")?(u=m.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+y.id.A}]),u&&(o=m.getNodeMainDom(u).id,i="hoverOverNode")):m.eqs(e.type,"mouseout")?(u=m.getMDom(n,r,[{tagName:"a",attrName:"treeNode"+y.id.A}]),u||(o="remove",i="hoverOutNode")):m.eqs(e.type,"mousedown")&&(u=m.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+y.id.A}]),u&&(o=m.getNodeMainDom(u).id,i="mousedownNode")),o.length>0)switch(a=C.getNodeCache(n,o),i){case"mousedownNode":l=f.onMousedownNode;break;case"hoverOverNode":l=f.onHoverOverNode;break;case"hoverOutNode":l=f.onHoverOutNode}var d={stop:!1,node:a,nodeEventType:i,nodeEventCallback:l,treeEventType:s,treeEventCallback:c};return d},l=function(e,t,n,r,o,a,i){n&&(n.isHover=!1,n.editNameFlag=!1)},c=function(e,t){t.cancelEditName=function(e){var t=C.getRoot(this.setting);t.curEditNode&&b.cancelCurEditNode(this.setting,e?e:null,!0)},t.copyNode=function(e,t,n,r){function o(){b.addNodes(a.setting,e,[i],r)}if(!t)return null;if(e&&!e.isParent&&this.setting.data.keep.leaf&&n===y.move.TYPE_INNER)return null;var a=this,i=m.clone(t);return e||(e=null,n=y.move.TYPE_INNER),n==y.move.TYPE_INNER?m.canAsync(this.setting,e)?b.asyncNode(this.setting,e,r,o):o():(b.addNodes(this.setting,e.parentNode,[i],r),b.moveNode(this.setting,e,i,n,!1,r)),i},t.editName=function(e){e&&e.tId&&e===C.getNodeCache(this.setting,e.tId)&&(e.parentTId&&b.expandCollapseParentNode(this.setting,e.getParentNode(),!0),b.editNode(this.setting,e))},t.moveNode=function(e,t,n,r){function o(){b.moveNode(a.setting,e,t,n,!1,r)}if(!t)return t;if(e&&!e.isParent&&this.setting.data.keep.leaf&&n===y.move.TYPE_INNER)return null;if(e&&(t.parentTId==e.tId&&n==y.move.TYPE_INNER||x(t,this.setting).find("#"+e.tId).length>0))return null;e||(e=null);var a=this;return m.canAsync(this.setting,e)&&n===y.move.TYPE_INNER?b.asyncNode(this.setting,e,r,o):o(),t},t.setEditable=function(e){return this.setting.edit.enable=e,this.refresh()}},u={setSonNodeLevel:function(e,t,n){if(n){var r=e.data.key.children;if(n.level=t?t.level+1:0,n[r])for(var o=0,a=n[r].length;a>o;o++)n[r][o]&&C.setSonNodeLevel(e,n,n[r][o])}}},d={},f={onHoverOverNode:function(e,t){var n=C.getSetting(e.data.treeId),r=C.getRoot(n);r.curHoverNode!=t&&f.onHoverOutNode(e),r.curHoverNode=t,b.addHoverDom(n,t)},onHoverOutNode:function(e,t){var n=C.getSetting(e.data.treeId),r=C.getRoot(n);r.curHoverNode&&!C.isSelectedNode(n,r.curHoverNode)&&(b.removeTreeDom(n,r.curHoverNode),r.curHoverNode=null)},onMousedownNode:function(n,r){function o(n){if(0==u.dragFlag&&Math.abs(P-n.clientX)<c.edit.drag.minMoveSize&&Math.abs(M-n.clientY)<c.edit.drag.minMoveSize)return!0;var r,o,i,s,l,f=c.data.key.children;if(E.css("cursor","pointer"),0==u.dragFlag){if(0==m.apply(c.callback.beforeDrag,[c.treeId,h],!0))return a(n),!0;for(r=0,o=h.length;o>r;r++)0==r&&(u.dragNodeShowBefore=[]),i=h[r],i.isParent&&i.open?(b.expandCollapseNode(c,i,!i.open),u.dragNodeShowBefore[i.tId]=!0):u.dragNodeShowBefore[i.tId]=!1;u.dragFlag=1,d.showHoverDom=!1,m.showIfameMask(c,!0);var p=!0,A=-1;if(h.length>1){var $=h[0].parentTId?h[0].getParentNode()[f]:C.getNodes(c);for(l=[],r=0,o=$.length;o>r;r++)if(void 0!==u.dragNodeShowBefore[$[r].tId]&&(p&&A>-1&&A+1!==r&&(p=!1),l.push($[r]),A=r),h.length===l.length){h=l;break}}for(p&&(w=h[0].getPreNode(),T=h[h.length-1].getNextNode()),v=x("<ul class='zTreeDragUL'></ul>",c),r=0,o=h.length;o>r;r++)i=h[r],i.editNameFlag=!1,b.selectNode(c,i,r>0),b.removeTreeDom(c,i),r>c.edit.drag.maxShowNodeNum-1||(s=x("<li id='"+i.tId+"_tmp'></li>",c),s.append(x(i,y.id.A,c).clone()),s.css("padding","0"),s.children("#"+i.tId+y.id.A).removeClass(y.node.CURSELECTED),v.append(s),r==c.edit.drag.maxShowNodeNum-1&&(s=x("<li id='"+i.tId+"_moretmp'><a>  ...  </a></li>",c),v.append(s)));v.attr("id",h[0].tId+y.id.UL+"_tmp"),v.addClass(c.treeObj.attr("class")),v.appendTo(E),g=x("<span class='tmpzTreeMove_arrow'></span>",c),g.attr("id","zTreeMove_arrow_tmp"),g.appendTo(E),c.treeObj.trigger(y.event.DRAG,[n,c.treeId,h])}if(1==u.dragFlag){if(N&&g.attr("id")==n.target.id&&D&&n.clientX+k.scrollLeft()+2>e("#"+D+y.id.A,N).offset().left){var R=e("#"+D+y.id.A,N);n.target=R.length>0?R.get(0):n.target}else N&&(N.removeClass(y.node.TMPTARGET_TREE),D&&e("#"+D+y.id.A,N).removeClass(y.node.TMPTARGET_NODE+"_"+y.move.TYPE_PREV).removeClass(y.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(y.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER));N=null,D=null,S=!1,O=c;var H=C.getSettings();for(var F in H)H[F].treeId&&H[F].edit.enable&&H[F].treeId!=c.treeId&&(n.target.id==H[F].treeId||e(n.target).parents("#"+H[F].treeId).length>0)&&(S=!0,O=H[F]);var B=k.scrollTop(),z=k.scrollLeft(),U=O.treeObj.offset(),q=O.treeObj.get(0).scrollHeight,W=O.treeObj.get(0).scrollWidth,Y=n.clientY+B-U.top,V=O.treeObj.height()+U.top-n.clientY-B,X=n.clientX+z-U.left,K=O.treeObj.width()+U.left-n.clientX-z,Z=Y<c.edit.drag.borderMax&&Y>c.edit.drag.borderMin,G=V<c.edit.drag.borderMax&&V>c.edit.drag.borderMin,J=X<c.edit.drag.borderMax&&X>c.edit.drag.borderMin,Q=K<c.edit.drag.borderMax&&K>c.edit.drag.borderMin,ee=Y>c.edit.drag.borderMin&&V>c.edit.drag.borderMin&&X>c.edit.drag.borderMin&&K>c.edit.drag.borderMin,te=Z&&O.treeObj.scrollTop()<=0,ne=G&&O.treeObj.scrollTop()+O.treeObj.height()+10>=q,re=J&&O.treeObj.scrollLeft()<=0,oe=Q&&O.treeObj.scrollLeft()+O.treeObj.width()+10>=W;if(n.target&&m.isChildOrSelf(n.target,O.treeId)){for(var ae=n.target;ae&&ae.tagName&&!m.eqs(ae.tagName,"li")&&ae.id!=O.treeId;)ae=ae.parentNode;var ie=!0;for(r=0,o=h.length;o>r;r++){if(i=h[r],ae.id===i.tId){ie=!1;break}if(x(i,c).find("#"+ae.id).length>0){ie=!1;break}}ie&&n.target&&m.isChildOrSelf(n.target,ae.id+y.id.A)&&(N=e(ae),D=ae.id)}i=h[0],ee&&m.isChildOrSelf(n.target,O.treeId)&&(!N&&(n.target.id==O.treeId||te||ne||re||oe)&&(S||!S&&i.parentTId)&&(N=O.treeObj),Z?O.treeObj.scrollTop(O.treeObj.scrollTop()-10):G&&O.treeObj.scrollTop(O.treeObj.scrollTop()+10),J?O.treeObj.scrollLeft(O.treeObj.scrollLeft()-10):Q&&O.treeObj.scrollLeft(O.treeObj.scrollLeft()+10),N&&N!=O.treeObj&&N.offset().left<O.treeObj.offset().left&&O.treeObj.scrollLeft(O.treeObj.scrollLeft()+N.offset().left-O.treeObj.offset().left)),v.css({top:n.clientY+B+3+"px",left:n.clientX+z+3+"px"});var se=0,le=0;if(N&&N.attr("id")!=O.treeId){var ce=null==D?null:C.getNodeCache(O,D),ue=(n.ctrlKey||n.metaKey)&&c.edit.drag.isMove&&c.edit.drag.isCopy||!c.edit.drag.isMove&&c.edit.drag.isCopy,de=!(!w||D!==w.tId),fe=!(!T||D!==T.tId),pe=i.parentTId&&i.parentTId==D,he=(ue||!fe)&&m.apply(O.edit.drag.prev,[O.treeId,h,ce],!!O.edit.drag.prev),ve=(ue||!de)&&m.apply(O.edit.drag.next,[O.treeId,h,ce],!!O.edit.drag.next),ge=!(!ue&&pe||O.data.keep.leaf&&!ce.isParent||!m.apply(O.edit.drag.inner,[O.treeId,h,ce],!!O.edit.drag.inner));if(he||ve||ge){var me=e("#"+D+y.id.A,N),ye=ce.isLastNode?null:e("#"+ce.getNextNode().tId+y.id.A,N.next()),be=me.offset().top,Ce=me.offset().left,xe=he?ge?.25:ve?.5:1:-1,Ne=ve?ge?.75:he?.5:0:-1,we=(n.clientY+B-be)/me.height();if((1==xe||xe>=we&&we>=-.2)&&he?(se=1-g.width(),le=be-g.height()/2,_=y.move.TYPE_PREV):(0==Ne||we>=Ne&&1.2>=we)&&ve?(se=1-g.width(),le=null==ye||ce.isParent&&ce.open?be+me.height()-g.height()/2:ye.offset().top-g.height()/2,_=y.move.TYPE_NEXT):(se=5-g.width(),le=be,_=y.move.TYPE_INNER),g.css({display:"block",top:le+"px",left:Ce+se+"px"}),me.addClass(y.node.TMPTARGET_NODE+"_"+_),(I!=D||L!=_)&&(j=(new Date).getTime()),ce&&ce.isParent&&_==y.move.TYPE_INNER){var Te=!0;window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==ce.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===ce.tId&&(Te=!1),Te&&(window.zTreeMoveTimer=setTimeout(function(){_==y.move.TYPE_INNER&&ce&&ce.isParent&&!ce.open&&(new Date).getTime()-j>O.edit.drag.autoOpenTime&&m.apply(O.callback.beforeDragOpen,[O.treeId,ce],!0)&&(b.switchNode(O,ce),O.edit.drag.autoExpandTrigger&&O.treeObj.trigger(y.event.EXPAND,[O.treeId,ce]))},O.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=ce.tId)}}else N=null,D="",_=y.move.TYPE_INNER,g.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null)}else _=y.move.TYPE_INNER,N&&m.apply(O.edit.drag.inner,[O.treeId,h,null],!!O.edit.drag.inner)?N.addClass(y.node.TMPTARGET_TREE):N=null,g.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null);I=D,L=_,c.treeObj.trigger(y.event.DRAGMOVE,[n,c.treeId,h])}return!1}function a(n){function r(){if(S){if(!p)for(var e=0,t=h.length;t>e;e++)b.removeNode(c,h[e]);if(_==y.move.TYPE_INNER)b.addNodes(O,w,T);else if(b.addNodes(O,w.getParentNode(),T),_==y.move.TYPE_PREV)for(e=0,t=T.length;t>e;e++)b.moveNode(O,w,T[e],_,!1);else for(e=-1,t=T.length-1;t>e;t--)b.moveNode(O,w,T[t],_,!1)}else if(p&&_==y.move.TYPE_INNER)b.addNodes(O,w,T);else if(p&&b.addNodes(O,w.getParentNode(),T),_!=y.move.TYPE_NEXT)for(e=0,t=T.length;t>e;e++)b.moveNode(O,w,T[e],_,!1);else for(e=-1,t=T.length-1;t>e;t--)b.moveNode(O,w,T[t],_,!1);b.selectNodes(O,T),x(T[0],c).focus().blur(),c.treeObj.trigger(y.event.DROP,[n,O.treeId,T,w,_,p])}if(window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null),I=null,L=null,k.unbind("mousemove",o),k.unbind("mouseup",a),k.unbind("selectstart",i),E.css("cursor","auto"),N&&(N.removeClass(y.node.TMPTARGET_TREE),D&&e("#"+D+y.id.A,N).removeClass(y.node.TMPTARGET_NODE+"_"+y.move.TYPE_PREV).removeClass(y.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(y.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER)),m.showIfameMask(c,!1),d.showHoverDom=!0,0!=u.dragFlag){u.dragFlag=0;var s,l,f;for(s=0,l=h.length;l>s;s++)f=h[s],f.isParent&&u.dragNodeShowBefore[f.tId]&&!f.open&&(b.expandCollapseNode(c,f,!f.open),delete u.dragNodeShowBefore[f.tId]);v&&v.remove(),g&&g.remove();var p=(n.ctrlKey||n.metaKey)&&c.edit.drag.isMove&&c.edit.drag.isCopy||!c.edit.drag.isMove&&c.edit.drag.isCopy;if(!p&&N&&D&&h[0].parentTId&&D==h[0].parentTId&&_==y.move.TYPE_INNER&&(N=null),N){var w=null==D?null:C.getNodeCache(O,D);if(0==m.apply(c.callback.beforeDrop,[O.treeId,h,w,_,p],!0))return void b.selectNodes(A,h);var T=p?m.clone(h):h;_==y.move.TYPE_INNER&&m.canAsync(O,w)?b.asyncNode(O,w,!1,r):r()}else b.selectNodes(A,h),c.treeObj.trigger(y.event.DROP,[n,c.treeId,h,null,null,null])}}function i(){return!1}var s,l,c=C.getSetting(n.data.treeId),u=C.getRoot(c),d=C.getRoots();if(2==n.button||!c.edit.enable||!c.edit.drag.isCopy&&!c.edit.drag.isMove)return!0;var f=n.target,p=C.getRoot(c).curSelectedList,h=[];if(C.isSelectedNode(c,r))for(s=0,l=p.length;l>s;s++){if(p[s].editNameFlag&&m.eqs(f.tagName,"input")&&null!==f.getAttribute("treeNode"+y.id.INPUT))return!0;if(h.push(p[s]),h[0].parentTId!==p[s].parentTId){h=[r];break}}else h=[r];b.editNodeBlur=!0,b.cancelCurEditNode(c);var v,g,N,w,T,k=e(c.treeObj.get(0).ownerDocument),E=e(c.treeObj.get(0).ownerDocument.body),S=!1,O=c,A=c,I=null,L=null,D=null,_=y.move.TYPE_INNER,P=n.clientX,M=n.clientY,j=(new Date).getTime();return m.uCanDo(c)&&k.bind("mousemove",o),k.bind("mouseup",a),k.bind("selectstart",i),n.preventDefault&&n.preventDefault(),!0}},p={getAbs:function(e){var t=e.getBoundingClientRect(),n=document.body.scrollTop+document.documentElement.scrollTop,r=document.body.scrollLeft+document.documentElement.scrollLeft;return[t.left+r,t.top+n]},inputFocus:function(e){e.get(0)&&(e.focus(),m.setCursorPosition(e.get(0),e.val().length))},inputSelect:function(e){e.get(0)&&(e.focus(),e.select())},setCursorPosition:function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}},showIfameMask:function(e,t){for(var n=C.getRoot(e);n.dragMaskList.length>0;)n.dragMaskList[0].remove(),n.dragMaskList.shift();if(t)for(var r=x("iframe",e),o=0,a=r.length;a>o;o++){var i=r.get(o),s=m.getAbs(i),l=x("<div id='zTreeMask_"+o+"' class='zTreeMask' style='top:"+s[1]+"px; left:"+s[0]+"px; width:"+i.offsetWidth+"px; height:"+i.offsetHeight+"px;'></div>",e);l.appendTo(x("body",e)),n.dragMaskList.push(l)}}},h={addEditBtn:function(e,t){if(!(t.editNameFlag||x(t,y.id.EDIT,e).length>0)&&m.apply(e.edit.showRenameBtn,[e.treeId,t],e.edit.showRenameBtn)){var n=x(t,y.id.A,e),r="<span class='"+y.className.BUTTON+" edit' id='"+t.tId+y.id.EDIT+"' title='"+m.apply(e.edit.renameTitle,[e.treeId,t],e.edit.renameTitle)+"' treeNode"+y.id.EDIT+" style='display:none;'></span>";n.append(r),x(t,y.id.EDIT,e).bind("click",function(){return m.uCanDo(e)&&0!=m.apply(e.callback.beforeEditName,[e.treeId,t],!0)?(b.editNode(e,t),!1):!1}).show()}},addRemoveBtn:function(e,t){if(!(t.editNameFlag||x(t,y.id.REMOVE,e).length>0)&&m.apply(e.edit.showRemoveBtn,[e.treeId,t],e.edit.showRemoveBtn)){var n=x(t,y.id.A,e),r="<span class='"+y.className.BUTTON+" remove' id='"+t.tId+y.id.REMOVE+"' title='"+m.apply(e.edit.removeTitle,[e.treeId,t],e.edit.removeTitle)+"' treeNode"+y.id.REMOVE+" style='display:none;'></span>";n.append(r),x(t,y.id.REMOVE,e).bind("click",function(){return m.uCanDo(e)&&0!=m.apply(e.callback.beforeRemove,[e.treeId,t],!0)?(b.removeNode(e,t),e.treeObj.trigger(y.event.REMOVE,[e.treeId,t]),!1):!1}).bind("mousedown",function(e){
return!0}).show()}},addHoverDom:function(e,t){C.getRoots().showHoverDom&&(t.isHover=!0,e.edit.enable&&(b.addEditBtn(e,t),b.addRemoveBtn(e,t)),m.apply(e.view.addHoverDom,[e.treeId,t]))},cancelCurEditNode:function(e,t,n){var r=C.getRoot(e),o=e.data.key.name,a=r.curEditNode;if(a){var i=r.curEditInput,s=t?t:n?a[o]:i.val();if(m.apply(e.callback.beforeRename,[e.treeId,a,s,n],!0)===!1)return!1;a[o]=s,e.treeObj.trigger(y.event.RENAME,[e.treeId,a,n]);var l=x(a,y.id.A,e);l.removeClass(y.node.CURSELECTED_EDIT),i.unbind(),b.setNodeName(e,a),a.editNameFlag=!1,r.curEditNode=null,r.curEditInput=null,b.selectNode(e,a,!1)}return r.noSelection=!0,!0},editNode:function(e,t){var n=C.getRoot(e);if(b.editNodeBlur=!1,C.isSelectedNode(e,t)&&n.curEditNode==t&&t.editNameFlag)return void setTimeout(function(){m.inputFocus(n.curEditInput)},0);var r=e.data.key.name;t.editNameFlag=!0,b.removeTreeDom(e,t),b.cancelCurEditNode(e),b.selectNode(e,t,!1),x(t,y.id.SPAN,e).html("<input type=text class='rename' id='"+t.tId+y.id.INPUT+"' treeNode"+y.id.INPUT+" >");var o=x(t,y.id.INPUT,e);o.attr("value",t[r]),e.edit.editNameSelectAll?m.inputSelect(o):m.inputFocus(o),o.bind("blur",function(t){b.editNodeBlur||b.cancelCurEditNode(e)}).bind("keydown",function(t){"13"==t.keyCode?(b.editNodeBlur=!0,b.cancelCurEditNode(e)):"27"==t.keyCode&&b.cancelCurEditNode(e,null,!0)}).bind("click",function(e){return!1}).bind("dblclick",function(e){return!1}),x(t,y.id.A,e).addClass(y.node.CURSELECTED_EDIT),n.curEditInput=o,n.noSelection=!1,n.curEditNode=t},moveNode:function(e,t,n,r,o,a){var i=C.getRoot(e),s=e.data.key.children;if(t!=n&&(!e.data.keep.leaf||!t||t.isParent||r!=y.move.TYPE_INNER)){var l=n.parentTId?n.getParentNode():i,c=null===t||t==i;c&&null===t&&(t=i),c&&(r=y.move.TYPE_INNER);var u=t.parentTId?t.getParentNode():i;r!=y.move.TYPE_PREV&&r!=y.move.TYPE_NEXT&&(r=y.move.TYPE_INNER),r==y.move.TYPE_INNER&&(c?n.parentTId=null:(t.isParent||(t.isParent=!0,t.open=!!t.open,b.setNodeLineIcos(e,t)),n.parentTId=t.tId));var d,f;if(c)d=e.treeObj,f=d;else{if(a||r!=y.move.TYPE_INNER?a||b.expandCollapseNode(e,t.getParentNode(),!0,!1):b.expandCollapseNode(e,t,!0,!1),d=x(t,e),f=x(t,y.id.UL,e),d.get(0)&&!f.get(0)){var p=[];b.makeUlHtml(e,t,p,""),d.append(p.join(""))}f=x(t,y.id.UL,e)}var h=x(n,e);h.get(0)?d.get(0)||h.remove():h=b.appendNodes(e,n.level,[n],null,!1,!0).join(""),f.get(0)&&r==y.move.TYPE_INNER?f.append(h):d.get(0)&&r==y.move.TYPE_PREV?d.before(h):d.get(0)&&r==y.move.TYPE_NEXT&&d.after(h);var v,g,m=-1,N=0,w=null,T=null,k=n.level;if(n.isFirstNode)m=0,l[s].length>1&&(w=l[s][1],w.isFirstNode=!0);else if(n.isLastNode)m=l[s].length-1,w=l[s][m-1],w.isLastNode=!0;else for(v=0,g=l[s].length;g>v;v++)if(l[s][v].tId==n.tId){m=v;break}if(m>=0&&l[s].splice(m,1),r!=y.move.TYPE_INNER)for(v=0,g=u[s].length;g>v;v++)u[s][v].tId==t.tId&&(N=v);if(r==y.move.TYPE_INNER?(t[s]||(t[s]=new Array),t[s].length>0&&(T=t[s][t[s].length-1],T.isLastNode=!1),t[s].splice(t[s].length,0,n),n.isLastNode=!0,n.isFirstNode=1==t[s].length):t.isFirstNode&&r==y.move.TYPE_PREV?(u[s].splice(N,0,n),T=t,T.isFirstNode=!1,n.parentTId=t.parentTId,n.isFirstNode=!0,n.isLastNode=!1):t.isLastNode&&r==y.move.TYPE_NEXT?(u[s].splice(N+1,0,n),T=t,T.isLastNode=!1,n.parentTId=t.parentTId,n.isFirstNode=!1,n.isLastNode=!0):(r==y.move.TYPE_PREV?u[s].splice(N,0,n):u[s].splice(N+1,0,n),n.parentTId=t.parentTId,n.isFirstNode=!1,n.isLastNode=!1),C.fixPIdKeyValue(e,n),C.setSonNodeLevel(e,n.getParentNode(),n),b.setNodeLineIcos(e,n),b.repairNodeLevelClass(e,n,k),!e.data.keep.parent&&l[s].length<1){l.isParent=!1,l.open=!1;var E=x(l,y.id.UL,e),S=x(l,y.id.SWITCH,e),O=x(l,y.id.ICON,e);b.replaceSwitchClass(l,S,y.folder.DOCU),b.replaceIcoClass(l,O,y.folder.DOCU),E.css("display","none")}else w&&b.setNodeLineIcos(e,w);T&&b.setNodeLineIcos(e,T),e.check&&e.check.enable&&b.repairChkClass&&(b.repairChkClass(e,l),b.repairParentChkClassWithSelf(e,l),l!=n.parent&&b.repairParentChkClassWithSelf(e,n)),a||b.expandCollapseParentNode(e,n.getParentNode(),!0,o)}},removeEditBtn:function(e,t){x(t,y.id.EDIT,e).unbind().remove()},removeRemoveBtn:function(e,t){x(t,y.id.REMOVE,e).unbind().remove()},removeTreeDom:function(e,t){t.isHover=!1,b.removeEditBtn(e,t),b.removeRemoveBtn(e,t),m.apply(e.view.removeHoverDom,[e.treeId,t])},repairNodeLevelClass:function(e,t,n){if(n!==t.level){var r=x(t,e),o=x(t,y.id.A,e),a=x(t,y.id.UL,e),i=y.className.LEVEL+n,s=y.className.LEVEL+t.level;r.removeClass(i),r.addClass(s),o.removeClass(i),o.addClass(s),a.removeClass(i),a.addClass(s)}},selectNodes:function(e,t){for(var n=0,r=t.length;r>n;n++)b.selectNode(e,t[n],n>0)}},v={tools:p,view:h,event:d,data:u};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,v);var g=e.fn.zTree,m=g._z.tools,y=g.consts,b=g._z.view,C=g._z.data,x=(g._z.event,m.$);C.exSetting(n),C.addInitBind(a),C.addInitUnBind(i),C.addInitCache(o),C.addInitNode(l),C.addInitProxy(s),C.addInitRoot(r),C.addZTreeTools(c);var N=b.cancelPreSelectedNode;b.cancelPreSelectedNode=function(e,t){for(var n=C.getRoot(e).curSelectedList,r=0,o=n.length;o>r&&(t&&t!==n[r]||(b.removeTreeDom(e,n[r]),!t));r++);N&&N.apply(b,arguments)};var w=b.createNodes;b.createNodes=function(e,t,n,r){w&&w.apply(b,arguments),n&&b.repairParentChkClassWithSelf&&b.repairParentChkClassWithSelf(e,r)};var T=b.makeNodeUrl;b.makeNodeUrl=function(e,t){return e.edit.enable?null:T.apply(b,arguments)};var k=b.removeNode;b.removeNode=function(e,t){var n=C.getRoot(e);n.curEditNode===t&&(n.curEditNode=null),k&&k.apply(b,arguments)};var E=b.selectNode;b.selectNode=function(e,t,n){var r=C.getRoot(e);return C.isSelectedNode(e,t)&&r.curEditNode==t&&t.editNameFlag?!1:(E&&E.apply(b,arguments),b.addHoverDom(e,t),!0)};var S=m.uCanDo;m.uCanDo=function(e,t){var n=C.getRoot(e);return t&&(m.eqs(t.type,"mouseover")||m.eqs(t.type,"mouseout")||m.eqs(t.type,"mousedown")||m.eqs(t.type,"mouseup"))?!0:(n.curEditNode&&(b.editNodeBlur=!1,n.curEditInput.focus()),!n.curEditNode&&(S?S.apply(b,arguments):!0))}}(jQuery),function(e){function t(e,t){return t.replace(new RegExp("("+e+")","i"),"<b>$1</b>")}function n(e,t){var n,r,o;for(n=0,r=t.length;r>n;n++)o=t[n],0===n?e.text(o):n>0&&(s.text(o),e.append("<br/>"+s.text()))}var r=function(e){o.apply(this,arguments),a.unbind.call(this),a.bind.call(this)},o=function(e){this.userList=e.userList?e.userList:[],this.allName=e.allName?e.allName:"",this.multiLine=!!e.multiLine,this.setUserList(this.userList),this.defaultCount=e.defaultCount,this.textObj=e.textObj,this.textCopyObj=e.textCopyObj,this.listLayer=e.listLayer,this.scrollLayer=e.scrollLayer,this.userListContent=e.userListContent,this.relativeLayer=e.relativeLayer,this.updateBtn=e.updateBtn,this.curCaret={start:-1,end:-1,atName:null},this.callback={},this.selection={},e.callback&&e.callback.makeListHtml&&(this.callback.makeListHtml=e.callback.makeListHtml),e.callback&&e.callback.updateUserList&&(this.callback.updateUserList=e.callback.updateUserList)},a={bind:function(){var e=this;this.onTextClick=function(t){e.handler.checkAt.call(e,t)},this.textObj.bind("click touchend",this.onTextClick),c?this.textObj.on("input propertychange paste",this.onTextClick):this.textObj.on("keyup",this.onTextClick),this.onTextKeyDown=function(t){e.handler.keydown.call(e,t)},this.textObj.bind("keydown",this.onTextKeyDown),this.listClickFn=function(t){e.handler.clickUser.call(e,t)},this.userListContent.bind("click",this.listClickFn),this.listMouseOverFn=function(t){e.handler.mouseoverUser.call(e,t)},this.userListContent.bind("mousemove",this.listMouseOverFn),this.updateUserListFn=function(t){e.handler.updateUserList.call(e,t)},this.updateBtn.bind("click",this.updateUserListFn)},unbind:function(){this.onTextClick&&this.textObj.unbind("click",this.onTextClick).unbind("keyup input propertychange paste'",this.onTextClick),this.onTextKeyDown&&this.textObj.unbind("keydown",this.onTextKeyDown),this.listClickFn&&this.userListContent.unbind("click",this.listClickFn),this.listMouseOverFn&&this.userListContent.unbind("mousemove",this.listMouseOverFn),this.updateUserListFn&&this.updateBtn.unbind("click",this.updateUserListFn)}},i={getScrollTop:function(){return this.textObj.scrollTop()}};r.prototype.reInit=function(e){o.apply(this,arguments)},r.prototype.setUserList=function(e){if(e&&0!==e.length){this.userList=[{alias:"all",pinyin:"a l l",user_id:this.allName}];var t,n,r;for(t=0,n=e.length;n>t;t++)r=e[t],this.userList.push({alias:r.alias,pinyin:r.pinyin.split(" "),user_id:r.user_id})}},r.prototype.getTextCaret=function(){var e,t,n;if(e=this.textObj.get(0),e.focus(),document.getSelection)this.selection.selectionStart=e.selectionStart,this.selection.selectionEnd=e.selectionEnd;else if(document.selection){for(t=document.selection.createRange(),n=t.text.length;e.value.indexOf(t.text)>0;)t.moveStart("character",-1);this.selection.selectionStart=parseInt(t.text.length-n),this.selection.selectionEnd=parseInt(t.text.length),0===this.selection.selectionStart&&0===this.selection.selectionEnd&&(e.createTextRange(),t.moveStart("character",-e.value.length),this.selection.selectionStart=this.selection.selectionEnd=t.text.length)}else this.selection.selectionStart=this.selection.selectionEnd=0;this.curCaret={start:this.selection.selectionStart,end:this.selection.selectionEnd,atName:null}},r.prototype.setTextCaret=function(e){var t,n;if(t=this.textObj.get(0),document.selection){for(t.focus(),n=document.selection.createRange(),n.moveStart("character",-this.curCaret.atName.name.length);n.text.indexOf("@")<0;)n.moveStart("character",-1);n.moveStart("character",1),n.text=e,n.select()}else if(this.selection.selectionStart||0===this.selection.selectionStart){var r=this.selection.selectionStart-this.curCaret.atName.name.length,o=this.selection.selectionEnd,a=t.scrollTop;t.value=t.value.substring(0,r)+e+t.value.substring(o,t.value.length),a>0&&(t.scrollTop=a),t.focus(),t.selectionStart=r+e.length,t.selectionEnd=r+e.length}},r.prototype.checkUserName=function(){var e=this.getAtName();if(e){var t=e.firstStr,r=e.lastStr,o=this.textCopyObj.children().first(),a=this.textCopyObj.children().last();this.multiLine?(t=t.split(/\r|\n/),r=r.split(/\r|\n/),n(o,t),n(a,r)):(t.replace(/(\r?\n)|(\r\n?)/gi,"<br/>"),r.replace(/(\r?\n)|(\r\n?)/gi,"<br/>"),o.text(t),a.text(r)),this.searchResult=this.searchUserList(e),this.searchResult.length>0?this.showUserList():this.hideUserList()}else this.hideUserList()},r.prototype.getAtName=function(){var e,t,n,r,o=this.curCaret;return n=this.textObj.val().substr(0,o.start),n.lastIndexOf("@")>-1&&(t=n.substr(n.lastIndexOf("@")+1),n=n.substr(0,n.lastIndexOf("@")+1),r=this.textObj.val().substr(n.length),t.indexOf(" ")<0&&t.indexOf("	")<0&&(e={firstStr:n,lastStr:r,name:t},this.curCaret.atName=e)),e},r.prototype.searchUserList=function(e){var n,r,o,a,i,s,l,c,u=0,d=[],f=e.name?e.name.toLowerCase():"";for(n=0,r=this.userList.length;r>n;n++){if(i=this.userList[n],s=i.alias,l=i.user_id,c=!1,f)if(s.toLowerCase().indexOf(f)>-1)c=!0,s=t(f,s);else if(l.toLowerCase().indexOf(f)>-1)c=!0,l=t(f,l);else{var p,h=f,v=-1,g=-1,m=!1,y=!1;for(o=0,a=i.pinyin.length;a>o&&(p=i.pinyin[o],y||0!==h.indexOf(p)?m||0!==h.indexOf(p.charAt(0))?p.length>h.length&&0===p.indexOf(h)?(g=0>v?o:g,v=0>v?o:v,h=""):(v=-1,g=-1,h=f):(y=!0,v=0>v?o:v,g=o,h=h.substr(1)):(m=!0,v=0>v?o:v,g=o,h=h.substr(p.length)),0!==h.length);o++);0===h.length&&v>-1&&g>-1&&(c=!0,s=t(s.substr(v,g+1),s))}else c=!0;if(c&&(u++,d.push({alias:i.alias,aliasHtml:s,user_id:l})),!f&&u>=this.defaultCount)break}return d},r.prototype.makeUserList=function(){this.callback.makeListHtml&&this.userListContent.html(this.callback.makeListHtml(this.searchResult))},r.prototype.updateUserList=function(e){e&&(this.userList=e,this.setUserList(this.userList),this.isShow&&(this.checkUserName(),this.showUserList()))},r.prototype.showUserList=function(){var t=this.textCopyObj.children().first().next(),n=t.offset(),r=this.relativeLayer.offset(),o=this.relativeLayer.width(),a=this.listLayer.width(),i=e(window),s=i.height(),c=i.width(),u=this;this.makeUserList();var d,f=parseInt(this.listLayer.css("height"),10),p=0,h=n.left-r.left-this.textObj.get(0).scrollLeft,v=n.top+1.2*t.height()-r.top-p;r.top+v+f>s&&(d=n.top-f-r.top-p-5,r.top+d>10&&(v=d)),l&&(v=this.textObj.offset().top-r.top+parseInt(this.textObj.css("height"),10)+10),h+a>o&&(h-=h+a-o),(a>c||h+a>c)&&(h=-r.left+5),this.listLayer.css({left:h+"px",top:v+"px"}).show(),this.isShow=!0,this.textBlurFn||(this.textBlurFn=function(e){var t=e.target;u.textObj.get(0)!==t&&u.listLayer.get(0)!==t&&0===u.listLayer.find(t).length&&u.hideUserList()}),e(document).bind("click touchend",this.textBlurFn)},r.prototype.hideUserList=function(){this.isShow=!1,this.listLayer.hide(),this.textBlurFn&&e(document).unbind("click touchend",this.textBlurFn)},r.prototype.getCurUser=function(){return e(".on",this.userListContent)},r.prototype.goUser=function(t){var n=this.userListContent.children(),r=n.length,o=this.getCurUser(),a=parseInt(o.attr("data-index"),10),i=a+t;if(!(2>r)){var s,l=this.scrollLayer.height(),c=this.scrollLayer.get(0).scrollHeight-l,u=this.scrollLayer.get(0).scrollTop;i>=r?(i=0,this.scrollLayer.get(0).scrollTop=0):0>i?(i=r-1,this.scrollLayer.get(0).scrollTop=c):c>u&&1==t?(s=-1,o.offset().top+o.height()+u-this.scrollLayer.offset().top>l/2&&(s=o.offset().top+o.height()+u-this.scrollLayer.offset().top-l/2,s=s>c?c:s),s>-1&&(this.scrollLayer.get(0).scrollTop=s)):u>0&&-1==t&&(s=-1,o.offset().top-o.height()+u-this.scrollLayer.offset().top<c+l/2&&(s=o.offset().top-o.height()+u-this.scrollLayer.offset().top-l/2,s=0>s?0:s),s>-1&&(this.scrollLayer.get(0).scrollTop=s)),o.removeClass("on"),e(n.get(i)).addClass("on")}},r.prototype.selectUser=function(){var e=this.getCurUser(),t=parseInt(e.attr("data-index"),10);this.hideUserList(),this.getTextCaret(),this.getAtName(),this.setTextCaret(this.searchResult[t].alias+" ")},r.prototype.handler={checkAt:function(e){if(this.isShow&&e&&(38==e.keyCode||40==e.keyCode||13==e.keyCode))return!1;if(e&&27==e.keyCode)return!1;var t={start:this.curCaret.start,end:this.curCaret.end},n=this;this.clickTimer&&clearTimeout(this.clickTimer),this.clickTimer=setTimeout(function(){n.getTextCaret(),n.isShow&&t.start==n.curCaret.start&&t.end==n.curCaret.end||n.checkUserName()},10)},keydown:function(e){if(this.isShow){var t=!1;switch(e.keyCode){case 38:t=!0,this.goUser(-1);break;case 40:t=!0,this.goUser(1);break;case 13:t=!0,this.selectUser();break;case 27:t=!0,this.hideUserList()}t&&(e.stopPropagation(),e.preventDefault())}},clickUser:function(t){if(t.target!=t.currentTarget){var n=t.target;"li"!=n.tagName.toLowerCase()&&(n=e(n).parents("li.userItem").get(0)),n&&this.selectUser(),t.stopPropagation(),t.preventDefault()}},mouseoverUser:function(t){if(t.target!=t.currentTarget){var n=t.target;"li"!=n.tagName.toLowerCase()&&(n=e(n).parent("li.userItem").get(0)),n&&n!=this.getCurUser().get(0)&&(this.getCurUser().removeClass("on"),e(n).addClass("on")),t.stopPropagation(),t.preventDefault()}},updateUserList:function(e){this.callback.updateUserList&&this.callback.updateUserList(),e.stopPropagation(),e.preventDefault()}},r.prototype.patch=function(e){e(a,i)};var s=e(document.createElement("span")),l=!1,c=!1;e.fn.wizTextAutoCompleteForAt=function(e){return this.get(0)?(l=navigator.userAgent.indexOf("Android 4.0.3")>0,c=/(iPhone|iPod|iPad)/i.test(navigator.userAgent)&&/OS [8](.*) like Mac OS X/i.test(navigator.userAgent),e.textObj=this,this.get(0).wizTextAutoCompleteForAt?this.get(0).wizTextAutoCompleteForAt.reInit(e):this.get(0).wizTextAutoCompleteForAt=new r(e),this.updateUserList=function(){this.get(0).wizTextAutoCompleteForAt.updateUserList.apply(this.get(0).wizTextAutoCompleteForAt,arguments)},this.get(0).wizTextAutoCompleteForAt):null}}(jQuery),function(e){function t(t,a){r=t,o=a,r.bindCM=function(){n.onTextClickCM=function(e,t){n.handler.checkAt.call(n,t)},e(".CodeMirror").bind("click touchend",n.onTextClick),n.codeMirror.on("keyup",n.onTextClickCM),n.onTextKeyDownCM=function(e,t){n.handler.keydown.call(n,t)},n.codeMirror.on("keydown",n.onTextKeyDownCM),n.listClickFn&&n.userListContent.bind("click",n.listClickFn),n.listMouseOverFn&&n.userListContent.bind("mousemove",n.listMouseOverFn),n.updateUserListFn&&n.updateBtn.bind("click",n.updateUserListFn)},r.unbindCM=function(){r.unbind.call(n),n.onTextClickCM&&(e(".CodeMirror").unbind("click touchend",n.onTextClick),n.codeMirror.off("keyup",n.onTextClickCM)),n.onTextKeyDownCM&&n.codeMirror.off("keydown",n.onTextKeyDownCM)};var i=o.getScrollTop;o.getScrollTop=function(){return this.codeMirror?e(".CodeMirror-vscrollbar").scrollTop():i.apply(this)},n.getTextCaret=function(){this.codeMirror.focus(),this.selection.selectionStartPoint=this.codeMirror.getCursor("start"),this.selection.selectionEndPoint=this.codeMirror.getCursor("end"),this.curCaret={start:this.selection.selectionStartPoint,end:this.selection.selectionEndPoint,atName:null}},n.setTextCaret=function(e){this.selection.selectionStartPoint&&(this.codeMirror.focus(),this.selection.selectionStartPoint.ch-=this.curCaret.atName.name.length,this.codeMirror.replaceRange(e,this.selection.selectionStartPoint,this.selection.selectionEndPoint))},n.getAtName=function(){var e,t,n,r,o=this.curCaret;return n=this.codeMirror.getRange({line:0,ch:0},o.start),n.lastIndexOf("@")>-1&&(t=n.substr(n.lastIndexOf("@")+1),n=n.substr(0,n.lastIndexOf("@")+1),r=this.codeMirror.getValue().substr(n.length),t.indexOf(" ")<0&&t.indexOf("	")<0&&(e={firstStr:n,lastStr:r,name:t},this.curCaret.atName=e)),e}}var n,r,o,a=e.fn.wizTextAutoCompleteForAt;e.fn.wizTextAutoCompleteForAt=function(e){return n=a.apply(this,arguments),e.codeMirror?(n.codeMirror=e.codeMirror.codemirror,n.patch(t),r.unbindCM.call(n),void r.bindCM.call(n)):n}}(jQuery),function e(t,n,r){function o(i,s){if(!n[i]){if(!t[i]){var l="function"==typeof require&&require;if(!s&&l)return l(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[i]={exports:{}};t[i][0].call(u.exports,function(e){var n=t[i][1][e];return o(n?n:e)},u,u.exports,e,t,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){function r(e,t,n){}function o(e,t,n){}function a(e,t,n){}function i(e,t,n){}function s(e){return e.replace(x,"&lt;").replace(N,"&gt;")}function l(e,t,n){if(n=h(n),"href"===t||"src"===t){if(n=n.trim(),"#"===n)return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"/"!==n[0])return""}else if("background"===t){if(A.lastIndex=0,A.test(n))return""}else if("style"===t){if(O.lastIndex=0,O.test(n))return"";if(I.lastIndex=0,I.test(n))return"";if(L.lastIndex=0,L.test(n)&&(A.lastIndex=0,A.test(n)))return""}return n=v(n)}function c(e){return e.replace(w,"&quot;")}function u(e){return e.replace(T,'"')}function d(e){return e.replace(k,function(e,t){return String.fromCharCode("x"===t[0]||"X"===t[0]?parseInt(t.substr(1),16):parseInt(t,10))})}function f(e){return e.replace(E,":").replace(S," ")}function p(e){for(var t="",n=0,r=e.length;r>n;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return t.trim()}function h(e){return e=u(e),e=d(e),e=f(e),e=p(e)}function v(e){return e=c(e),e=s(e)}function g(){return""}function m(e,t){function n(t){return r?!0:-1!==e.indexOf(t)}"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),o=[],a=!1;return{onIgnoreTag:function(e,r,i){if(n(e)){if(i.isClosing){var s="[/removed]",l=i.position+s.length;return o.push([a!==!1?a:i.position,l]),a=!1,s}return a||(a=i.position),"[removed]"}return t(e,r,i)},remove:function(e){var t="",n=0;return o.forEach(function(r){t+=e.slice(n,r[0]),n=r[1]}),t+=e.slice(n)}}}function y(e){return e.replace(D,"")}function b(e){var t=e.split("");return t=t.filter(function(e){var t=e.charCodeAt(0);return 127===t?!1:31>=t?10===t||13===t?!0:!1:!0}),t.join("")}var C={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","colspan","align","valign"],tfoot:["align","valign"],th:["width","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]},x=/</g,N=/>/g,w=/"/g,T=/&quot;/g,k=/&#([a-zA-Z0-9]*);?/gim,E=/&colon;?/gim,S=/&newline;?/gim,O=/\/\*|\*\//gm,A=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,I=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,L=/u\s*r\s*l\s*\(.*/gi,D=/<!--[\s\S]*?-->/g;n.whiteList=C,n.onTag=r,n.onIgnoreTag=o,n.onTagAttr=a,n.onIgnoreTagAttr=i,n.safeAttrValue=l,n.escapeHtml=s,n.escapeQuote=c,n.unescapeQuote=u,n.escapeHtmlEntities=d,n.escapeDangerHtml5Entities=f,n.clearNonPrintableCharacter=p,n.friendlyAttrValue=h,n.escapeAttrValue=v,n.onIgnoreTagStripAll=g,n.StripTagBody=m,n.stripCommentTag=y,n.stripBlankChar=b},{}],2:[function(e,t,n){function r(e,t){var n=new i(t);return n.process(e)}var o=e("./default"),a=e("./parser"),i=e("./xss");n=t.exports=r,n.FilterXSS=i;for(var s in o)n[s]=o[s];for(var s in a)n[s]=a[s];Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")}),"function"==typeof define&&define.amd&&define(function(){return t.exports}),"undefined"!=typeof window&&(window.filterXSS=t.exports)},{"./default":1,"./parser":3,"./xss":4}],3:[function(e,t,n){function r(e){var t=e.indexOf(" ");if(-1===t)var n=e.slice(1,-1);else var n=e.slice(1,t+1);return n=n.trim().toLowerCase(),"/"===n[0]&&(n=n.slice(1)),"/"===n[n.length-1]&&(n=n.slice(0,-1)),n}function o(e){return"</"===e.slice(0,2)}function a(e,t,n){"user strict";var a="",i=0,s=!1,l=!1,c=0,u=e.length,d="",f="";for(c=0;u>c;c++){var p=e.charAt(c);if(s===!1){if("<"===p){s=c;continue}}else if(l===!1){if("<"===p){a+=n(e.slice(i,c)),s=c,i=c;continue}if(">"===p){a+=n(e.slice(i,s)),d=e.slice(s,c+1),f=r(d),a+=t(s,a.length,f,d,o(d)),i=c+1,s=!1;continue}if('"'===p||"'"===p){l=p;continue}}else if(p===l){l=!1;continue}}return i<e.length&&(a+=n(e.substr(i))),a}function i(e,t){"user strict";function n(e,n){e=e.trim(),e=e.replace(s,"").toLowerCase(),e.length<1||o.push(t(e,n||""))}for(var r=0,o=[],a=!1,i=e.length,l=0;i>l;l++){var c,u=e.charAt(l);if(a!==!1||"="!==u)if(a===!1||l!==r||'"'!==u&&"'"!==u)" "!==u||(c=e.slice(r,l).trim(),a===!1?n(c):n(a,c),a=!1,r=l+1);else{var d=e.indexOf(u,l+1);if(-1===d)break;c=e.slice(r+1,d).trim(),n(a,c),a=!1,l=d,r=l+1}else a=e.slice(r,l),r=l+1}return r<e.length&&(a===!1?n(e.slice(r)):n(a,e.slice(r))),o.join(" ").trim()}var s=/[^a-zA-Z0-9_:\.\-]/gim;n.parseTag=a,n.parseAttr=i},{}],4:[function(e,t,n){function r(e){return void 0===e||null===e}function o(e){var t=e.indexOf(" ");if(-1===t)return{html:"",closing:"/"===e[e.length-2]};e=e.slice(t+1,-1).trim();var n="/"===e[e.length-1];return n&&(e=e.slice(0,-1).trim()),{html:e,closing:n}}function a(e){e=e||{},e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=i.onIgnoreTagStripAll),e.whiteList=e.whiteList||i.whiteList,e.onTag=e.onTag||i.onTag,e.onTagAttr=e.onTagAttr||i.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||i.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||i.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||i.safeAttrValue,e.escapeHtml=e.escapeHtml||i.escapeHtml,this.options=e}var i=e("./default"),s=e("./parser"),l=s.parseTag,c=s.parseAttr;a.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,a=n.whiteList,s=n.onTag,u=n.onIgnoreTag,d=n.onTagAttr,f=n.onIgnoreTagAttr,p=n.safeAttrValue,h=n.escapeHtml;if(n.stripBlankChar&&(e=i.stripBlankChar(e)),n.allowCommentTag||(e=i.stripCommentTag(e)),n.stripIgnoreTagBody){var v=i.StripTagBody(n.stripIgnoreTagBody,u);u=v.onIgnoreTag}else v=!1;var g=l(e,function(e,t,n,i,l){var v={sourcePosition:e,position:t,isClosing:l,isWhite:n in a},g=s(n,i,v);if(!r(g))return g;if(v.isWhite){if(v.isClosing)return"</"+n+">";var m=o(i),y=a[n],b=c(m.html,function(e,t){var o=-1!==y.indexOf(e),a=d(n,e,t,o);if(!r(a))return a;if(o)return t=p(n,e,t),t?e+'="'+t+'"':e;var a=f(n,e,t,o);return r(a)?void 0:a}),i="<"+n;return b&&(i+=" "+b),m.closing&&(i+=" /"),i+=">"}var g=u(n,i,v);return r(g)?h(i):g},h);return v&&(g=v.remove(g)),g},t.exports=a},{"./default":1,"./parser":3}]},{},[2]),function(e){"use strict";function t(e){return e.replace(/,/g,".").replace(/[^0-9\.]/g,"")}function n(e){return parseFloat(t(e))>=10}var r,o={bridge:null,version:"0.0.0",disabled:null,outdated:null,ready:null},a={},i=0,s={},l=0,c={},u=null,d=null,f=function(){var e,t,n,r,o="ZeroClipboard.swf";if(document.currentScript&&(r=document.currentScript.src));else{var a=document.getElementsByTagName("script");if("readyState"in a[0])for(e=a.length;e--&&("interactive"!==a[e].readyState||!(r=a[e].src)););else if("loading"===document.readyState)r=a[a.length-1].src;else{for(e=a.length;e--;){if(n=a[e].src,!n){t=null;break}if(n=n.split("#")[0].split("?")[0],n=n.slice(0,n.lastIndexOf("/")+1),null==t)t=n;else if(t!==n){t=null;break}}null!==t&&(r=t)}}return r&&(r=r.split("#")[0].split("?")[0],o=r.slice(0,r.lastIndexOf("/")+1)+o),o}(),p=function(){var e=/\-([a-z])/g,t=function(e,t){return t.toUpperCase()};return function(n){return n.replace(e,t)}}(),h=function(t,n){var r,o,a;return e.getComputedStyle?r=e.getComputedStyle(t,null).getPropertyValue(n):(o=p(n),r=t.currentStyle?t.currentStyle[o]:t.style[o]),"cursor"!==n||r&&"auto"!==r||(a=t.tagName.toLowerCase(),"a"!==a)?r:"pointer"},v=function(t){t||(t=e.event);var n;this!==e?n=this:t.target?n=t.target:t.srcElement&&(n=t.srcElement),j.activate(n)},g=function(e,t,n){e&&1===e.nodeType&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n))},m=function(e,t,n){e&&1===e.nodeType&&(e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n))},y=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)||e.classList.add(t),e;if(t&&"string"==typeof t){var n=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var r=" "+e.className+" ",o=e.className,a=0,i=n.length;i>a;a++)r.indexOf(" "+n[a]+" ")<0&&(o+=" "+n[a]);e.className=o.replace(/^\s+|\s+$/g,"")}else e.className=t}return e},b=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)&&e.classList.remove(t),e;if(t&&"string"==typeof t||void 0===t){var n=(t||"").split(/\s+/);if(1===e.nodeType&&e.className)if(t){for(var r=(" "+e.className+" ").replace(/[\n\t]/g," "),o=0,a=n.length;a>o;o++)r=r.replace(" "+n[o]+" "," ");e.className=r.replace(/^\s+|\s+$/g,"")}else e.className=""}return e},C=function(){var e,t,n,r=1;return"function"==typeof document.body.getBoundingClientRect&&(e=document.body.getBoundingClientRect(),t=e.right-e.left,n=document.body.offsetWidth,r=Math.round(t/n*100)/100),r},x=function(t,n){var r={left:0,top:0,width:0,height:0,zIndex:S(n)-1};if(t.getBoundingClientRect){var o,a,i,s=t.getBoundingClientRect();"pageXOffset"in e&&"pageYOffset"in e?(o=e.pageXOffset,a=e.pageYOffset):(i=C(),o=Math.round(document.documentElement.scrollLeft/i),a=Math.round(document.documentElement.scrollTop/i));var l=document.documentElement.clientLeft||0,c=document.documentElement.clientTop||0;r.left=s.left+o-l,r.top=s.top+a-c,r.width="width"in s?s.width:s.right-s.left,r.height="height"in s?s.height:s.bottom-s.top}return r},N=function(e,t){var n=null==t||t&&t.cacheBust===!0&&t.useNoCache===!0;return n?(-1===e.indexOf("?")?"?":"&")+"noCache="+(new Date).getTime():""},w=function(t){var n,r,o,a=[],i=[],s=[];if(t.trustedOrigins&&("string"==typeof t.trustedOrigins?i.push(t.trustedOrigins):"object"==typeof t.trustedOrigins&&"length"in t.trustedOrigins&&(i=i.concat(t.trustedOrigins))),t.trustedDomains&&("string"==typeof t.trustedDomains?i.push(t.trustedDomains):"object"==typeof t.trustedDomains&&"length"in t.trustedDomains&&(i=i.concat(t.trustedDomains))),i.length)for(n=0,r=i.length;r>n;n++)if(i.hasOwnProperty(n)&&i[n]&&"string"==typeof i[n]){if(o=I(i[n]),!o)continue;if("*"===o){s=[o];break}s.push.apply(s,[o,"//"+o,e.location.protocol+"//"+o])}return s.length&&a.push("trustedOrigins="+encodeURIComponent(s.join(","))),"string"==typeof t.jsModuleId&&t.jsModuleId&&a.push("jsModuleId="+encodeURIComponent(t.jsModuleId)),a.join("&")},T=function(e,t,n){if("function"==typeof t.indexOf)return t.indexOf(e,n);var r,o=t.length;for("undefined"==typeof n?n=0:0>n&&(n=o+n),r=n;o>r;r++)if(t.hasOwnProperty(r)&&t[r]===e)return r;return-1},k=function(e){if("string"==typeof e)throw new TypeError("ZeroClipboard doesn't accept query strings.");return e.length?e:[e]},E=function(t,n,r,o){o?e.setTimeout(function(){t.apply(n,r)},0):t.apply(n,r)},S=function(e){var t,n;return e&&("number"==typeof e&&e>0?t=e:"string"==typeof e&&(n=parseInt(e,10))&&!isNaN(n)&&n>0&&(t=n)),t||("number"==typeof H.zIndex&&H.zIndex>0?t=H.zIndex:"string"==typeof H.zIndex&&(n=parseInt(H.zIndex,10))&&!isNaN(n)&&n>0&&(t=n)),t||0},O=function(e,t){if(e&&t!==!1&&"undefined"!=typeof console&&console&&(console.warn||console.log)){console.warn}},A=function(){var e,t,n,r,o,a,i=arguments[0]||{};for(e=1,t=arguments.length;t>e;e++)if(null!=(n=arguments[e]))for(r in n)if(n.hasOwnProperty(r)){if(o=i[r],a=n[r],i===a)continue;void 0!==a&&(i[r]=a)}return i},I=function(e){if(null==e||""===e)return null;if(e=e.replace(/^\s+|\s+$/g,""),""===e)return null;var t=e.indexOf("//");e=-1===t?e:e.slice(t+2);var n=e.indexOf("/");return e=-1===n?e:-1===t||0===n?null:e.slice(0,n),e&&".swf"===e.slice(-4).toLowerCase()?null:e||null},L=function(){var e=function(e,t){var n,r,o;if(null!=e&&"*"!==t[0]&&("string"==typeof e&&(e=[e]),"object"==typeof e&&"length"in e))for(n=0,r=e.length;r>n;n++)if(e.hasOwnProperty(n)&&(o=I(e[n]))){if("*"===o){t.length=0,t.push("*");break}-1===T(o,t)&&t.push(o)}},t={always:"always",samedomain:"sameDomain",never:"never"};return function(n,r){var o,a=r.allowScriptAccess;if("string"==typeof a&&(o=a.toLowerCase())&&/^always|samedomain|never$/.test(o))return t[o];var i=I(r.moviePath);null===i&&(i=n);var s=[];e(r.trustedOrigins,s),e(r.trustedDomains,s);var l=s.length;if(l>0){if(1===l&&"*"===s[0])return"always";if(-1!==T(n,s))return 1===l&&n===i?"sameDomain":"always"}return"never"}}(),D=function(e){if(null==e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},_=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&delete e[t];return e},P=function(){try{return document.activeElement}catch(e){}return null},M=function(){var e=!1;if("boolean"==typeof o.disabled)e=o.disabled===!1;else{if("function"==typeof ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(t){}!e&&navigator.mimeTypes["application/x-shockwave-flash"]&&(e=!0)}return e},j=function(e,t){return this instanceof j?(this.id=""+i++,s[this.id]={instance:this,elements:[],handlers:{}},e&&this.clip(e),"undefined"!=typeof t&&(O("new ZeroClipboard(elements, options)",H.debug),j.config(t)),this.options=j.config(),"boolean"!=typeof o.disabled&&(o.disabled=!M()),void(o.disabled===!1&&o.outdated!==!0&&null===o.bridge&&(o.outdated=!1,o.ready=!1,F()))):new j(e,t)};j.prototype.setText=function(e){return e&&""!==e&&(a["text/plain"]=e,o.ready===!0&&o.bridge&&"function"==typeof o.bridge.setText?o.bridge.setText(e):o.ready=!1),
this},j.prototype.setSize=function(e,t){return o.ready===!0&&o.bridge&&"function"==typeof o.bridge.setSize?o.bridge.setSize(e,t):o.ready=!1,this};var $=function(e){o.ready===!0&&o.bridge&&"function"==typeof o.bridge.setHandCursor?o.bridge.setHandCursor(e):o.ready=!1};j.prototype.destroy=function(){this.unclip(),this.off(),delete s[this.id]};var R=function(){var e,t,n,r=[],o=D(s);for(e=0,t=o.length;t>e;e++)n=s[o[e]].instance,n&&n instanceof j&&r.push(n);return r};j.version="1.3.5";var H={swfPath:f,trustedDomains:e.location.host?[e.location.host]:[],cacheBust:!0,forceHandCursor:!1,zIndex:999999999,debug:!0,title:null,autoActivate:!0};j.config=function(e){"object"==typeof e&&null!==e&&A(H,e);{if("string"!=typeof e||!e){var t={};for(var n in H)H.hasOwnProperty(n)&&(t[n]="object"==typeof H[n]&&null!==H[n]?"length"in H[n]?H[n].slice(0):A({},H[n]):H[n]);return t}if(H.hasOwnProperty(e))return H[e]}},j.destroy=function(){j.deactivate();for(var e in s)if(s.hasOwnProperty(e)&&s[e]){var t=s[e].instance;t&&"function"==typeof t.destroy&&t.destroy()}var n=B(o.bridge);n&&n.parentNode&&(n.parentNode.removeChild(n),o.ready=null,o.bridge=null)},j.activate=function(e){r&&(b(r,H.hoverClass),b(r,H.activeClass)),r=e,y(e,H.hoverClass),z();var t=H.title||e.getAttribute("title");if(t){var n=B(o.bridge);n&&n.setAttribute("title",t)}var a=H.forceHandCursor===!0||"pointer"===h(e,"cursor");$(a)},j.deactivate=function(){var e=B(o.bridge);e&&(e.style.left="0px",e.style.top="-9999px",e.removeAttribute("title")),r&&(b(r,H.hoverClass),b(r,H.activeClass),r=null)};var F=function(){var t,n,r=document.getElementById("global-zeroclipboard-html-bridge");if(!r){var a=j.config();a.jsModuleId="string"==typeof u&&u||"string"==typeof d&&d||null;var i=L(e.location.host,H),s=w(a),l=H.moviePath+N(H.moviePath,H),c='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+l+'"/>         <param name="allowScriptAccess" value="'+i+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+s+'"/>         <embed src="'+l+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="'+i+'"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+s+'"           scale="exactfit">         </embed>       </object>';r=document.createElement("div"),r.id="global-zeroclipboard-html-bridge",r.setAttribute("class","global-zeroclipboard-container"),r.style.position="absolute",r.style.left="0px",r.style.top="-9999px",r.style.width="15px",r.style.height="15px",r.style.zIndex=""+S(H.zIndex),document.body.appendChild(r),r.innerHTML=c}t=document["global-zeroclipboard-flash-bridge"],t&&(n=t.length)&&(t=t[n-1]),o.bridge=t||r.children[0].lastElementChild},B=function(e){for(var t=/^OBJECT|EMBED$/,n=e&&e.parentNode;n&&t.test(n.nodeName)&&n.parentNode;)n=n.parentNode;return n||null},z=function(){if(r){var e=x(r,H.zIndex),t=B(o.bridge);t&&(t.style.top=e.top+"px",t.style.left=e.left+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.zIndex=e.zIndex+1),o.ready===!0&&o.bridge&&"function"==typeof o.bridge.setSize?o.bridge.setSize(e.width,e.height):o.ready=!1}return this};j.prototype.on=function(e,t){var n,r,a,i={},l=s[this.id]&&s[this.id].handlers;if("string"==typeof e&&e)a=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)e.hasOwnProperty(n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.on(n,e[n]);if(a&&a.length){for(n=0,r=a.length;r>n;n++)e=a[n].replace(/^on/,""),i[e]=!0,l[e]||(l[e]=[]),l[e].push(t);i.noflash&&o.disabled&&W.call(this,"noflash",{}),i.wrongflash&&o.outdated&&W.call(this,"wrongflash",{flashVersion:o.version}),i.load&&o.ready&&W.call(this,"load",{flashVersion:o.version})}return this},j.prototype.off=function(e,t){var n,r,o,a,i,l=s[this.id]&&s[this.id].handlers;if(0===arguments.length)a=D(l);else if("string"==typeof e&&e)a=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)e.hasOwnProperty(n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.off(n,e[n]);if(a&&a.length)for(n=0,r=a.length;r>n;n++)if(e=a[n].toLowerCase().replace(/^on/,""),i=l[e],i&&i.length)if(t)for(o=T(t,i);-1!==o;)i.splice(o,1),o=T(t,i,o);else l[e].length=0;return this},j.prototype.handlers=function(e){var t,n=null,r=s[this.id]&&s[this.id].handlers;if(r){if("string"==typeof e&&e)return r[e]?r[e].slice(0):null;n={};for(t in r)r.hasOwnProperty(t)&&r[t]&&(n[t]=r[t].slice(0))}return n};var U=function(t,n,r,o){var a=s[this.id]&&s[this.id].handlers[t];if(a&&a.length){var i,l,c,u=n||this;for(i=0,l=a.length;l>i;i++)c=a[i],n=u,"string"==typeof c&&"function"==typeof e[c]&&(c=e[c]),"object"==typeof c&&c&&"function"==typeof c.handleEvent&&(n=c,c=c.handleEvent),"function"==typeof c&&E(c,n,r,o)}return this};j.prototype.clip=function(e){e=k(e);for(var t=0;t<e.length;t++)if(e.hasOwnProperty(t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===T(this.id,c[e[t].zcClippingId])&&c[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+l++,c[e[t].zcClippingId]=[this.id],H.autoActivate===!0&&g(e[t],"mouseover",v));var n=s[this.id].elements;-1===T(e[t],n)&&n.push(e[t])}return this},j.prototype.unclip=function(e){var t=s[this.id];if(t){var n,r=t.elements;e="undefined"==typeof e?r.slice(0):k(e);for(var o=e.length;o--;)if(e.hasOwnProperty(o)&&e[o]&&1===e[o].nodeType){for(n=0;-1!==(n=T(e[o],r,n));)r.splice(n,1);var a=c[e[o].zcClippingId];if(a){for(n=0;-1!==(n=T(this.id,a,n));)a.splice(n,1);0===a.length&&(H.autoActivate===!0&&m(e[o],"mouseover",v),delete e[o].zcClippingId)}}}return this},j.prototype.elements=function(){var e=s[this.id];return e&&e.elements?e.elements.slice(0):[]};var q=function(e){var t,n,r,o,a,i=[];if(e&&1===e.nodeType&&(t=e.zcClippingId)&&c.hasOwnProperty(t)&&(n=c[t],n&&n.length))for(r=0,o=n.length;o>r;r++)a=s[n[r]].instance,a&&a instanceof j&&i.push(a);return i};H.hoverClass="zeroclipboard-is-hover",H.activeClass="zeroclipboard-is-active",H.trustedOrigins=null,H.allowScriptAccess=null,H.useNoCache=!0,H.moviePath="ZeroClipboard.swf",j.detectFlashSupport=function(){return O("ZeroClipboard.detectFlashSupport",H.debug),M()},j.dispatch=function(e,t){if("string"==typeof e&&e){var n=e.toLowerCase().replace(/^on/,"");if(n)for(var o=r&&H.autoActivate===!0?q(r):R(),a=0,i=o.length;i>a;a++)W.call(o[a],n,t)}},j.prototype.setHandCursor=function(e){return O("ZeroClipboard.prototype.setHandCursor",H.debug),e="boolean"==typeof e?e:!!e,$(e),H.forceHandCursor=e,this},j.prototype.reposition=function(){return O("ZeroClipboard.prototype.reposition",H.debug),z()},j.prototype.receiveEvent=function(e,t){if(O("ZeroClipboard.prototype.receiveEvent",H.debug),"string"==typeof e&&e){var n=e.toLowerCase().replace(/^on/,"");n&&W.call(this,n,t)}},j.prototype.setCurrent=function(e){return O("ZeroClipboard.prototype.setCurrent",H.debug),j.activate(e),this},j.prototype.resetBridge=function(){return O("ZeroClipboard.prototype.resetBridge",H.debug),j.deactivate(),this},j.prototype.setTitle=function(e){if(O("ZeroClipboard.prototype.setTitle",H.debug),e=e||H.title||r&&r.getAttribute("title")){var t=B(o.bridge);t&&t.setAttribute("title",e)}return this},j.setDefaults=function(e){O("ZeroClipboard.setDefaults",H.debug),j.config(e)},j.prototype.addEventListener=function(e,t){return O("ZeroClipboard.prototype.addEventListener",H.debug),this.on(e,t)},j.prototype.removeEventListener=function(e,t){return O("ZeroClipboard.prototype.removeEventListener",H.debug),this.off(e,t)},j.prototype.ready=function(){return O("ZeroClipboard.prototype.ready",H.debug),o.ready===!0};var W=function(e,i){e=e.toLowerCase().replace(/^on/,"");var s=i&&i.flashVersion&&t(i.flashVersion)||null,l=r,c=!0;switch(e){case"load":if(s){if(!n(s))return void W.call(this,"onWrongFlash",{flashVersion:s});o.outdated=!1,o.ready=!0,o.version=s}break;case"wrongflash":s&&!n(s)&&(o.outdated=!0,o.ready=!1,o.version=s);break;case"mouseover":y(l,H.hoverClass);break;case"mouseout":H.autoActivate===!0&&j.deactivate();break;case"mousedown":y(l,H.activeClass);break;case"mouseup":b(l,H.activeClass);break;case"datarequested":if(l){var u=l.getAttribute("data-clipboard-target"),d=u?document.getElementById(u):null;if(d){var f=d.value||d.textContent||d.innerText;f&&this.setText(f)}else{var p=l.getAttribute("data-clipboard-text");p&&this.setText(p)}}c=!1;break;case"complete":_(a),l&&l!==P()&&l.focus&&l.focus()}var h=l,v=[this,i];return U.call(this,e,h,v,c)};"function"==typeof define&&define.amd?define(["require","exports","module"],function(e,t,n){return u=n&&n.id||null,j}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports&&"function"==typeof e.require?(d=module.id||null,module.exports=j):e.ZeroClipboard=j}(function(){return this}()),function(){wizUI.Clipboard=function(e,t,n){var r,o,a;e.get(0)._clipboardInit||(e.get(0)._clipboardInit=!0,window.clipboardData?e.on(wizUI.event.click,function(){a=$("#"+e.attr("data-clipboard-target")),window.clipboardData.setData("Text",a.val()),n()}):(o=new ZeroClipboard(e,{moviePath:t.moviePath}),o.on("load",function(e){e.on("complete",function(e,t){n()})}),o.on("noFlash",function(t){r=new Error,r.message="Your browser has no Flash.",e.on(wizUI.event.click,function(){n(r)})}),o.on("wrongFlash",function(t,o){r=new Error,r.message="Flash 10.0.0+ is required but you are running Flash "+o.flashVersion.replace(/,/g,"."),e.on(wizUI.event.click,function(){n(r)})})))}}(),function(e,t){"use strict";"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.returnExports=t()}(this,function(){function e(e){var t=typeof e;return null===e||"undefined"===t||"boolean"===t||"number"===t||"string"===t}var t,n=Array.prototype,r=Object.prototype,o=Function.prototype,a=String.prototype,i=Number.prototype,s=n.slice,l=n.splice,c=n.push,u=n.unshift,d=o.call,f=r.toString,p=Array.isArray||function(e){return"[object Array]"===f.call(e)},h="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,v=Function.prototype.toString,g=function(e){try{return v.call(e),!0}catch(t){return!1}},m="[object Function]",y="[object GeneratorFunction]";t=function(e){if("function"!=typeof e)return!1;if(h)return g(e);var t=f.call(e);return t===m||t===y};var b,C=RegExp.prototype.exec,x=function(e){try{return C.call(e),!0}catch(t){return!1}},N="[object RegExp]";b=function(e){return"object"!=typeof e?!1:h?x(e):f.call(e)===N};var w,T=String.prototype.valueOf,k=function(e){try{return T.call(e),!0}catch(t){return!1}},E="[object String]";w=function(e){return"string"==typeof e?!0:"object"!=typeof e?!1:h?k(e):f.call(e)===E};var S=function(e){var n=f.call(e),r="[object Arguments]"===n;return r||(r=!p(e)&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&t(e.callee)),r},O=function(e){var t,n=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}();return t=n?function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,r){!r&&t in e||(e[t]=n)},function(n,r,o){for(var a in r)e.call(r,a)&&t(n,a,r[a],o)}}(r.hasOwnProperty),A={ToInteger:function(e){var t=+e;return t!==t?t=0:0!==t&&t!==1/0&&t!==-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t},ToPrimitive:function(n){var r,o,a;if(e(n))return n;if(o=n.valueOf,t(o)&&(r=o.call(n),e(r)))return r;if(a=n.toString,t(a)&&(r=a.call(n),e(r)))return r;throw new TypeError},ToObject:function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)},ToUint32:function(e){return e>>>0}},I=function(){};O(o,{bind:function(e){var n=this;if(!t(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r,o=s.call(arguments,1),a=function(){if(this instanceof r){var t=n.apply(this,o.concat(s.call(arguments)));return Object(t)===t?t:this}return n.apply(e,o.concat(s.call(arguments)))},i=Math.max(0,n.length-o.length),l=[],c=0;i>c;c++)l.push("$"+c);return r=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this, arguments); }")(a),n.prototype&&(I.prototype=n.prototype,r.prototype=new I,I.prototype=null),r}});var L=d.bind(r.hasOwnProperty),D=function(){var e=[1,2],t=e.splice();return 2===e.length&&p(t)&&0===t.length}();O(n,{splice:function(e,t){return 0===arguments.length?[]:l.apply(this,arguments)}},!D);var _=function(){var e={};return n.splice.call(e,0,0,1),1===e.length}();O(n,{splice:function(e,t){if(0===arguments.length)return[];var n=arguments;return this.length=Math.max(A.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof t&&(n=s.call(arguments),n.length<2?n.push(this.length-e):n[1]=A.ToInteger(t)),l.apply(this,n)}},!_);var P=1!==[].unshift(0);O(n,{unshift:function(){return u.apply(this,arguments),this.length}},P),O(Array,{isArray:p});var M=Object("a"),j="a"!==M[0]||!(0 in M),$=function(e){var t=!0,n=!0;return e&&(e.call("foo",function(e,n,r){"object"!=typeof r&&(t=!1)}),e.call([1],function(){"use strict";n="string"==typeof this},"x")),!!e&&t&&n};O(n,{forEach:function(e){var n=A.ToObject(this),r=j&&w(this)?this.split(""):n,o=arguments[1],a=-1,i=r.length>>>0;if(!t(e))throw new TypeError;for(;++a<i;)a in r&&e.call(o,r[a],a,n)}},!$(n.forEach)),O(n,{map:function(e){var n=A.ToObject(this),r=j&&w(this)?this.split(""):n,o=r.length>>>0,a=Array(o),i=arguments[1];if(!t(e))throw new TypeError(e+" is not a function");for(var s=0;o>s;s++)s in r&&(a[s]=e.call(i,r[s],s,n));return a}},!$(n.map)),O(n,{filter:function(e){var n,r=A.ToObject(this),o=j&&w(this)?this.split(""):r,a=o.length>>>0,i=[],s=arguments[1];if(!t(e))throw new TypeError(e+" is not a function");for(var l=0;a>l;l++)l in o&&(n=o[l],e.call(s,n,l,r)&&i.push(n));return i}},!$(n.filter)),O(n,{every:function(e){var n=A.ToObject(this),r=j&&w(this)?this.split(""):n,o=r.length>>>0,a=arguments[1];if(!t(e))throw new TypeError(e+" is not a function");for(var i=0;o>i;i++)if(i in r&&!e.call(a,r[i],i,n))return!1;return!0}},!$(n.every)),O(n,{some:function(e){var n=A.ToObject(this),r=j&&w(this)?this.split(""):n,o=r.length>>>0,a=arguments[1];if(!t(e))throw new TypeError(e+" is not a function");for(var i=0;o>i;i++)if(i in r&&e.call(a,r[i],i,n))return!0;return!1}},!$(n.some));var R=!1;n.reduce&&(R="object"==typeof n.reduce.call("es5",function(e,t,n,r){return r})),O(n,{reduce:function(e){var n=A.ToObject(this),r=j&&w(this)?this.split(""):n,o=r.length>>>0;if(!t(e))throw new TypeError(e+" is not a function");if(!o&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var a,i=0;if(arguments.length>=2)a=arguments[1];else for(;;){if(i in r){a=r[i++];break}if(++i>=o)throw new TypeError("reduce of empty array with no initial value")}for(;o>i;i++)i in r&&(a=e.call(void 0,a,r[i],i,n));return a}},!R);var H=!1;n.reduceRight&&(H="object"==typeof n.reduceRight.call("es5",function(e,t,n,r){return r})),O(n,{reduceRight:function(e){var n=A.ToObject(this),r=j&&w(this)?this.split(""):n,o=r.length>>>0;if(!t(e))throw new TypeError(e+" is not a function");if(!o&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var a,i=o-1;if(arguments.length>=2)a=arguments[1];else for(;;){if(i in r){a=r[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>i)return a;do i in r&&(a=e.call(void 0,a,r[i],i,n));while(i--);return a}},!H);var F=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);O(n,{indexOf:function(e){var t=j&&w(this)?this.split(""):A.ToObject(this),n=t.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=A.ToInteger(arguments[1])),r=r>=0?r:Math.max(0,n+r);n>r;r++)if(r in t&&t[r]===e)return r;return-1}},F);var B=Array.prototype.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);O(n,{lastIndexOf:function(e){var t=j&&w(this)?this.split(""):A.ToObject(this),n=t.length>>>0;if(!n)return-1;var r=n-1;for(arguments.length>1&&(r=Math.min(r,A.ToInteger(arguments[1]))),r=r>=0?r:n-Math.abs(r);r>=0;r--)if(r in t&&e===t[r])return r;return-1}},B);var z=!{toString:null}.propertyIsEnumerable("toString"),U=function(){}.propertyIsEnumerable("prototype"),q=!L("x","0"),W=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Y=W.length;O(Object,{keys:function(e){var n=t(e),r=S(e),o=null!==e&&"object"==typeof e,a=o&&w(e);if(!o&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var i=[],s=U&&n;if(a&&q||r)for(var l=0;l<e.length;++l)i.push(String(l));if(!r)for(var c in e)s&&"prototype"===c||!L(e,c)||i.push(String(c));if(z)for(var u=e.constructor,d=u&&u.prototype===e,f=0;Y>f;f++){var p=W[f];d&&"constructor"===p||!L(e,p)||i.push(p)}return i}});var V=Object.keys&&function(){return 2===Object.keys(arguments).length}(1,2),X=Object.keys;O(Object,{keys:function(e){return X(S(e)?n.slice.call(e):e)}},!V);var K=-621987552e5,Z="-000001",G=Date.prototype.toISOString&&-1===new Date(K).toISOString().indexOf(Z);O(Date.prototype,{toISOString:function(){var e,t,n,r,o;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(r=this.getUTCFullYear(),o=this.getUTCMonth(),r+=Math.floor(o/12),o=(o%12+12)%12,e=[o+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],r=(0>r?"-":r>9999?"+":"")+("00000"+Math.abs(r)).slice(r>=0&&9999>=r?-4:-6),t=e.length;t--;)n=e[t],10>n&&(e[t]="0"+n);return r+"-"+e.slice(0,2).join("-")+"T"+e.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"}},G);var J=!1;try{J=Date.prototype.toJSON&&null===new Date(0/0).toJSON()&&-1!==new Date(K).toJSON().indexOf(Z)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(Q){}J||(Date.prototype.toJSON=function(e){var t,n=Object(this),r=A.ToPrimitive(n);if("number"==typeof r&&!isFinite(r))return null;if(t=n.toISOString,"function"!=typeof t)throw new TypeError("toISOString property is not callable");return t.call(n)});var ee=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),te=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z")),ne=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));(!Date.parse||ne||te||!ee)&&(Date=function(e){function t(n,r,o,a,i,s,l){var c=arguments.length;if(this instanceof e){var u=1===c&&String(n)===n?new e(t.parse(n)):c>=7?new e(n,r,o,a,i,s,l):c>=6?new e(n,r,o,a,i,s):c>=5?new e(n,r,o,a,i):c>=4?new e(n,r,o,a):c>=3?new e(n,r,o):c>=2?new e(n,r):c>=1?new e(n):new e;return u.constructor=t,u}return e.apply(this,arguments)}function n(e,t){var n=t>1?1:0;return a[t]+Math.floor((e-1969+n)/4)-Math.floor((e-1901+n)/100)+Math.floor((e-1601+n)/400)+365*(e-1970)}function r(t){return Number(new e(1970,0,1,0,0,0,t))}var o=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),a=[0,31,59,90,120,151,181,212,243,273,304,334,365];for(var i in e)t[i]=e[i];return t.now=e.now,t.UTC=e.UTC,t.prototype=e.prototype,t.prototype.constructor=t,t.parse=function(t){var a=o.exec(t);if(a){var i,s=Number(a[1]),l=Number(a[2]||1)-1,c=Number(a[3]||1)-1,u=Number(a[4]||0),d=Number(a[5]||0),f=Number(a[6]||0),p=Math.floor(1e3*Number(a[7]||0)),h=Boolean(a[4]&&!a[8]),v="-"===a[9]?1:-1,g=Number(a[10]||0),m=Number(a[11]||0);return(d>0||f>0||p>0?24:25)>u&&60>d&&60>f&&1e3>p&&l>-1&&12>l&&24>g&&60>m&&c>-1&&c<n(s,l+1)-n(s,l)&&(i=60*(24*(n(s,l)+c)+u+g*v),i=1e3*(60*(i+d+m*v)+f)+p,h&&(i=r(i)),i>=-864e13&&864e13>=i)?i:0/0}return e.parse.apply(this,arguments)},t}(Date)),Date.now||(Date.now=function(){return(new Date).getTime()});var re=i.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0)),oe={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(e,t){for(var n=-1;++n<oe.size;)t+=e*oe.data[n],oe.data[n]=t%oe.base,t=Math.floor(t/oe.base)},divide:function(e){for(var t=oe.size,n=0;--t>=0;)n+=oe.data[t],oe.data[t]=Math.floor(n/e),n=n%e*oe.base},numToString:function(){for(var e=oe.size,t="";--e>=0;)if(""!==t||0===e||0!==oe.data[e]){var n=String(oe.data[e]);""===t?t=n:t+="0000000".slice(0,7-n.length)+n}return t},pow:function ge(e,t,n){return 0===t?n:t%2===1?ge(e,t-1,n*e):ge(e*e,t/2,n)},log:function(e){for(var t=0;e>=4096;)t+=12,e/=4096;for(;e>=2;)t+=1,e/=2;return t}};O(i,{toFixed:function(e){var t,n,r,o,a,i,s,l;if(t=Number(e),t=t!==t?0:Math.floor(t),0>t||t>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(n=Number(this),n!==n)return"NaN";if(-1e21>=n||n>=1e21)return String(n);if(r="",0>n&&(r="-",n=-n),o="0",n>1e-21)if(a=oe.log(n*oe.pow(2,69,1))-69,i=0>a?n*oe.pow(2,-a,1):n/oe.pow(2,a,1),i*=4503599627370496,a=52-a,a>0){for(oe.multiply(0,i),s=t;s>=7;)oe.multiply(1e7,0),s-=7;for(oe.multiply(oe.pow(10,s,1),0),s=a-1;s>=23;)oe.divide(1<<23),s-=23;oe.divide(1<<s),oe.multiply(1,1),oe.divide(2),o=oe.numToString()}else oe.multiply(0,i),oe.multiply(1<<-a,0),o=oe.numToString()+"0.00000000000000000000".slice(2,2+t);return t>0?(l=o.length,o=t>=l?r+"0.0000000000000000000".slice(0,t-l+2)+o:r+o.slice(0,l-t)+"."+o.slice(l-t)):o=r+o,o}},re);var ae=a.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var e="undefined"==typeof/()??/.exec("")[1];a.split=function(t,n){var r=this;if("undefined"==typeof t&&0===n)return[];if(!b(t))return ae.call(this,t,n);var o,a,i,s,l=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),d=0;for(t=new RegExp(t.source,u+"g"),r+="",e||(o=new RegExp("^"+t.source+"$(?!\\s)",u)),n="undefined"==typeof n?-1>>>0:A.ToUint32(n),a=t.exec(r);a&&(i=a.index+a[0].length,!(i>d&&(l.push(r.slice(d,a.index)),!e&&a.length>1&&a[0].replace(o,function(){for(var e=1;e<arguments.length-2;e++)"undefined"==typeof arguments[e]&&(a[e]=void 0)}),a.length>1&&a.index<r.length&&c.apply(l,a.slice(1)),s=a[0].length,d=i,l.length>=n)));)t.lastIndex===a.index&&t.lastIndex++,a=t.exec(r);return d===r.length?(s||!t.test(""))&&l.push(""):l.push(r.slice(d)),l.length>n?l.slice(0,n):l}}():"0".split(void 0,0).length&&(a.split=function(e,t){return"undefined"==typeof e&&0===t?[]:ae.call(this,e,t)});var ie=a.replace,se=function(){var e=[];return"x".replace(/x(.)?/g,function(t,n){e.push(n)}),1===e.length&&"undefined"==typeof e[0]}();se||(a.replace=function(e,n){var r=t(n),o=b(e)&&/\)[*?]/.test(e.source);if(r&&o){var a=function(t){var r=arguments.length,o=e.lastIndex;e.lastIndex=0;var a=e.exec(t)||[];return e.lastIndex=o,a.push(arguments[r-2],arguments[r-1]),n.apply(this,a)};return ie.call(this,e,a)}return ie.call(this,e,n)});var le=a.substr,ce="".substr&&"b"!=="0b".substr(-1);O(a,{substr:function(e,t){return le.call(this,0>e&&(e=this.length+e)<0?0:e,t)}},ce);var ue="	\n\f\r   ᠎             　\u2028\u2029\ufeff",de="​",fe="["+ue+"]",pe=new RegExp("^"+fe+fe+"*"),he=new RegExp(fe+fe+"*$"),ve=a.trim&&(ue.trim()||!de.trim());O(a,{trim:function(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(pe,"").replace(he,"")}},ve),(8!==parseInt(ue+"08")||22!==parseInt(ue+"0x16"))&&(parseInt=function(e){var t=/^0[xX]/;return function(n,r){return n=String(n).trim(),Number(r)||(r=t.test(n)?16:10),e(n,r)}}(parseInt))});=^}Yt      UɭUɭ;vU_   B:http://note.wiznote.com/libs/common/wiz.framework.all.7f10878b.js necko:classified 1 request-method GET response-head HTTP/1.1 200 OK
Server: nginx
Date: Tue, 11 Aug 2015 08:10:05 GMT
Content-Type: application/x-javascript
Content-Length: 280652
Last-Modified: Mon, 10 Aug 2015 09:03:04 GMT
Etag: "55c868c8-4484c"
Accept-Ranges: bytes
 uncompressed-len 0  HL